/*!
Copyright (C) 2016-2018 Timofey Kachalov <sanex3339@yandex.ru>

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

  * Redistributions of source code must retain the above copyright
    notice, this list of conditions and the following disclaimer.
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the
    documentation and/or other materials provided with the distribution.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
ARE DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> BE LIABLE FOR ANY
DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/
require("source-map-support").install(),module.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=226)}([function(e,t){e.exports=require("@babel/runtime/helpers/interopRequireDefault")},function(e,t){e.exports=require("@babel/runtime/helpers/classCallCheck")},function(e,t){e.exports=require("inversify")},function(e,t){e.exports=require("@babel/runtime/helpers/createClass")},function(e,t){e.exports=require("tslib")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Factory__ICalleeDataExtractor="Factory<ICalleeDataExtractor>",e.Factory__IControlFlowCustomNode="Factory<IControlFlowCustomNode>",e.Factory__IControlFlowReplacer="Factory<IControlFlowReplacer>",e.Factory__ICustomNode="Factory<ICustomNode>",e.Factory__ICustomNodeGroup="Factory<ICustomNodeGroup>",e.Factory__IDeadCodeInjectionCustomNode="Factory<IDeadCodeInjectionCustomNode>",e.Factory__IIdentifierNamesGenerator="Factory<IIdentifierNamesGenerator>",e.Factory__IIdentifierObfuscatingReplacer="Factory<IIdentifierObfuscatingReplacer>",e.Factory__INodeGuard="Factory<INodeGuard>",e.Factory__INodeTransformer="Factory<INodeTransformer[]>",e.Factory__IObfuscatedCode="Factory<IObfuscatedCode>",e.Factory__IObfuscatingReplacer="Factory<IObfuscatingReplacer>",e.Factory__IPropertiesExtractor="Factory<IPropertiesExtractor>",e.Factory__TControlFlowStorage="Factory<TControlFlowStorage>",e.IArrayUtils="IArrayUtils",e.ICalleeDataExtractor="ICalleeDataExtractor",e.ICryptUtils="ICryptUtils",e.ICustomNode="ICustomNode",e.ICustomNodeGroup="ICustomNodeGroup",e.IControlFlowReplacer="IControlFlowReplacer",e.IEscapeSequenceEncoder="IEscapeSequenceEncoder",e.IIdentifierNamesGenerator="IIdentifierNamesGenerator",e.IIdentifierObfuscatingReplacer="IIdentifierObfuscatingReplacer",e.IJavaScriptObfuscator="IJavaScriptObfuscator",e.ILogger="ILogger",e.INodeGuard="INodeGuard",e.INodeTransformer="INodeTransformer",e.IObfuscationEventEmitter="IObfuscationEventEmitter",e.IObfuscatedCode="IObfuscatedCode",e.IOptions="IOptions",e.IOptionsNormalizer="IOptionsNormalizer",e.IObfuscatingReplacer="IObfuscatingReplacer",e.IPropertiesExtractor="IPropertiesExtractor",e.IRandomGenerator="IRandomGenerator",e.ISourceCode="ISourceCode",e.ISourceMapCorrector="ISourceMapCorrector",e.IStackTraceAnalyzer="IStackTraceAnalyzer",e.ITransformersRunner="ITransformersRunner",e.Newable__ICustomNode="Newable<ICustomNode>",e.Newable__TControlFlowStorage="Newable<TControlFlowStorage>",e.TCustomNodeGroupStorage="TCustomNodeGroupStorage",e.TInputOptions="TInputOptions",e.TStringArrayStorage="TStringArrayStorage"}(t.ServiceIdentifiers||(t.ServiceIdentifiers={}))},function(e,t){e.exports=require("@babel/runtime/helpers/inherits")},function(e,t){e.exports=require("@babel/runtime/helpers/getPrototypeOf")},function(e,t){e.exports=require("@babel/runtime/helpers/possibleConstructorReturn")},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3));Object.defineProperty(t,"__esModule",{value:!0});var i=r(23),s=function(){function e(){(0,o.default)(this,e)}return(0,a.default)(e,null,[{key:"isArrayPatternNode",value:function(e){return e.type===i.NodeType.ArrayPattern}},{key:"isArrowFunctionExpressionNode",value:function(e){return e.type===i.NodeType.ArrowFunctionExpression}},{key:"isAssignmentPatternNode",value:function(e){return e.type===i.NodeType.AssignmentPattern}},{key:"isAwaitExpressionNode",value:function(e){return e.type===i.NodeType.AwaitExpression}},{key:"isBlockStatementNode",value:function(e){return e.type===i.NodeType.BlockStatement}},{key:"isBreakStatementNode",value:function(e){return e.type===i.NodeType.BreakStatement}},{key:"isCallExpressionNode",value:function(e){return e.type===i.NodeType.CallExpression}},{key:"isCatchClauseNode",value:function(e){return e.type===i.NodeType.CatchClause}},{key:"isClassDeclarationNode",value:function(e){return e.type===i.NodeType.ClassDeclaration}},{key:"isContinueStatementNode",value:function(e){return e.type===i.NodeType.ContinueStatement}},{key:"isExportNamedDeclarationNode",value:function(e){return e.type===i.NodeType.ExportNamedDeclaration}},{key:"isExpressionStatementNode",value:function(e){return e.type===i.NodeType.ExpressionStatement}},{key:"isFunctionNode",value:function(t){return e.isFunctionDeclarationNode(t)||e.isFunctionExpressionNode(t)||e.isArrowFunctionExpressionNode(t)}},{key:"isFunctionDeclarationNode",value:function(e){return e.type===i.NodeType.FunctionDeclaration}},{key:"isFunctionExpressionNode",value:function(e){return e.type===i.NodeType.FunctionExpression}},{key:"isIdentifierNode",value:function(e){return e.type===i.NodeType.Identifier}},{key:"isImportDeclarationNode",value:function(e){return e.type===i.NodeType.ImportDeclaration}},{key:"isImportSpecifierNode",value:function(e){return e.type===i.NodeType.ImportSpecifier}},{key:"isLabelIdentifierNode",value:function(t,r){var n=e.isLabeledStatementNode(r)&&r.label===t,o=e.isContinueStatementNode(r)&&r.label===t,a=e.isBreakStatementNode(r)&&r.label===t;return n||o||a}},{key:"isLabeledStatementNode",value:function(e){return e.type===i.NodeType.LabeledStatement}},{key:"isLiteralNode",value:function(e){return e.type===i.NodeType.Literal}},{key:"isMemberExpressionNode",value:function(e){return e.type===i.NodeType.MemberExpression}},{key:"isMethodDefinitionNode",value:function(e){return e.type===i.NodeType.MethodDefinition}},{key:"isNode",value:function(e){return e&&void 0!==!e.type}},{key:"isNodeWithLexicalScope",value:function(t){return e.isProgramNode(t)||e.isFunctionNode(t)}},{key:"isNodeWithLexicalScopeStatements",value:function(t,r){return e.isProgramNode(t)||e.isBlockStatementNode(t)&&e.nodesWithLexicalStatements.includes(r.type)}},{key:"isNodeWithStatements",value:function(t){return e.isProgramNode(t)||e.isBlockStatementNode(t)||e.isSwitchCaseNode(t)}},{key:"isNodeWithComments",value:function(e){return Boolean(e.leadingComments)||Boolean(e.trailingComments)}},{key:"isObjectPatternNode",value:function(e){return e.type===i.NodeType.ObjectPattern}},{key:"isObjectExpressionNode",value:function(e){return e.type===i.NodeType.ObjectExpression}},{key:"isProgramNode",value:function(e){return e.type===i.NodeType.Program}},{key:"isPropertyNode",value:function(e){return e.type===i.NodeType.Property}},{key:"isReplaceableIdentifierNode",value:function(t,r){if(!e.isIdentifierNode(t))return!1;var n=e.isPropertyNode(r)&&!r.computed&&r.key===t,o=e.isMemberExpressionNode(r)&&!r.computed&&r.property===t,a=e.isMethodDefinitionNode(r)&&!r.computed,i=e.isLabelIdentifierNode(t,r);return!(n||o||a||i)}},{key:"isRestElementNode",value:function(e){return e.type===i.NodeType.RestElement}},{key:"isReturnStatementNode",value:function(e){return e.type===i.NodeType.ReturnStatement}},{key:"isSuperNode",value:function(e){return e.type===i.NodeType.Super}},{key:"isSwitchCaseNode",value:function(e){return e.type===i.NodeType.SwitchCase}},{key:"isTaggedTemplateExpressionNode",value:function(e){return e.type===i.NodeType.TaggedTemplateExpression}},{key:"isTemplateLiteralNode",value:function(e){return e.type===i.NodeType.TemplateLiteral}},{key:"isUnaryExpressionNode",value:function(e){return e.type===i.NodeType.UnaryExpression}},{key:"isUseStrictOperator",value:function(e){return e.type===i.NodeType.ExpressionStatement&&"use strict"===e.directive}},{key:"isVariableDeclarationNode",value:function(e){return e.type===i.NodeType.VariableDeclaration}},{key:"isVariableDeclaratorNode",value:function(e){return e.type===i.NodeType.VariableDeclarator}},{key:"isWhileStatementNode",value:function(e){return e.type===i.NodeType.WhileStatement}}]),e}();s.nodesWithLexicalStatements=[i.NodeType.ArrowFunctionExpression,i.NodeType.FunctionDeclaration,i.NodeType.FunctionExpression,i.NodeType.MethodDefinition],t.NodeGuards=s},function(e,t,r){"use strict";var n=r(0),o=n(r(12)),a=n(r(187)),i=n(r(186)),s=n(r(185)),c=n(r(184)),d=n(r(183)),u=n(r(182)),l=n(r(33)),f=n(r(37));Object.defineProperty(t,"__esModule",{value:!0});var p={configurable:!0,enumerable:!0},m="_initialized",g="_initializablePropertiesSet",N="_wrappedMethodsSet",v="constructor";function y(e,t,r){(0,u.default)(e,r)||(0,d.default)(e,t,r)}t.initializable=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initialize",t=(0,f.default)(this)[0];return function(r,n){var u=r[e];if(!u||"function"!=typeof u)throw new Error("`".concat(e,"` method with initialization logic not ")+"found. `@".concat(t,"` decorator requires `").concat(e,"` method"));return y(m,!1,r),y(g,new l.default,r),y(N,new l.default,r),function(e,t){var r=(0,c.default)(e),n=[t,v];r.forEach(function(r){var c=(0,s.default)(g,e),d=(0,s.default)(N,e),u=n.includes(r)||c.has(r)||d.has(r);if(!u){var l=e[r];if("function"==typeof l){var f=(0,i.default)(e,r)||p,v=f.value;(0,a.default)(e,r,(0,o.default)({},f,{value:function(){if(!(0,s.default)(m,this))throw new Error("Class should be initialized with `".concat(t,"()` method"));return v.apply(this,arguments)}})),d.add(r)}}})}(r,e),function(e,t,r){var n=(0,i.default)(e,t)||p,s=n.value;(0,a.default)(e,t,(0,o.default)({},n,{value:function(){(0,d.default)(m,!0,this);var e=s.apply(this,arguments);return this[r],e}}))}(r,e,n),function(e,t){(0,s.default)(g,e).add(t);var r="_".concat(t.toString()),n=(0,i.default)(e,r)||p;return(0,a.default)(e,t,(0,o.default)({},n,{get:function(){if(void 0===this[r])throw new Error("Property `".concat(t.toString(),"` is not initialized! Initialize it first!"));return this[r]},set:function(e){this[r]=e}})),n}(r,n)}}},function(e,t,r){"use strict";var n=r(0),o=n(r(64)),a=n(r(37)),i=n(r(1)),s=n(r(3));Object.defineProperty(t,"__esModule",{value:!0});var c=r(4),d=c.__importStar(r(48)),u=c.__importStar(r(63)),l=c.__importStar(r(18)),f=r(9),p=r(19),m=function(){function e(){(0,i.default)(this,e)}return(0,s.default)(e,null,[{key:"addXVerbatimPropertyTo",value:function(e){return e["x-verbatim-property"]={content:e.raw,precedence:d.Precedence.Primary},e}},{key:"clone",value:function(t){return e.parentizeAst(e.cloneRecursive(t))}},{key:"convertCodeToStructure",value:function(t){var r=u.parse(t,{sourceType:"script"});return l.replace(r,{enter:function(t,r){return e.parentizeNode(t,r),f.NodeGuards.isLiteralNode(t)&&e.addXVerbatimPropertyTo(t),p.NodeMetadata.set(t,{ignoredNode:!1}),t}}),r.body}},{key:"convertStructureToCode",value:function(e){return e.reduce(function(e,t){return e+d.generate(t,{sourceMapWithCode:!0}).code},"")}},{key:"getUnaryExpressionArgumentNode",value:function(t){return f.NodeGuards.isUnaryExpressionNode(t.argument)?e.getUnaryExpressionArgumentNode(t.argument):t.argument}},{key:"parentizeAst",value:function(t){return l.replace(t,{enter:e.parentizeNode}),t}},{key:"parentizeNode",value:function(e,t){return e.parentNode=t||e,e}},{key:"cloneRecursive",value:function(t){if(null===t)return t;var r={};return(0,a.default)(t).forEach(function(n){if("parentNode"!==n){var a,i=t[n];a=null===i||i instanceof RegExp?i:Array.isArray(i)?i.map(e.cloneRecursive):"object"===(0,o.default)(i)?e.cloneRecursive(i):i,r[n]=a}}),r}}]),e}();t.NodeUtils=m},function(e,t){e.exports=require("@babel/runtime/core-js/object/assign")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Preparing="Preparing",e.DeadCodeInjection="DeadCodeInjection",e.ControlFlowFlattening="ControlFlowFlattening",e.Converting="Converting",e.Obfuscating="Obfuscating",e.Finalizing="Finalizing"}(t.TransformationStage||(t.TransformationStage={}))},function(e,t,r){"use strict";var n=r(0)(r(1));Object.defineProperty(t,"__esModule",{value:!0});var o=r(4),a=r(2),i=r(5),s=function e(t,r){(0,n.default)(this,e),this.randomGenerator=t,this.options=r};s=o.__decorate([a.injectable(),o.__param(0,a.inject(i.ServiceIdentifiers.IRandomGenerator)),o.__param(1,a.inject(i.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Object,Object])],s),t.AbstractNodeTransformer=s},function(e,t,r){"use strict";var n=r(0),o=n(r(12)),a=n(r(1)),i=n(r(3));Object.defineProperty(t,"__esModule",{value:!0});var s=r(4).__importStar(r(48)),c=r(23),d=function(){function e(){(0,a.default)(this,e)}return(0,i.default)(e,null,[{key:"programNode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:c.NodeType.Program,body:e,sourceType:"script",metadata:{ignoredNode:!1}}}},{key:"arrayExpressionNode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:c.NodeType.ArrayExpression,elements:e,metadata:{ignoredNode:!1}}}},{key:"assignmentExpressionNode",value:function(e,t,r){return{type:c.NodeType.AssignmentExpression,operator:e,left:t,right:r,metadata:{ignoredNode:!1}}}},{key:"binaryExpressionNode",value:function(e,t,r){return{type:c.NodeType.BinaryExpression,operator:e,left:t,right:r,metadata:{ignoredNode:!1}}}},{key:"blockStatementNode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:c.NodeType.BlockStatement,body:e,metadata:{ignoredNode:!1}}}},{key:"breakStatement",value:function(e){return{type:c.NodeType.BreakStatement,label:e,metadata:{ignoredNode:!1}}}},{key:"callExpressionNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return{type:c.NodeType.CallExpression,callee:e,arguments:t,metadata:{ignoredNode:!1}}}},{key:"continueStatement",value:function(e){return{type:c.NodeType.ContinueStatement,label:e,metadata:{ignoredNode:!1}}}},{key:"expressionStatementNode",value:function(e){return{type:c.NodeType.ExpressionStatement,expression:e,metadata:{ignoredNode:!1}}}},{key:"functionDeclarationNode",value:function(t,r,n){return{type:c.NodeType.FunctionDeclaration,id:e.identifierNode(t),params:r,body:n,generator:!1,metadata:{ignoredNode:!1}}}},{key:"functionExpressionNode",value:function(e,t){return{type:c.NodeType.FunctionExpression,params:e,body:t,generator:!1,metadata:{ignoredNode:!1}}}},{key:"ifStatementNode",value:function(e,t,r){return(0,o.default)({type:c.NodeType.IfStatement,test:e,consequent:t},r&&{alternate:r},{metadata:{ignoredNode:!1}})}},{key:"identifierNode",value:function(e){return{type:c.NodeType.Identifier,name:e,metadata:{ignoredNode:!1}}}},{key:"literalNode",value:function(e,t){return t=void 0!==t?t:"'".concat(e,"'"),{type:c.NodeType.Literal,value:e,raw:t,"x-verbatim-property":{content:t,precedence:s.Precedence.Primary},metadata:{ignoredNode:!1}}}},{key:"logicalExpressionNode",value:function(e,t,r){return{type:c.NodeType.LogicalExpression,operator:e,left:t,right:r,metadata:{ignoredNode:!1}}}},{key:"memberExpressionNode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:c.NodeType.MemberExpression,computed:r,object:e,property:t,metadata:{ignoredNode:!1}}}},{key:"methodDefinitionNode",value:function(e,t,r,n){return{type:c.NodeType.MethodDefinition,key:e,value:t,kind:r,computed:n,static:!1,metadata:{ignoredNode:!1}}}},{key:"objectExpressionNode",value:function(e){return{type:c.NodeType.ObjectExpression,properties:e,metadata:{ignoredNode:!1}}}},{key:"propertyNode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:c.NodeType.Property,key:e,value:t,kind:"init",method:!1,shorthand:!1,computed:r,metadata:{ignoredNode:!1}}}},{key:"returnStatementNode",value:function(e){return{type:c.NodeType.ReturnStatement,argument:e,metadata:{ignoredNode:!1}}}},{key:"switchStatementNode",value:function(e,t){return{type:c.NodeType.SwitchStatement,discriminant:e,cases:t,metadata:{ignoredNode:!1}}}},{key:"switchCaseNode",value:function(e,t){return{type:c.NodeType.SwitchCase,test:e,consequent:t,metadata:{ignoredNode:!1}}}},{key:"unaryExpressionNode",value:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return{type:c.NodeType.UnaryExpression,operator:e,argument:t,prefix:r,metadata:{ignoredNode:!1}}}},{key:"updateExpressionNode",value:function(e,t){return{type:c.NodeType.UpdateExpression,operator:e,argument:t,prefix:!1,metadata:{ignoredNode:!1}}}},{key:"variableDeclarationNode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"var";return{type:c.NodeType.VariableDeclaration,declarations:e,kind:t,metadata:{ignoredNode:!1}}}},{key:"variableDeclaratorNode",value:function(e,t){return{type:c.NodeType.VariableDeclarator,id:e,init:t,metadata:{ignoredNode:!1}}}},{key:"whileStatementNode",value:function(e,t){return{type:c.NodeType.WhileStatement,test:e,body:t,metadata:{ignoredNode:!1}}}}]),e}();t.NodeFactory=d},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3));Object.defineProperty(t,"__esModule",{value:!0});var i,s=r(4),c=r(2),d=r(5),u=r(176),l=r(175),f=i=function(){function e(t,r,n){(0,o.default)(this,e),this.cachedNode=null,this.identifierNamesGenerator=t(n),this.randomGenerator=r,this.options=n}return(0,a.default)(e,[{key:"getNode",value:function(){return this.cachedNode||(this.cachedNode=this.getNodeStructure()),this.cachedNode}},{key:"getGlobalVariableTemplate",value:function(){return this.randomGenerator.getRandomGenerator().pickone(i.globalVariableTemplateFunctions)}}]),e}();f.globalVariableTemplateFunctions=[u.GlobalVariableTemplate1(),l.GlobalVariableTemplate2()],f=i=s.__decorate([c.injectable(),s.__param(0,c.inject(d.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),s.__param(1,c.inject(d.ServiceIdentifiers.IRandomGenerator)),s.__param(2,c.inject(d.ServiceIdentifiers.IOptions)),s.__metadata("design:paramtypes",[Function,Object,Object])],f),t.AbstractCustomNode=f},function(e,t){e.exports=require("@babel/runtime/core-js/map")},function(e,t){e.exports=require("estraverse")},function(e,t,r){"use strict";var n=r(0),o=n(r(12)),a=n(r(1)),i=n(r(3));Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(){(0,a.default)(this,e)}return(0,i.default)(e,null,[{key:"set",value:function(e,t){e.metadata=(0,o.default)(e.metadata||{},t)}},{key:"get",value:function(e,t){return void 0!==e.metadata?e.metadata[t]:void 0}},{key:"isIgnoredNode",value:function(t){return!0===e.get(t,"ignoredNode")}},{key:"isRenamedIdentifier",value:function(t){return!0===e.get(t,"renamedIdentifier")}},{key:"isReplacedLiteral",value:function(t){return!0===e.get(t,"replacedLiteral")}}]),e}();t.NodeMetadata=s},function(e,t){e.exports=require("string-template")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.BaseIdentifierObfuscatingReplacer="BaseIdentifierObfuscatingReplacer"}(t.IdentifierObfuscatingReplacer||(t.IdentifierObfuscatingReplacer={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.BinaryExpressionFunctionNode="BinaryExpressionFunctionNode",e.BlockStatementControlFlowFlatteningNode="BlockStatementControlFlowFlatteningNode",e.CallExpressionControlFlowStorageCallNode="CallExpressionControlFlowStorageCallNode",e.CallExpressionFunctionNode="CallExpressionFunctionNode",e.ControlFlowStorageNode="ControlFlowStorageNode",e.ExpressionWithOperatorControlFlowStorageCallNode="ExpressionWithOperatorControlFlowStorageCallNode",e.LogicalExpressionFunctionNode="LogicalExpressionFunctionNode",e.StringLiteralControlFlowStorageCallNode="StringLiteralControlFlowStorageCallNode",e.StringLiteralNode="StringLiteralNode"}(t.ControlFlowCustomNode||(t.ControlFlowCustomNode={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.ArrayExpression="ArrayExpression",e.ArrayPattern="ArrayPattern",e.ArrowFunctionExpression="ArrowFunctionExpression",e.AssignmentExpression="AssignmentExpression",e.AssignmentPattern="AssignmentPattern",e.AwaitExpression="AwaitExpression",e.BinaryExpression="BinaryExpression",e.BlockStatement="BlockStatement",e.BreakStatement="BreakStatement",e.CallExpression="CallExpression",e.CatchClause="CatchClause",e.ClassDeclaration="ClassDeclaration",e.ContinueStatement="ContinueStatement",e.ExportNamedDeclaration="ExportNamedDeclaration",e.ExpressionStatement="ExpressionStatement",e.FunctionDeclaration="FunctionDeclaration",e.FunctionExpression="FunctionExpression",e.Identifier="Identifier",e.IfStatement="IfStatement",e.ImportDeclaration="ImportDeclaration",e.ImportDefaultSpecifier="ImportDefaultSpecifier",e.ImportNamespaceSpecifier="ImportNamespaceSpecifier",e.ImportSpecifier="ImportSpecifier",e.LabeledStatement="LabeledStatement",e.Literal="Literal",e.LogicalExpression="LogicalExpression",e.MemberExpression="MemberExpression",e.MethodDefinition="MethodDefinition",e.ObjectExpression="ObjectExpression",e.ObjectPattern="ObjectPattern",e.Program="Program",e.Property="Property",e.RestElement="RestElement",e.ReturnStatement="ReturnStatement",e.Super="Super",e.SwitchCase="SwitchCase",e.SwitchStatement="SwitchStatement",e.TaggedTemplateExpression="TaggedTemplateExpression",e.TemplateLiteral="TemplateLiteral",e.TryStatement="TryStatement",e.UnaryExpression="UnaryExpression",e.UpdateExpression="UpdateExpression",e.VariableDeclaration="VariableDeclaration",e.VariableDeclarator="VariableDeclarator",e.WhileStatement="WhileStatement"}(t.NodeType||(t.NodeType={}))},function(e,t,r){"use strict";var n=r(0),o=n(r(211)),a=n(r(17)),i=n(r(1)),s=n(r(3));Object.defineProperty(t,"__esModule",{value:!0});var c=r(2),d=r(5),u=r(210),l=r(205),f=r(197),p=r(189),m=r(136),g=r(135),N=r(132),v=r(131),y=r(118),h=r(102),_=r(92),b=r(87),S=r(81),I=r(69),C=r(78),F=r(76),j=r(75),O=r(74),T=function(){function e(){(0,i.default)(this,e),this.container=new c.Container}return(0,s.default)(e,[{key:"get",value:function(e){return this.container.get(e)}},{key:"getNamed",value:function(e,t){return this.container.getNamed(e,t)}},{key:"load",value:function(e,t,r){this.container.bind(d.ServiceIdentifiers.ISourceCode).toDynamicValue(function(){return new j.SourceCode(e,t)}).inSingletonScope(),this.container.bind(d.ServiceIdentifiers.TInputOptions).toDynamicValue(function(){return r}).inSingletonScope(),this.container.bind(d.ServiceIdentifiers.ILogger).to(I.Logger).inSingletonScope(),this.container.bind(d.ServiceIdentifiers.IJavaScriptObfuscator).to(S.JavaScriptObfuscator).inSingletonScope(),this.container.bind(d.ServiceIdentifiers.ITransformersRunner).to(O.TransformersRunner).inSingletonScope(),this.container.bind(d.ServiceIdentifiers.IObfuscatedCode).to(F.ObfuscatedCode),this.container.bind(d.ServiceIdentifiers.Factory__IObfuscatedCode).toFactory(function(e){return function(t,r){var n=e.container.get(d.ServiceIdentifiers.IObfuscatedCode);return n.initialize(t,r),n}}),this.container.bind(d.ServiceIdentifiers.IObfuscationEventEmitter).to(C.ObfuscationEventEmitter).inSingletonScope(),this.container.load(u.analyzersModule),this.container.load(l.controlFlowTransformersModule),this.container.load(f.convertingTransformersModule),this.container.load(p.customNodesModule),this.container.load(m.finalizingTransformersModule),this.container.load(g.generatorsModule),this.container.load(N.nodeTransformersModule),this.container.load(v.obfuscatingTransformersModule),this.container.load(y.optionsModule),this.container.load(h.preparingTransformersModule),this.container.load(_.storagesModule),this.container.load(b.utilsModule)}},{key:"unload",value:function(){this.container.unbindAll()}}],[{key:"getFactory",value:function(e){return function(t){return function(r){return t.container.getNamed(e,r)}}}},{key:"getCacheFactory",value:function(e){return function(t){var r=new a.default;return function(n){if(r.has(n))return r.get(n);var o=t.container.getNamed(e,n);return r.set(n,o),o}}}},{key:"getConstructorFactory",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return function(t){var n=new a.default,i=[];return function(a){if(r.forEach(function(e,r){i[r]||(i[r]=t.container.get(e))}),n.has(a))return(0,o.default)(n.get(a),i);var s=t.container.getNamed(e,a);return n.set(a,s),(0,o.default)(s,i)}}}}]),e}();t.InversifyContainerFacade=T},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Browser="browser",e.BrowserNoEval="browser-no-eval",e.Node="node"}(t.ObfuscationTarget||(t.ObfuscationTarget={}))},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3));Object.defineProperty(t,"__esModule",{value:!0});var i=r(9),s=function(){function e(){(0,o.default)(this,e)}return(0,a.default)(e,null,[{key:"getLexicalScope",value:function(t){return e.getLexicalScopesRecursive(t,1)[0]}},{key:"getLexicalScopes",value:function(t){return e.getLexicalScopesRecursive(t)}},{key:"getLexicalScopesRecursive",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(n.length>=r)return n;var a=t.parentNode;if(!a)throw new ReferenceError("`parentNode` property of given node is `undefined`");return i.NodeGuards.isNodeWithLexicalScope(t)&&n.push(t),t!==a?e.getLexicalScopesRecursive(a,r,n,++o):n}}]),e}();t.NodeLexicalScopeUtils=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.AfterObfuscation="afterObfuscation",e.BeforeObfuscation="beforeObfuscation"}(t.ObfuscationEvent||(t.ObfuscationEvent={}))},function(e,t,r){"use strict";var n=r(0),o=n(r(30)),a=n(r(1)),i=n(r(3));Object.defineProperty(t,"__esModule",{value:!0});var s=r(9),c=function(){function e(){(0,a.default)(this,e)}return(0,i.default)(e,null,[{key:"append",value:function(t,r){r=e.parentizeScopeStatementsBeforeAppend(t,r),e.setScopeStatements(t,(0,o.default)(e.getScopeStatements(t)).concat((0,o.default)(r)))}},{key:"appendToOptimalBlockScope",value:function(t,r,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=t.length?e.getOptimalBlockScope(t,o):r;e.prepend(a,n)}},{key:"getOptimalBlockScope",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,o=t[r];if(n<=0)throw new Error("Invalid `deep` argument value. Value should be bigger then 0.");return n>1&&o.stackTrace.length?e.getOptimalBlockScope(o.stackTrace,0,--n):o.callee}},{key:"insertAfter",value:function(t,r,n){var o=e.getScopeStatements(t).indexOf(n);e.insertAtIndex(t,r,o+1)}},{key:"insertAtIndex",value:function(t,r,n){r=e.parentizeScopeStatementsBeforeAppend(t,r),e.setScopeStatements(t,(0,o.default)(e.getScopeStatements(t).slice(0,n)).concat((0,o.default)(r),(0,o.default)(e.getScopeStatements(t).slice(n))))}},{key:"prepend",value:function(t,r){r=e.parentizeScopeStatementsBeforeAppend(t,r),e.setScopeStatements(t,(0,o.default)(r).concat((0,o.default)(e.getScopeStatements(t))))}},{key:"getScopeStatements",value:function(e){return s.NodeGuards.isSwitchCaseNode(e)?e.consequent:e.body}},{key:"parentizeScopeStatementsBeforeAppend",value:function(e,t){return t.forEach(function(t){t.parentNode=e}),t}},{key:"setScopeStatements",value:function(e,t){s.NodeGuards.isSwitchCaseNode(e)?e.consequent=t:e.body=t}}]),e}();t.NodeAppender=c},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3));Object.defineProperty(t,"__esModule",{value:!0});var i=r(9),s=function(){function e(){(0,o.default)(this,e)}return(0,a.default)(e,null,[{key:"getParentNodeWithStatements",value:function(t){return e.getParentNodesWithStatementsRecursive(t,1)[0]}},{key:"getParentNodesWithStatements",value:function(t){return e.getParentNodesWithStatementsRecursive(t)}},{key:"getNextSiblingStatement",value:function(t){return e.getSiblingStatementByOffset(t,1)}},{key:"getPreviousSiblingStatement",value:function(t){return e.getSiblingStatementByOffset(t,-1)}},{key:"getRootStatementOfNode",value:function(t){if(i.NodeGuards.isProgramNode(t))throw new Error("Unable to find root statement for `Program` node");var r=t.parentNode;if(!r)throw new ReferenceError("`parentNode` property of given node is `undefined`");return i.NodeGuards.isNodeWithStatements(r)?t:e.getRootStatementOfNode(r)}},{key:"getScopeOfNode",value:function(t){var r=t.parentNode;if(!r)throw new ReferenceError("`parentNode` property of given node is `undefined`");return i.NodeGuards.isNodeWithStatements(r)?r:e.getScopeOfNode(r)}},{key:"getParentNodesWithStatementsRecursive",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(n.length>=r)return n;var a=t.parentNode;if(!a)throw new ReferenceError("`parentNode` property of given node is `undefined`");return(i.NodeGuards.isProgramNode(t)||i.NodeGuards.isNodeWithLexicalScopeStatements(t,a)&&o>0)&&n.push(t),t!==a?e.getParentNodesWithStatementsRecursive(a,r,n,++o):n}},{key:"getSiblingStatementByOffset",value:function(t,r){var n=e.getScopeOfNode(t),o=i.NodeGuards.isSwitchCaseNode(n)?n.consequent:n.body;return o[o.indexOf(t)+r]||null}}]),e}();t.NodeStatementUtils=s},function(e,t){e.exports=require("@babel/runtime/helpers/toConsumableArray")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.ConsoleOutputDisableExpressionNode="ConsoleOutputDisableExpressionNode",e.DebugProtectionFunctionCallNode="DebugProtectionFunctionCallNode",e.DebugProtectionFunctionIntervalNode="DebugProtectionFunctionIntervalNode",e.DebugProtectionFunctionNode="DebugProtectionFunctionNode",e.DomainLockNode="DomainLockNode",e.NodeCallsControllerFunctionNode="NodeCallsControllerFunctionNode",e.SelfDefendingUnicodeNode="SelfDefendingUnicodeNode",e.StringArrayCallsWrapper="StringArrayCallsWrapper",e.StringArrayNode="StringArrayNode",e.StringArrayRotateFunctionNode="StringArrayRotateFunctionNode"}(t.CustomNode||(t.CustomNode={}))},function(e,t){e.exports=require("@babel/runtime/helpers/slicedToArray")},function(e,t){e.exports=require("@babel/runtime/core-js/set")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.BlockStatementControlFlowTransformer="BlockStatementControlFlowTransformer",e.ClassDeclarationTransformer="ClassDeclarationTransformer",e.CommentsTransformer="CommentsTransformer",e.CustomNodesTransformer="CustomNodesTransformer",e.DeadCodeInjectionTransformer="DeadCodeInjectionTransformer",e.EvalCallExpressionTransformer="EvalCallExpressionTransformer",e.FunctionControlFlowTransformer="FunctionControlFlowTransformer",e.CatchClauseTransformer="CatchClauseTransformer",e.FunctionDeclarationTransformer="FunctionDeclarationTransformer",e.FunctionTransformer="FunctionTransformer",e.ImportDeclarationTransformer="ImportDeclarationTransformer",e.LabeledStatementTransformer="LabeledStatementTransformer",e.LiteralTransformer="LiteralTransformer",e.MemberExpressionTransformer="MemberExpressionTransformer",e.MetadataTransformer="MetadataTransformer",e.MethodDefinitionTransformer="MethodDefinitionTransformer",e.ObfuscatingGuardsTransformer="ObfuscatingGuardsTransformer",e.ObjectExpressionKeysTransformer="ObjectExpressionKeysTransformer",e.ObjectExpressionTransformer="ObjectExpressionTransformer",e.ParentificationTransformer="ParentificationTransformer",e.TemplateLiteralTransformer="TemplateLiteralTransformer",e.VariableDeclarationTransformer="VariableDeclarationTransformer"}(t.NodeTransformer||(t.NodeTransformer={}))},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3));Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){(0,o.default)(this,e)}return(0,a.default)(e,null,[{key:"extractDomainFrom",value:function(e){return(e.indexOf("://")>-1||0===e.indexOf("//")?e.split("/")[2]:e.split("/")[0]).split(":")[0]}}]),e}();i.hexadecimalPrefix="0x",t.Utils=i},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3));Object.defineProperty(t,"__esModule",{value:!0});var i=r(4),s=r(2),c=r(5),d=function(){function e(t,r,n){(0,o.default)(this,e),this.identifierNamesGenerator=t(n),this.randomGenerator=r,this.options=n}return(0,a.default)(e,[{key:"getAppendEvent",value:function(){return this.appendEvent}},{key:"getCustomNodes",value:function(){return this.customNodes}},{key:"appendCustomNodeIfExist",value:function(e,t){var r=this.customNodes.get(e);r&&t(r)}},{key:"getRandomStackTraceIndex",value:function(e){return this.randomGenerator.getRandomInteger(0,Math.max(0,Math.round(e-1)))}}]),e}();d=i.__decorate([s.injectable(),i.__param(0,s.inject(c.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),i.__param(1,s.inject(c.ServiceIdentifiers.IRandomGenerator)),i.__param(2,s.inject(c.ServiceIdentifiers.IOptions)),i.__metadata("design:paramtypes",[Function,Object,Object])],d),t.AbstractCustomNodeGroup=d},function(e,t){e.exports=require("@babel/runtime/core-js/object/keys")},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3));Object.defineProperty(t,"__esModule",{value:!0}),r(70);var i=r(5),s=r(24),c=function(){function e(){(0,o.default)(this,e)}return(0,a.default)(e,null,[{key:"obfuscate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new s.InversifyContainerFacade;r.load(e,"",t);var n=r.get(i.ServiceIdentifiers.IJavaScriptObfuscator).obfuscate(e);return r.unload(),n}}]),e}();c.version="0.17.3",t.JavaScriptObfuscator=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Base64="base64",e.Rc4="rc4"}(t.StringArrayEncoding||(t.StringArrayEncoding={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Inline="inline",e.Separate="separate"}(t.SourceMapMode||(t.SourceMapMode={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.HexadecimalIdentifierNamesGenerator="hexadecimal",e.MangledIdentifierNamesGenerator="mangled"}(t.IdentifierNamesGenerator||(t.IdentifierNamesGenerator={}))},function(e,t,r){"use strict";var n=r(0)(r(1));Object.defineProperty(t,"__esModule",{value:!0});var o=r(4),a=r(2),i=r(5),s=function e(t){(0,n.default)(this,e),this.options=t};s=o.__decorate([a.injectable(),o.__param(0,a.inject(i.ServiceIdentifiers.IOptions)),o.__metadata("design:paramtypes",[Object])],s),t.AbstractObfuscatingReplacer=s},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3));Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){(0,o.default)(this,e)}return(0,a.default)(e,null,[{key:"toHex",value:function(e){return e.toString(16)}},{key:"isCeil",value:function(e){return e%1==0}}]),e}();t.NumberUtils=i},function(e,t){e.exports=require("@babel/runtime/helpers/get")},function(e,t,r){"use strict";var n=r(0)(r(58));Object.defineProperty(t,"__esModule",{value:!0});var o=r(41),a=r(25),i=r(40);t.NO_ADDITIONAL_NODES_PRESET=(0,n.default)({compact:!0,controlFlowFlattening:!1,controlFlowFlatteningThreshold:0,deadCodeInjection:!1,deadCodeInjectionThreshold:0,debugProtection:!1,debugProtectionInterval:!1,disableConsoleOutput:!1,domainLock:[],exclude:[],identifierNamesGenerator:o.IdentifierNamesGenerator.HexadecimalIdentifierNamesGenerator,identifiersPrefix:"",inputFileName:"",log:!1,renameGlobals:!1,reservedNames:[],rotateStringArray:!1,seed:0,selfDefending:!1,sourceMap:!1,sourceMapBaseUrl:"",sourceMapFileName:"",sourceMapMode:i.SourceMapMode.Separate,stringArray:!1,stringArrayEncoding:!1,stringArrayThreshold:0,target:a.ObfuscationTarget.Browser,transformObjectKeys:!1,unicodeEscapeSequence:!1})},function(e,t){e.exports=require("@babel/runtime/core-js/get-iterator")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalVariableNoEvalTemplate=function(){return"\n        var that = (typeof window !== 'undefined'\n           ? window\n           : (typeof process === 'object' &&\n              typeof require === 'function' &&\n              typeof global === 'object')\n             ? global\n             : this);\n    "}},function(e,t){e.exports=require("escodegen-wallaby")},function(e,t,r){"use strict";var n=r(0),o=n(r(17)),a=n(r(1)),i=n(r(3));Object.defineProperty(t,"__esModule",{value:!0});var s,c=r(4),d=r(2),u=r(5),l=s=function(){function e(t,r,n){(0,a.default)(this,e),this.replacerDataByControlFlowStorageId=new o.default,this.controlFlowCustomNodeFactory=t,this.randomGenerator=r,this.options=n}return(0,i.default)(e,[{key:"insertCustomNodeToControlFlowStorage",value:function(e,t,r,n){var o=this,a=t.getStorageId(),i=s.getStorageKeysByIdForCurrentStorage(this.replacerDataByControlFlowStorageId,a),c=i.get(r);if(this.randomGenerator.getMathRandom()<n&&c&&c.length)return this.randomGenerator.getRandomGenerator().pickone(c);var d=function e(r){var n=o.randomGenerator.getRandomString(r);return t.getStorage().has(n)?e(r):n}(5);return i.set(r,[d]),this.replacerDataByControlFlowStorageId.set(a,i),t.set(d,e),d}}],[{key:"getStorageKeysByIdForCurrentStorage",value:function(e,t){return e.has(t)?e.get(t):new o.default}}]),e}();l=s=c.__decorate([d.injectable(),c.__param(0,d.inject(u.ServiceIdentifiers.Factory__IControlFlowCustomNode)),c.__param(1,d.inject(u.ServiceIdentifiers.IRandomGenerator)),c.__param(2,d.inject(u.ServiceIdentifiers.IOptions)),c.__metadata("design:paramtypes",[Function,Object,Object])],l),t.AbstractControlFlowReplacer=l},function(e,t,r){"use strict";var n=r(0)(r(1));Object.defineProperty(t,"__esModule",{value:!0});var o=r(4),a=r(2),i=function e(){(0,n.default)(this,e)};i=o.__decorate([a.injectable()],i),t.AbstractCalleeDataExtractor=i},function(e,t,r){"use strict";var n=r(0)(r(58));Object.defineProperty(t,"__esModule",{value:!0});var o=r(41),a=r(25),i=r(40);t.DEFAULT_PRESET=(0,n.default)({compact:!0,config:"",controlFlowFlattening:!1,controlFlowFlatteningThreshold:.75,deadCodeInjection:!1,deadCodeInjectionThreshold:.4,debugProtection:!1,debugProtectionInterval:!1,disableConsoleOutput:!1,domainLock:[],exclude:[],identifierNamesGenerator:o.IdentifierNamesGenerator.HexadecimalIdentifierNamesGenerator,identifiersPrefix:"",inputFileName:"",log:!1,renameGlobals:!1,reservedNames:[],rotateStringArray:!0,seed:0,selfDefending:!1,sourceMap:!1,sourceMapBaseUrl:"",sourceMapFileName:"",sourceMapMode:i.SourceMapMode.Separate,stringArray:!0,stringArrayEncoding:!1,stringArrayThreshold:.75,target:a.ObfuscationTarget.Browser,transformObjectKeys:!1,unicodeEscapeSequence:!1})},function(e,t){e.exports=require("chalk")},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3));Object.defineProperty(t,"__esModule",{value:!0});var i,s=r(4),c=r(2),d=r(5),u=s.__importDefault(r(84)),l=r(83),f=r(10),p=i=function(){function e(t,r){(0,o.default)(this,e),this.sourceCode=t,this.options=r}return(0,a.default)(e,[{key:"initialize",value:function(){var e,t,r,n=this;this.seed=0!==this.options.seed?this.options.seed:(e=0,t=999999999,Math.floor(Math.random()*(t-e+1)+e)),this.randomGenerator=new l.Chance((r=u.default(n.sourceCode.getSourceCode()),n.seed+Number(r.replace(/\D/g,""))))}},{key:"getMathRandom",value:function(){return this.getRandomInteger(0,99999)/1e5}},{key:"getRandomGenerator",value:function(){return this.randomGenerator}},{key:"getRandomInteger",value:function(e,t){return this.getRandomGenerator().integer({min:e,max:t})}},{key:"getRandomString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.randomGeneratorPool;return this.getRandomGenerator().string({length:e,pool:t})}},{key:"getSeed",value:function(){return this.seed}}]),e}();p.randomGeneratorPool="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",s.__decorate([f.initializable(),s.__metadata("design:type",Object)],p.prototype,"randomGenerator",void 0),s.__decorate([f.initializable(),s.__metadata("design:type",Number)],p.prototype,"seed",void 0),s.__decorate([c.postConstruct(),s.__metadata("design:type",Function),s.__metadata("design:paramtypes",[]),s.__metadata("design:returntype",void 0)],p.prototype,"initialize",null),p=i=s.__decorate([c.injectable(),s.__param(0,c.inject(d.ServiceIdentifiers.ISourceCode)),s.__param(1,c.inject(d.ServiceIdentifiers.IOptions)),s.__metadata("design:paramtypes",[Object,Object])],p),t.RandomGenerator=p},function(e,t,r){"use strict";var n=r(0),o=n(r(30)),a=n(r(32)),i=n(r(46)),s=n(r(17)),c=n(r(1)),d=n(r(3));Object.defineProperty(t,"__esModule",{value:!0});var u=r(4),l=r(2),f=r(5),p=r(10),m=function(){function e(t,r){(0,c.default)(this,e),this.randomGenerator=t,this.options=r}return(0,d.default)(e,[{key:"initialize",value:function(){this.storage=new s.default,this.storageId=this.randomGenerator.getRandomString(6)}},{key:"get",value:function(e){var t=this.storage.get(e);if(!t)throw new Error("No value found in map storage with key `".concat(e,"`"));return t}},{key:"getKeyOf",value:function(e){var t=!0,r=!1,n=void 0;try{for(var o,s=(0,i.default)(this.storage);!(t=(o=s.next()).done);t=!0){var c=(0,a.default)(o.value,2),d=c[0];if(e===c[1])return d}}catch(e){r=!0,n=e}finally{try{t||null==s.return||s.return()}finally{if(r)throw n}}return null}},{key:"getLength",value:function(){return this.storage.size}},{key:"getStorage",value:function(){return this.storage}},{key:"getStorageId",value:function(){return this.storageId}},{key:"has",value:function(e){return this.storage.has(e)}},{key:"mergeWith",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.storage=new s.default((0,o.default)(this.storage).concat((0,o.default)(e.getStorage()))),t&&(this.storageId=e.getStorageId())}},{key:"set",value:function(e,t){this.storage.set(e,t)}}]),e}();u.__decorate([p.initializable(),u.__metadata("design:type",String)],m.prototype,"storageId",void 0),u.__decorate([p.initializable(),u.__metadata("design:type",s.default)],m.prototype,"storage",void 0),u.__decorate([l.postConstruct(),u.__metadata("design:type",Function),u.__metadata("design:paramtypes",[]),u.__metadata("design:returntype",void 0)],m.prototype,"initialize",null),m=u.__decorate([l.injectable(),u.__param(0,l.inject(f.ServiceIdentifiers.IRandomGenerator)),u.__param(1,l.inject(f.ServiceIdentifiers.IOptions)),u.__metadata("design:paramtypes",[Object,Object])],m),t.MapStorage=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.BlackListNodeGuard="BlackListNodeGuard",e.ConditionalCommentNodeGuard="ConditionalCommentNodeGuard"}(t.ObfuscatingGuard||(t.ObfuscatingGuard={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.BooleanLiteralObfuscatingReplacer="BooleanLiteralObfuscatingReplacer",e.NumberLiteralObfuscatingReplacer="NumberLiteralObfuscatingReplacer",e.StringLiteralObfuscatingReplacer="StringLiteralObfuscatingReplacer"}(t.LiteralObfuscatingReplacer||(t.LiteralObfuscatingReplacer={}))},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3));Object.defineProperty(t,"__esModule",{value:!0});var i=r(4),s=r(2),c=r(5),d=function(){function e(t,r){(0,o.default)(this,e),this.randomGenerator=t,this.options=r}return(0,a.default)(e,[{key:"isValidIdentifierName",value:function(e){return!this.options.reservedNames.length||!this.options.reservedNames.some(function(t){return null!==new RegExp(t,"g").exec(e)})}}]),e}();d=i.__decorate([s.injectable(),i.__param(0,s.inject(c.ServiceIdentifiers.IRandomGenerator)),i.__param(1,s.inject(c.ServiceIdentifiers.IOptions)),i.__metadata("design:paramtypes",[Object,Object])],d),t.AbstractIdentifierNamesGenerator=d},function(e,t){e.exports=require("@babel/runtime/core-js/object/freeze")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.ConsoleOutputCustomNodeGroup="ConsoleOutputCustomNodeGroup",e.DebugProtectionCustomNodeGroup="DebugProtectionCustomNodeGroup",e.DomainLockCustomNodeGroup="DomainLockCustomNodeGroup",e.SelfDefendingCustomNodeGroup="SelfDefendingCustomNodeGroup",e.StringArrayCustomNodeGroup="StringArrayCustomNodeGroup"}(t.CustomNodeGroup||(t.CustomNodeGroup={}))},function(e,t,r){"use strict";var n=r(0),o=n(r(32)),a=n(r(17)),i=n(r(1)),s=n(r(3));Object.defineProperty(t,"__esModule",{value:!0});var c,d=r(4),u=r(2),l=r(5),f=r(28),p=r(15),m=r(9),g=r(29),N=c=function(){function e(t,r){(0,i.default)(this,e),this.cachedHostNodesWithStatementsMap=new a.default,this.cachedHostStatementsMap=new a.default,this.randomGenerator=t,this.options=r}return(0,s.default)(e,[{key:"extractPropertiesToExpressionStatements",value:function(e,t){for(var r=e.length,n=[],o=[],a=0;a<r;a++){var i=e[a],s=i.value;if(!c.isProhibitedPattern(s)){var d=c.getPropertyNodeKeyName(i);if(d){var u=!i.computed||i.computed&&!!i.key&&m.NodeGuards.isLiteralNode(i.key)?p.NodeFactory.literalNode(d):p.NodeFactory.identifierNode(d),l=p.NodeFactory.memberExpressionNode(t,u,!0),f=p.NodeFactory.expressionStatementNode(p.NodeFactory.assignmentExpressionNode("=",l,s));m.NodeGuards.isObjectExpressionNode(i.value)&&this.transformObjectExpressionNode(i.value,l),n.push(f),o.push(a)}}}return[n,o]}},{key:"filterExtractedObjectExpressionProperties",value:function(e,t){e.properties=e.properties.filter(function(e,r){return!t.includes(r)})}},{key:"transformObjectExpressionNode",value:function(e,t){var r=e.properties,n=this.extractPropertiesToExpressionStatements(r,t),a=(0,o.default)(n,2),i=a[0],s=a[1],c=this.getHostStatement(e),d=this.getHostNodeWithStatements(e,c);return this.filterExtractedObjectExpressionProperties(e,s),f.NodeAppender.insertAfter(d,i,c),e}},{key:"getHostNodeWithStatements",value:function(e,t){if(this.cachedHostNodesWithStatementsMap.has(e))return this.cachedHostNodesWithStatementsMap.get(e);var r=g.NodeStatementUtils.getScopeOfNode(t);return this.cachedHostNodesWithStatementsMap.set(e,r),r}},{key:"getHostStatement",value:function(e){if(this.cachedHostStatementsMap.has(e))return this.cachedHostStatementsMap.get(e);var t=g.NodeStatementUtils.getRootStatementOfNode(e);return this.cachedHostStatementsMap.set(e,t),t}}],[{key:"getPropertyNodeKeyName",value:function(e){if(!e.key)return null;var t=e.key;return m.NodeGuards.isLiteralNode(t)&&"string"==typeof t.value?t.value:m.NodeGuards.isIdentifierNode(t)?t.name:null}},{key:"isProhibitedPattern",value:function(e){return m.NodeGuards.isObjectPatternNode(e)||m.NodeGuards.isArrayPatternNode(e)||m.NodeGuards.isAssignmentPatternNode(e)||m.NodeGuards.isRestElementNode(e)}}]),e}();N=c=d.__decorate([u.injectable(),d.__param(0,u.inject(l.ServiceIdentifiers.IRandomGenerator)),d.__param(1,u.inject(l.ServiceIdentifiers.IOptions)),d.__metadata("design:paramtypes",[Object,Object])],N),t.AbstractPropertiesExtractor=N},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.AssignmentExpressionPropertiesExtractor="AssignmentExpressionPropertiesExtractor",e.VariableDeclaratorPropertiesExtractor="VariableDeclaratorPropertiesExtractor"}(t.PropertiesExtractor||(t.PropertiesExtractor={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.BlockStatementDeadCodeInjectionNode="BlockStatementDeadCodeInjectionNode"}(t.DeadCodeInjectionCustomNode||(t.DeadCodeInjectionCustomNode={}))},function(e,t){e.exports=require("espree")},function(e,t){e.exports=require("@babel/runtime/helpers/typeof")},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3)),i=n(r(8)),s=n(r(7)),c=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var d=r(4),u=r(2),l=r(5),f=r(22),p=r(49),m=r(9),g=function(e){function t(e,r,n){return(0,o.default)(this,t),(0,i.default)(this,(0,s.default)(t).call(this,e,r,n))}return(0,c.default)(t,e),(0,a.default)(t,[{key:"getControlFlowStorageCallNode",value:function(e,t,r,n){var o=this.controlFlowCustomNodeFactory(f.ControlFlowCustomNode.ExpressionWithOperatorControlFlowStorageCallNode);o.initialize(e,t,r,n);var a=o.getNode()[0];if(!a||!m.NodeGuards.isExpressionStatementNode(a))throw new Error("`controlFlowStorageCallCustomNode.getNode()[0]` should returns array with `ExpressionStatement` node");return a.expression}}]),t}(p.AbstractControlFlowReplacer);g=d.__decorate([u.injectable(),d.__param(0,u.inject(l.ServiceIdentifiers.Factory__IControlFlowCustomNode)),d.__param(1,u.inject(l.ServiceIdentifiers.IRandomGenerator)),d.__param(2,u.inject(l.ServiceIdentifiers.IOptions)),d.__metadata("design:paramtypes",[Function,Object,Object])],g),t.ExpressionWithOperatorControlFlowReplacer=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.BinaryExpressionControlFlowReplacer="BinaryExpressionControlFlowReplacer",e.CallExpressionControlFlowReplacer="CallExpressionControlFlowReplacer",e.LogicalExpressionControlFlowReplacer="LogicalExpressionControlFlowReplacer",e.StringLiteralControlFlowReplacer="StringLiteralControlFlowReplacer"}(t.ControlFlowReplacer||(t.ControlFlowReplacer={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.FunctionDeclarationCalleeDataExtractor="FunctionDeclarationCalleeDataExtractor",e.FunctionExpressionCalleeDataExtractor="FunctionExpressionCalleeDataExtractor",e.ObjectExpressionCalleeDataExtractor="ObjectExpressionCalleeDataExtractor"}(t.CalleeDataExtractor||(t.CalleeDataExtractor={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Base="[javascript-obfuscator]",e.CLI="[javascript-obfuscator-cli]"}(t.LoggingPrefix||(t.LoggingPrefix={}))},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3));Object.defineProperty(t,"__esModule",{value:!0});var i,s=r(4),c=r(2),d=r(5),u=s.__importDefault(r(52)),l=r(68),f=i=function(){function e(t){(0,o.default)(this,e),this.options=t}return(0,a.default)(e,[{key:"info",value:function(e,t){this.options.log&&i.log(i.colorInfo,l.LoggingPrefix.Base,e,t)}},{key:"success",value:function(e,t){this.options.log&&i.log(i.colorSuccess,l.LoggingPrefix.Base,e,t)}},{key:"warn",value:function(e,t){this.options.log&&i.log(i.colorWarn,l.LoggingPrefix.Base,e,t)}}],[{key:"log",value:function(e,t,r,n){var o=e("\n".concat(t," ").concat(r));console.log(o,n||"")}}]),e}();f.colorInfo=u.default.cyan,f.colorSuccess=u.default.green,f.colorWarn=u.default.yellow,f=i=s.__decorate([c.injectable(),s.__param(0,c.inject(d.ServiceIdentifiers.IOptions)),s.__metadata("design:paramtypes",[Object])],f),t.Logger=f},function(e,t){e.exports=require("reflect-metadata")},function(e,t){e.exports=require("path")},function(e,t,r){"use strict";var n=r(0),o=n(r(37)),a=n(r(12)),i=n(r(1)),s=n(r(3));Object.defineProperty(t,"__esModule",{value:!0});var c=r(4),d=c.__importStar(r(224)),u=c.__importStar(r(71)),l=r(10),f=r(51),p=r(223),m=r(222),g=r(221),N=r(220),v=r(219),y=r(218),h=r(217),_=r(38),b=r(214),S=function(){function e(t){(0,i.default)(this,e),this.rawArguments=t,this.arguments=t.slice(2)}return(0,s.default)(e,[{key:"initialize",value:function(){this.inputPath=u.normalize(this.arguments[0]||""),this.commands=new d.Command,this.configureCommands(),this.configureHelp(),this.inputCLIOptions=this.commands.opts()}},{key:"run",value:function(){if(!this.arguments.length||this.arguments.includes("--help"))this.commands.outputHelp();else{var e=new b.SourceCodeReader(this.inputCLIOptions).readSourceCode(this.inputPath);this.processSourceCodeData(e)}}},{key:"buildOptions",value:function(){var t=e.filterOptions(this.inputCLIOptions),r=this.inputCLIOptions.config,n=r?u.resolve(r,"."):"",o=n?h.CLIUtils.getUserConfig(n):{},i=u.basename(this.inputPath);return(0,a.default)({},f.DEFAULT_PRESET,o,t,{inputFileName:i})}},{key:"configureCommands",value:function(){this.commands.usage("<inputPath> [options]").version("0.17.3","-v, --version").option("-o, --output <path>","Output path for obfuscated code").option("--compact <boolean>","Disable one line output code compacting",m.BooleanSanitizer).option("--config <boolean>","Name of js / json config file").option("--control-flow-flattening <boolean>","Enables control flow flattening",m.BooleanSanitizer).option("--control-flow-flattening-threshold <number>","The probability that the control flow flattening transformation will be applied to the node",parseFloat).option("--dead-code-injection <boolean>","Enables dead code injection",m.BooleanSanitizer).option("--dead-code-injection-threshold <number>","The probability that the dead code injection transformation will be applied to the node",parseFloat).option("--debug-protection <boolean>","Disable browser Debug panel (can cause DevTools enabled browser freeze)",m.BooleanSanitizer).option("--debug-protection-interval <boolean>","Disable browser Debug panel even after page was loaded (can cause DevTools enabled browser freeze)",m.BooleanSanitizer).option("--disable-console-output <boolean>","Allow console.log, console.info, console.error and console.warn messages output into browser console",m.BooleanSanitizer).option("--domain-lock <list> (comma separated, without whitespaces)","Blocks the execution of the code in domains that do not match the passed RegExp patterns (comma separated)",p.ArraySanitizer).option("--exclude <list> (comma separated, without whitespaces)","A filename or glob which indicates files to exclude from obfuscation",p.ArraySanitizer).option("--identifier-names-generator <string>","Sets identifier names generator. Values: hexadecimal, mangled. Default: hexadecimal",g.IdentifierNamesGeneratorSanitizer).option("--identifiers-prefix <string>","Sets prefix for all global identifiers.").option("--log <boolean>","Enables logging of the information to the console",m.BooleanSanitizer).option("--reserved-names <list> (comma separated, without whitespaces)","Disables obfuscation and generation of identifiers, which being matched by passed RegExp patterns (comma separated)",p.ArraySanitizer).option("--rename-globals <boolean>","Allows to enable obfuscation of global variable and function names with declaration.",m.BooleanSanitizer).option("--rotate-string-array <boolean>","Disable rotation of unicode array values during obfuscation",m.BooleanSanitizer).option("--seed <number>","Sets seed for random generator. This is useful for creating repeatable results.",parseFloat).option("--self-defending <boolean>","Disables self-defending for obfuscated code",m.BooleanSanitizer).option("--source-map <boolean>","Enables source map generation",m.BooleanSanitizer).option("--source-map-base-url <string>","Sets base url to the source map import url when `--source-map-mode=separate`").option("--source-map-file-name <string>","Sets file name for output source map when `--source-map-mode=separate`").option("--source-map-mode <string>","Specify source map output mode. Values: inline, separate. Default: separate",v.SourceMapModeSanitizer).option("--string-array <boolean>","Disables gathering of all literal strings into an array and replacing every literal string with an array call",m.BooleanSanitizer).option("--string-array-encoding <string|boolean>","Encodes all strings in strings array using base64 or rc4 (this option can slow down your code speed. Values: true, false, base64, rc4. Default: false",y.StringArrayEncodingSanitizer).option("--string-array-threshold <number>","The probability that the literal string will be inserted into stringArray (Default: 0.8, Min: 0, Max: 1)",parseFloat).option("--target <string>","Allows to set target environment for obfuscated code. Values: browser, browser-no-eval, node. Default: browser",N.ObfuscationTargetSanitizer).option("--transform-object-keys <boolean>","Enables transformation of object keys",m.BooleanSanitizer).option("--unicode-escape-sequence <boolean>","Allows to enable/disable string conversion to unicode escape sequence",m.BooleanSanitizer).parse(this.rawArguments)}},{key:"configureHelp",value:function(){this.commands.on("--help",function(){console.log("  Examples:\n"),console.log("    %> javascript-obfuscator input_file_name.js --compact true --self-defending false"),console.log("    %> javascript-obfuscator input_file_name.js --output output_file_name.js --compact true --self-defending false"),console.log("    %> javascript-obfuscator input_directory_name --compact true --self-defending false"),console.log("")})}},{key:"processSourceCodeData",value:function(e){var t=this,r=this.inputCLIOptions.output?u.normalize(this.inputCLIOptions.output):"";if(Array.isArray(e))e.forEach(function(e,n){var o=e.filePath,a=e.content,i=r?u.join(r,o):h.CLIUtils.getOutputCodePath(o);t.processSourceCode(a,i,n)});else{var n=r||h.CLIUtils.getOutputCodePath(this.inputPath);this.processSourceCode(e,n,null)}}},{key:"processSourceCode",value:function(t,r,n){var o=this.buildOptions();if(null!==n){var i=this.inputCLIOptions.identifiersPrefix||e.baseIdentifiersPrefix,s="".concat(i).concat(n);o=(0,a.default)({},o,{identifiersPrefix:s})}o.sourceMap?e.processSourceCodeWithSourceMap(t,r,o):e.processSourceCodeWithoutSourceMap(t,r,o)}}],[{key:"filterOptions",value:function(e){var t={};return(0,o.default)(e).forEach(function(r){void 0!==e[r]&&(t[r]=e[r])}),t}},{key:"processSourceCodeWithoutSourceMap",value:function(e,t,r){var n=_.JavaScriptObfuscator.obfuscate(e,r).getObfuscatedCode();h.CLIUtils.writeFile(t,n)}},{key:"processSourceCodeWithSourceMap",value:function(e,t,r){var n=h.CLIUtils.getOutputSourceMapPath(t,r.sourceMapFileName||"");r=(0,a.default)({},r,{sourceMapFileName:u.basename(n)});var o=_.JavaScriptObfuscator.obfuscate(e,r);h.CLIUtils.writeFile(t,o.getObfuscatedCode()),"separate"===r.sourceMapMode&&o.getSourceMap()&&h.CLIUtils.writeFile(n,o.getSourceMap())}}]),e}();S.encoding="utf8",S.obfuscatedFilePrefix="-obfuscated",S.baseIdentifiersPrefix="a",c.__decorate([l.initializable(),c.__metadata("design:type",Object)],S.prototype,"commands",void 0),c.__decorate([l.initializable(),c.__metadata("design:type",Object)],S.prototype,"inputCLIOptions",void 0),c.__decorate([l.initializable(),c.__metadata("design:type",String)],S.prototype,"inputPath",void 0),t.JavaScriptObfuscatorCLI=S},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Enter="enter",e.Leave="leave"}(t.VisitorDirection||(t.VisitorDirection={}))},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3));Object.defineProperty(t,"__esModule",{value:!0});var i=r(4),s=r(2),c=r(5),d=i.__importStar(r(18)),u=r(73),l=r(9),f=r(19),p=function(){function e(t){(0,o.default)(this,e),this.nodeTransformerFactory=t}return(0,a.default)(e,[{key:"transform",value:function(e,t,r){if(!t.length)return e;for(var n,o=[],a=[],i=t.length,s=0;s<i;s++)(n=this.nodeTransformerFactory(t[s]).getVisitor(r))&&(n.enter&&o.push({enter:n.enter}),n.leave&&a.push({leave:n.leave}));return o.length||a.length?(d.replace(e,{enter:this.mergeVisitorsForDirection(o,u.VisitorDirection.Enter),leave:this.mergeVisitorsForDirection(a,u.VisitorDirection.Leave)}),e):e}},{key:"mergeVisitorsForDirection",value:function(e,t){var r=e.length;return r?function(n,o){if(f.NodeMetadata.isIgnoredNode(n))return d.VisitorOption.Skip;for(var a=0;a<r;a++){var i=e[a][t];if(i){var s=i(n,o);s&&l.NodeGuards.isNode(s)&&(n=s)}}return n}:function(e,t){return e}}}]),e}();p=i.__decorate([s.injectable(),i.__param(0,s.inject(c.ServiceIdentifiers.Factory__INodeTransformer)),i.__metadata("design:paramtypes",[Function])],p),t.TransformersRunner=p},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3));Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(t,r){(0,o.default)(this,e),this.sourceCode=t,this.sourceMap=r}return(0,a.default)(e,[{key:"getSourceCode",value:function(){return this.sourceCode}},{key:"getSourceMap",value:function(){return this.sourceMap}},{key:"toString",value:function(){return this.sourceCode}}]),e}();t.SourceCode=i},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3));Object.defineProperty(t,"__esModule",{value:!0});var i=r(4),s=r(2),c=r(5),d=r(10),u=r(40),l=function(){function e(t,r){(0,o.default)(this,e),this.cryptUtils=t,this.options=r}return(0,a.default)(e,[{key:"initialize",value:function(e,t){this.obfuscatedCode=e,this.sourceMap=t}},{key:"getObfuscatedCode",value:function(){return this.correctObfuscatedCode()}},{key:"getSourceMap",value:function(){return this.sourceMap}},{key:"toString",value:function(){return this.obfuscatedCode}},{key:"correctObfuscatedCode",value:function(){if(!this.sourceMap)return this.obfuscatedCode;var e=this.options.sourceMapBaseUrl+this.options.sourceMapFileName,t="//# sourceMappingURL=";switch(this.options.sourceMapMode){case u.SourceMapMode.Inline:t+="data:application/json;base64,".concat(this.cryptUtils.btoa(this.sourceMap));break;case u.SourceMapMode.Separate:default:if(!e)return this.obfuscatedCode;t+=e}return"".concat(this.obfuscatedCode,"\n").concat(t)}}]),e}();i.__decorate([d.initializable(),i.__metadata("design:type",String)],l.prototype,"obfuscatedCode",void 0),i.__decorate([d.initializable(),i.__metadata("design:type",String)],l.prototype,"sourceMap",void 0),l=i.__decorate([s.injectable(),i.__param(0,s.inject(c.ServiceIdentifiers.ICryptUtils)),i.__param(1,s.inject(c.ServiceIdentifiers.IOptions)),i.__metadata("design:paramtypes",[Object,Object])],l),t.ObfuscatedCode=l},function(e,t){e.exports=require("events")},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(8)),i=n(r(7)),s=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var c=r(4),d=r(2),u=r(77);d.decorate(d.injectable(),u.EventEmitter);var l=function(e){function t(){return(0,o.default)(this,t),(0,a.default)(this,(0,i.default)(t).apply(this,arguments))}return(0,s.default)(t,e),t}(u.EventEmitter);l=c.__decorate([d.injectable()],l),t.ObfuscationEventEmitter=l},function(e,t,r){"use strict";var n=r(0),o=n(r(12)),a=n(r(1)),i=n(r(3));Object.defineProperty(t,"__esModule",{value:!0});var s=r(4),c=s.__importStar(r(63)),d=s.__importDefault(r(52)),u=function(){function e(){(0,a.default)(this,e)}return(0,i.default)(e,null,[{key:"parse",value:function(t,r){for(var n=e.sourceTypes.length,o=0;o<n;o++)try{return e.parseType(t,r,e.sourceTypes[o])}catch(r){if(o<n-1)continue;throw new Error(e.processParsingError(t,r.message,{line:r.lineNumber,column:r.column}))}throw new Error("Espree parsing error")}},{key:"parseType",value:function(e,t,r){var n=(0,o.default)({},t,{sourceType:r});return c.parse(e,n)}},{key:"processParsingError",value:function(t,r,n){if(!n||!n.line||!n.column)throw new Error(r);var o=t.split(/\r?\n/)[n.line-1];if(!o)throw new Error(r);var a=Math.max(0,n.column-e.nearestSymbolsCount),i=Math.min(o.length,n.column+e.nearestSymbolsCount),s=e.colorError(">"),c="...".concat(o.substring(a,i).replace(/^\s+/,""),"...");throw new Error("Line ".concat(n.line,": ").concat(r,"\n").concat(s," ").concat(c))}}]),e}();u.colorError=d.default.red,u.nearestSymbolsCount=15,u.sourceTypes=["script","module"],t.EspreeFacade=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.EmptySourceCode="Empty source code. Obfuscation canceled...",e.ObfuscationCompleted="Obfuscation completed. Total time: %s sec.",e.ObfuscationStarted="Obfuscation started...",e.RandomGeneratorSeed="Random generator seed: %s...",e.TransformationStage="Transformation stage: %s...",e.Version="Version: %s"}(t.LoggingMessage||(t.LoggingMessage={}))},function(e,t,r){"use strict";var n=r(0),o=n(r(12)),a=n(r(1)),i=n(r(3));Object.defineProperty(t,"__esModule",{value:!0});var s,c=r(4),d=r(2),u=r(5),l=c.__importStar(r(48)),f=r(80),p=r(34),m=r(13),g=r(79),N=r(9),v=s=function(){function e(t,r,n,o,i){(0,a.default)(this,e),this.transformersRunner=t,this.randomGenerator=r,this.obfuscatedCodeFactory=n,this.logger=o,this.options=i}return(0,i.default)(e,[{key:"obfuscate",value:function(e){var t=Date.now();this.logger.info(f.LoggingMessage.Version,"0.17.3"),this.logger.info(f.LoggingMessage.ObfuscationStarted),this.logger.info(f.LoggingMessage.RandomGeneratorSeed,this.randomGenerator.getSeed());var r=this.parseCode(e),n=this.transformAstTree(r),o=this.generateCode(e,n),a=(Date.now()-t)/1e3;return this.logger.success(f.LoggingMessage.ObfuscationCompleted,a),this.getObfuscatedCode(o)}},{key:"parseCode",value:function(e){return g.EspreeFacade.parse(e,s.espreeParseOptions)}},{key:"transformAstTree",value:function(e){return!N.NodeGuards.isProgramNode(e)||e.body.length||e.leadingComments||e.trailingComments?(e=this.runTransformationStage(e,m.TransformationStage.Preparing),this.options.deadCodeInjection&&(e=this.runTransformationStage(e,m.TransformationStage.DeadCodeInjection)),this.options.controlFlowFlattening&&(e=this.runTransformationStage(e,m.TransformationStage.ControlFlowFlattening)),e=this.runTransformationStage(e,m.TransformationStage.Converting),e=this.runTransformationStage(e,m.TransformationStage.Obfuscating),e=this.runTransformationStage(e,m.TransformationStage.Finalizing)):(this.logger.warn(f.LoggingMessage.EmptySourceCode),e)}},{key:"generateCode",value:function(e,t){var r=(0,o.default)({},s.escodegenParams);this.options.sourceMap&&(r.sourceMap=this.options.inputFileName||"sourceMap",r.sourceContent=e);var n=l.generate(t,(0,o.default)({},r,{format:{compact:this.options.compact}}));return n.map=n.map?n.map.toString():"",n}},{key:"getObfuscatedCode",value:function(e){return this.obfuscatedCodeFactory(e.code,e.map)}},{key:"runTransformationStage",value:function(e,t){return this.logger.info(f.LoggingMessage.TransformationStage,t),this.transformersRunner.transform(e,s.transformersList,t)}}]),e}();v.espreeParseOptions={attachComment:!0,comment:!0,ecmaFeatures:{experimentalObjectRestSpread:!0},ecmaVersion:9,loc:!0,range:!0},v.escodegenParams={comment:!0,verbatim:"x-verbatim-property",sourceMapWithCode:!0},v.transformersList=[p.NodeTransformer.BlockStatementControlFlowTransformer,p.NodeTransformer.ClassDeclarationTransformer,p.NodeTransformer.CommentsTransformer,p.NodeTransformer.CustomNodesTransformer,p.NodeTransformer.DeadCodeInjectionTransformer,p.NodeTransformer.EvalCallExpressionTransformer,p.NodeTransformer.FunctionControlFlowTransformer,p.NodeTransformer.CatchClauseTransformer,p.NodeTransformer.FunctionDeclarationTransformer,p.NodeTransformer.FunctionTransformer,p.NodeTransformer.ImportDeclarationTransformer,p.NodeTransformer.LabeledStatementTransformer,p.NodeTransformer.LiteralTransformer,p.NodeTransformer.MemberExpressionTransformer,p.NodeTransformer.MetadataTransformer,p.NodeTransformer.MethodDefinitionTransformer,p.NodeTransformer.ObfuscatingGuardsTransformer,p.NodeTransformer.ObjectExpressionKeysTransformer,p.NodeTransformer.ObjectExpressionTransformer,p.NodeTransformer.ParentificationTransformer,p.NodeTransformer.TemplateLiteralTransformer,p.NodeTransformer.VariableDeclarationTransformer],v=s=c.__decorate([d.injectable(),c.__param(0,d.inject(u.ServiceIdentifiers.ITransformersRunner)),c.__param(1,d.inject(u.ServiceIdentifiers.IRandomGenerator)),c.__param(2,d.inject(u.ServiceIdentifiers.Factory__IObfuscatedCode)),c.__param(3,d.inject(u.ServiceIdentifiers.ILogger)),c.__param(4,d.inject(u.ServiceIdentifiers.IOptions)),c.__metadata("design:paramtypes",[Object,Object,Function,Object,Object])],v),t.JavaScriptObfuscator=v},function(e,t,r){"use strict";var n=r(0),o=n(r(17)),a=n(r(1)),i=n(r(3));Object.defineProperty(t,"__esModule",{value:!0});var s=r(4),c=r(2),d=function(){function e(){(0,a.default)(this,e),this.stringsCache=new o.default}return(0,i.default)(e,[{key:"encode",value:function(e,t){var r="".concat(e,"-").concat(String(t));if(this.stringsCache.has(r))return this.stringsCache.get(r);var n,o,a=new RegExp("[\\s\\S]","g"),i=new RegExp("['\"\\\\\\s]"),s=new RegExp("[\\x00-\\x7F]"),c=e.replace(a,function(e){return t||i.exec(e)?(s.exec(e)?(n="\\x",o="00"):(n="\\u",o="0000"),"".concat(n).concat((o+e.charCodeAt(0).toString(16)).slice(-o.length))):e});return this.stringsCache.set(r,c),c}}]),e}();d=s.__decorate([c.injectable()],d),t.EscapeSequenceEncoder=d},function(e,t){e.exports=require("chance")},function(e,t){e.exports=require("md5")},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3));Object.defineProperty(t,"__esModule",{value:!0});var i=r(4),s=r(2),c=r(5),d=r(53),u=r(35),l=function(){function e(t){(0,o.default)(this,e),this.randomGenerator=t}return(0,a.default)(e,[{key:"btoa",value:function(e){var t="";e=encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode(parseInt("".concat(u.Utils.hexadecimalPrefix).concat(t)))});for(var r,n,o=0,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.charAt(0|o)||(a="=",o%1);t+=a.charAt(63&r>>8-o%1*8)){if((n=e.charCodeAt(o+=.75))>255)throw new Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");r=r<<8|n}return t}},{key:"hideString",value:function(e,t){var r=this,n=this.randomGenerator.getRandomGenerator().string({length:t,pool:d.RandomGenerator.randomGeneratorPool}).replace(new RegExp("[".concat(e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),"]"),"g"),""),o=n.split("");return this.randomGenerator.getRandomGenerator().shuffle(o),[function(e,t){for(var n=-1,o=-1,a="";n<e.length||o<t.length;)r.randomGenerator.getMathRandom()<.5&&o<t.length?a+=t.charAt(++o):a+=e.charAt(++n);return a}(e,n=o.join("")),n]}},{key:"rc4",value:function(e,t){for(var r,n=[],o=0,a="",i=0;i<256;i++)n[i]=i;for(i=0;i<256;i++)o=(o+n[i]+t.charCodeAt(i%t.length))%256,r=n[i],n[i]=n[o],n[o]=r;i=0,o=0;for(var s=0;s<e.length;s++)o=(o+n[i=(i+1)%256])%256,r=n[i],n[i]=n[o],n[o]=r,a+=String.fromCharCode(e.charCodeAt(s)^n[(n[i]+n[o])%256]);return a}}]),e}();l=i.__decorate([s.injectable(),i.__param(0,s.inject(c.ServiceIdentifiers.IRandomGenerator)),i.__metadata("design:paramtypes",[Object])],l),t.CryptUtils=l},function(e,t,r){"use strict";var n=r(0),o=n(r(30)),a=n(r(1)),i=n(r(3));Object.defineProperty(t,"__esModule",{value:!0});var s=r(4),c=r(2),d=r(5),u=function(){function e(t){(0,a.default)(this,e),this.randomGenerator=t}return(0,i.default)(e,[{key:"createWithRange",value:function(e){for(var t=[],r=0;r<e;r++)t.push(r);return t}},{key:"rotate",value:function(e,t){if(!e.length)throw new ReferenceError("Cannot rotate empty array.");if(t<=0)return e;for(var r,n=e;t--;)(r=n.pop())&&n.unshift(r);return n}},{key:"shuffle",value:function(e){for(var t=(0,o.default)(e),r=t.length;r;r--){var n=Math.floor(this.randomGenerator.getMathRandom()*r),a=[t[n],t[r-1]];t[r-1]=a[0],t[n]=a[1]}return t}}]),e}();u=s.__decorate([c.injectable(),s.__param(0,c.inject(d.ServiceIdentifiers.IRandomGenerator)),s.__metadata("design:paramtypes",[Object])],u),t.ArrayUtils=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=r(5),a=r(86),i=r(85),s=r(82),c=r(53);t.utilsModule=new n.ContainerModule(function(e){e(o.ServiceIdentifiers.IArrayUtils).to(a.ArrayUtils).inSingletonScope(),e(o.ServiceIdentifiers.IRandomGenerator).to(c.RandomGenerator).inSingletonScope(),e(o.ServiceIdentifiers.ICryptUtils).to(i.CryptUtils).inSingletonScope(),e(o.ServiceIdentifiers.IEscapeSequenceEncoder).to(s.EscapeSequenceEncoder).inSingletonScope()})},function(e,t,r){"use strict";var n=r(0),o=n(r(30)),a=n(r(1)),i=n(r(3));Object.defineProperty(t,"__esModule",{value:!0});var s=r(4),c=r(2),d=r(5),u=r(10),l=function(){function e(t,r){(0,a.default)(this,e),this.storageLength=0,this.randomGenerator=t,this.options=r}return(0,i.default)(e,[{key:"initialize",value:function(){this.storage=[],this.storageId=this.randomGenerator.getRandomString(6)}},{key:"get",value:function(e){var t=this.storage[e];if(!t)throw new Error("No value found in array storage with key `".concat(e,"`"));return t}},{key:"getKeyOf",value:function(e){var t=this.storage.indexOf(e);return t>=0?t:null}},{key:"getLength",value:function(){return this.storageLength}},{key:"getStorage",value:function(){return this.storage}},{key:"getStorageId",value:function(){return this.storageId}},{key:"mergeWith",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.storage=(0,o.default)(this.storage).concat((0,o.default)(e.getStorage())),t&&(this.storageId=e.getStorageId())}},{key:"set",value:function(e,t){e===this.storageLength?this.storage.push(t):this.storage.splice(e,0,t),this.storageLength++}}]),e}();s.__decorate([u.initializable(),s.__metadata("design:type",Array)],l.prototype,"storage",void 0),s.__decorate([u.initializable(),s.__metadata("design:type",String)],l.prototype,"storageId",void 0),s.__decorate([c.postConstruct(),s.__metadata("design:type",Function),s.__metadata("design:paramtypes",[]),s.__metadata("design:returntype",void 0)],l.prototype,"initialize",null),l=s.__decorate([c.injectable(),s.__param(0,c.inject(d.ServiceIdentifiers.IRandomGenerator)),s.__param(1,c.inject(d.ServiceIdentifiers.IOptions)),s.__metadata("design:paramtypes",[Object,Object])],l),t.ArrayStorage=l},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3)),i=n(r(8)),s=n(r(7)),c=n(r(44)),d=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var u,l=r(4),f=r(2),p=r(5),m=r(88),g=u=function(e){function t(e,r,n,a){var c;return(0,o.default)(this,t),(c=(0,i.default)(this,(0,s.default)(t).call(this,n,a))).identifierNamesGenerator=e(a),c.arrayUtils=r,c}return(0,d.default)(t,e),(0,a.default)(t,[{key:"initialize",value:function(){(0,c.default)((0,s.default)(t.prototype),"initialize",this).call(this);var e=this.identifierNamesGenerator.generate().slice(0,u.stringArrayNameLength),r=this.identifierNamesGenerator.generate().slice(0,u.stringArrayNameLength),n="".concat(this.options.identifiersPrefix).concat(e),o="".concat(this.options.identifiersPrefix).concat(r);this.storageId="".concat(n,"|").concat(o)}},{key:"rotateArray",value:function(e){this.storage=this.arrayUtils.rotate(this.storage,e)}},{key:"toString",value:function(){return this.storage.map(function(e){return"'".concat(e,"'")}).toString()}}]),t}(m.ArrayStorage);g.stringArrayNameLength=7,l.__decorate([f.postConstruct(),l.__metadata("design:type",Function),l.__metadata("design:paramtypes",[]),l.__metadata("design:returntype",void 0)],g.prototype,"initialize",null),g=u=l.__decorate([f.injectable(),l.__param(0,f.inject(p.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),l.__param(1,f.inject(p.ServiceIdentifiers.IArrayUtils)),l.__param(2,f.inject(p.ServiceIdentifiers.IRandomGenerator)),l.__param(3,f.inject(p.ServiceIdentifiers.IOptions)),l.__metadata("design:paramtypes",[Function,Object,Object,Object])],g),t.StringArrayStorage=g},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3)),i=n(r(8)),s=n(r(7)),c=n(r(44)),d=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var u,l=r(4),f=r(2),p=r(5),m=r(59),g=r(54),N=u=function(e){function t(e,r,n){var a;return(0,o.default)(this,t),(a=(0,i.default)(this,(0,s.default)(t).call(this,r,n))).customNodeGroupFactory=e,a}return(0,d.default)(t,e),(0,a.default)(t,[{key:"initialize",value:function(){var e=this;(0,c.default)((0,s.default)(t.prototype),"initialize",this).call(this),u.customNodeGroupsList.forEach(function(t){var r=e.customNodeGroupFactory(t);r&&e.storage.set(t,r)})}}]),t}(g.MapStorage);N.customNodeGroupsList=[m.CustomNodeGroup.ConsoleOutputCustomNodeGroup,m.CustomNodeGroup.DebugProtectionCustomNodeGroup,m.CustomNodeGroup.DomainLockCustomNodeGroup,m.CustomNodeGroup.SelfDefendingCustomNodeGroup,m.CustomNodeGroup.StringArrayCustomNodeGroup],l.__decorate([f.postConstruct(),l.__metadata("design:type",Function),l.__metadata("design:paramtypes",[]),l.__metadata("design:returntype",void 0)],N.prototype,"initialize",null),N=u=l.__decorate([f.injectable(),l.__param(0,f.inject(p.ServiceIdentifiers.Factory__ICustomNodeGroup)),l.__param(1,f.inject(p.ServiceIdentifiers.IRandomGenerator)),l.__param(2,f.inject(p.ServiceIdentifiers.IOptions)),l.__metadata("design:paramtypes",[Function,Object,Object])],N),t.CustomNodeGroupStorage=N},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(8)),i=n(r(7)),s=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var c=r(4),d=r(2),u=r(5),l=function(e){function t(e,r){return(0,o.default)(this,t),(0,a.default)(this,(0,i.default)(t).call(this,e,r))}return(0,s.default)(t,e),t}(r(54).MapStorage);l=c.__decorate([d.injectable(),c.__param(0,d.inject(u.ServiceIdentifiers.IRandomGenerator)),c.__param(1,d.inject(u.ServiceIdentifiers.IOptions)),c.__metadata("design:paramtypes",[Object,Object])],l),t.ControlFlowStorage=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=r(5),a=r(91),i=r(90),s=r(89);t.storagesModule=new n.ContainerModule(function(e){e(o.ServiceIdentifiers.TCustomNodeGroupStorage).to(i.CustomNodeGroupStorage).inSingletonScope(),e(o.ServiceIdentifiers.TStringArrayStorage).to(s.StringArrayStorage).inSingletonScope(),e(o.ServiceIdentifiers.Newable__TControlFlowStorage).toConstructor(a.ControlFlowStorage),e(o.ServiceIdentifiers.Factory__TControlFlowStorage).toFactory(function(e){return function(){var t=new(e.container.get(o.ServiceIdentifiers.Newable__TControlFlowStorage))(e.container.get(o.ServiceIdentifiers.IRandomGenerator),e.container.get(o.ServiceIdentifiers.IOptions));return t.initialize(),t}})})},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3)),i=n(r(8)),s=n(r(7)),c=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var d=r(4),u=r(2),l=r(5),f=r(13),p=r(14),m=r(11),g=function(e){function t(e,r){return(0,o.default)(this,t),(0,i.default)(this,(0,s.default)(t).call(this,e,r))}return(0,c.default)(t,e),(0,a.default)(t,[{key:"getVisitor",value:function(e){var t=this;switch(e){case f.TransformationStage.Preparing:return{enter:function(e,r){return t.transformNode(e,r)}};default:return null}}},{key:"transformNode",value:function(e,t){return m.NodeUtils.parentizeNode(e,t)}}]),t}(p.AbstractNodeTransformer);g=d.__decorate([u.injectable(),d.__param(0,u.inject(l.ServiceIdentifiers.IRandomGenerator)),d.__param(1,u.inject(l.ServiceIdentifiers.IOptions)),d.__metadata("design:paramtypes",[Object,Object])],g),t.ParentificationTransformer=g},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3)),i=n(r(8)),s=n(r(7)),c=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var d,u=r(4),l=r(2),f=r(5),p=r(55),m=r(13),g=r(14),N=r(19),v=d=function(e){function t(e,r,n){var a;return(0,o.default)(this,t),(a=(0,i.default)(this,(0,s.default)(t).call(this,r,n))).obfuscatingGuards=d.obfuscatingGuardsList.map(e),a}return(0,c.default)(t,e),(0,a.default)(t,[{key:"getVisitor",value:function(e){var t=this;switch(e){case m.TransformationStage.Preparing:return{enter:function(e,r){return t.transformNode(e,r)}};default:return null}}},{key:"transformNode",value:function(e,t){var r=this.obfuscatingGuards.every(function(t){return t.check(e)});return N.NodeMetadata.set(e,{ignoredNode:!r}),e}}]),t}(g.AbstractNodeTransformer);v.obfuscatingGuardsList=[p.ObfuscatingGuard.BlackListNodeGuard,p.ObfuscatingGuard.ConditionalCommentNodeGuard],v=d=u.__decorate([l.injectable(),u.__param(0,l.inject(f.ServiceIdentifiers.Factory__INodeGuard)),u.__param(1,l.inject(f.ServiceIdentifiers.IRandomGenerator)),u.__param(2,l.inject(f.ServiceIdentifiers.IOptions)),u.__metadata("design:paramtypes",[Function,Object,Object])],v),t.ObfuscatingGuardsTransformer=v},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3)),i=n(r(8)),s=n(r(7)),c=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var d=r(4),u=r(2),l=r(5),f=r(13),p=r(14),m=r(9),g=r(19),N=function(e){function t(e,r){return(0,o.default)(this,t),(0,i.default)(this,(0,s.default)(t).call(this,e,r))}return(0,c.default)(t,e),(0,a.default)(t,[{key:"getVisitor",value:function(e){var t=this;switch(e){case f.TransformationStage.Preparing:return{enter:function(e,r){return t.transformNode(e,r)}};default:return null}}},{key:"transformNode",value:function(e,t){return g.NodeMetadata.set(e,{ignoredNode:!1}),m.NodeGuards.isIdentifierNode(e)&&g.NodeMetadata.set(e,{renamedIdentifier:!1}),m.NodeGuards.isLiteralNode(e)&&g.NodeMetadata.set(e,{replacedLiteral:!1}),e}}]),t}(p.AbstractNodeTransformer);N=d.__decorate([u.injectable(),d.__param(0,u.inject(l.ServiceIdentifiers.IRandomGenerator)),d.__param(1,u.inject(l.ServiceIdentifiers.IOptions)),d.__metadata("design:paramtypes",[Object,Object])],N),t.MetadataTransformer=N},function(e,t){e.exports=require("js-string-escape")},function(e,t,r){"use strict";var n=r(0),o=n(r(33)),a=n(r(1)),i=n(r(3)),s=n(r(8)),c=n(r(7)),d=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var u,l=r(4),f=r(2),p=r(5),m=l.__importDefault(r(96)),g=r(13),N=r(14),v=r(15),y=r(9),h=r(11),_=u=function(e){function t(e,r){var n;return(0,a.default)(this,t),(n=(0,s.default)(this,(0,c.default)(t).call(this,e,r))).evalRootAstHostNodeSet=new o.default,n}return(0,d.default)(t,e),(0,i.default)(t,[{key:"getVisitor",value:function(e){var t=this;switch(e){case g.TransformationStage.Preparing:return{enter:function(e,r){if(r&&y.NodeGuards.isCallExpressionNode(e)&&y.NodeGuards.isIdentifierNode(e.callee)&&"eval"===e.callee.name)return t.transformNode(e,r)}};case g.TransformationStage.Finalizing:return this.evalRootAstHostNodeSet.size?{leave:function(e,r){if(r&&t.isEvalRootAstHostNode(e))return t.restoreNode(e,r)}}:null;default:return null}}},{key:"transformNode",value:function(e,t){var r=e.arguments[0];if(!r)return e;var n,o=u.extractEvalStringFromCallExpressionArgument(r);if(!o)return e;try{n=h.NodeUtils.convertCodeToStructure(o)}catch(t){return e}var a=v.NodeFactory.functionExpressionNode([],v.NodeFactory.blockStatementNode(n));return this.evalRootAstHostNodeSet.add(a),a}},{key:"restoreNode",value:function(e,t){var r=e.body.body,n=h.NodeUtils.convertStructureToCode(r);return v.NodeFactory.callExpressionNode(v.NodeFactory.identifierNode("eval"),[v.NodeFactory.literalNode(m.default(n))])}},{key:"isEvalRootAstHostNode",value:function(e){return y.NodeGuards.isFunctionExpressionNode(e)&&this.evalRootAstHostNodeSet.has(e)}}],[{key:"extractEvalStringFromCallExpressionArgument",value:function(e){return y.NodeGuards.isLiteralNode(e)?u.extractEvalStringFromLiteralNode(e):y.NodeGuards.isTemplateLiteralNode(e)?u.extractEvalStringFromTemplateLiteralNode(e):null}},{key:"extractEvalStringFromLiteralNode",value:function(e){return"string"==typeof e.value?e.value:null}},{key:"extractEvalStringFromTemplateLiteralNode",value:function(e){var t=e.quasis;return 1!==t.length||e.expressions.length?null:t[0].value.cooked}}]),t}(N.AbstractNodeTransformer);_=u=l.__decorate([f.injectable(),l.__param(0,f.inject(p.ServiceIdentifiers.IRandomGenerator)),l.__param(1,f.inject(p.ServiceIdentifiers.IOptions)),l.__metadata("design:paramtypes",[Object,Object])],_),t.EvalCallExpressionTransformer=_},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3)),i=n(r(8)),s=n(r(7)),c=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var d=r(4),u=r(2),l=r(5),f=r(27),p=r(13),m=r(14),g=r(9),N=function(e){function t(e,r,n,a,c){var d;return(0,o.default)(this,t),(d=(0,i.default)(this,(0,s.default)(t).call(this,a,c))).stackTraceData=[],d.stackTraceAnalyzer=e,d.obfuscationEventEmitter=r,d.customNodeGroupStorage=n,d}return(0,c.default)(t,e),(0,a.default)(t,[{key:"getVisitor",value:function(e){var t=this;switch(e){case p.TransformationStage.Preparing:return{leave:function(e,r){if(g.NodeGuards.isProgramNode(e))return t.analyzeNode(e,r),t.appendCustomNodesBeforeObfuscation(e,r),t.transformNode(e,r)}};case p.TransformationStage.Finalizing:return{leave:function(e,r){g.NodeGuards.isProgramNode(e)&&t.appendCustomNodesAfterObfuscation(e,r)}};default:return null}}},{key:"analyzeNode",value:function(e,t){this.stackTraceData=this.stackTraceAnalyzer.analyze(e)}},{key:"transformNode",value:function(e,t){return e}},{key:"appendCustomNodesBeforeObfuscation",value:function(e,t){var r=this;this.customNodeGroupStorage.getStorage().forEach(function(e){e.initialize(),r.obfuscationEventEmitter.once(e.getAppendEvent(),e.appendCustomNodes.bind(e))}),this.obfuscationEventEmitter.emit(f.ObfuscationEvent.BeforeObfuscation,e,this.stackTraceData)}},{key:"appendCustomNodesAfterObfuscation",value:function(e,t){this.obfuscationEventEmitter.emit(f.ObfuscationEvent.AfterObfuscation,e,this.stackTraceData)}}]),t}(m.AbstractNodeTransformer);N=d.__decorate([u.injectable(),d.__param(0,u.inject(l.ServiceIdentifiers.IStackTraceAnalyzer)),d.__param(1,u.inject(l.ServiceIdentifiers.IObfuscationEventEmitter)),d.__param(2,u.inject(l.ServiceIdentifiers.TCustomNodeGroupStorage)),d.__param(3,u.inject(l.ServiceIdentifiers.IRandomGenerator)),d.__param(4,u.inject(l.ServiceIdentifiers.IOptions)),d.__metadata("design:paramtypes",[Object,Object,Object,Object,Object])],N),t.CustomNodesTransformer=N},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3));Object.defineProperty(t,"__esModule",{value:!0});var i,s=r(4),c=r(2),d=r(9),u=i=function(){function e(){(0,o.default)(this,e),this.obfuscationAllowedForCurrentNode=!0,this.obfuscationAllowedForNextNode=null}return(0,a.default)(e,[{key:"check",value:function(e){if(this.obfuscationAllowedForNextNode&&(this.obfuscationAllowedForCurrentNode=this.obfuscationAllowedForNextNode,this.obfuscationAllowedForNextNode=null),!d.NodeGuards.isNodeWithComments(e))return this.obfuscationAllowedForCurrentNode;var t=e.leadingComments,r=e.trailingComments;return t&&(this.obfuscationAllowedForCurrentNode=this.checkComments(t)),r&&(this.obfuscationAllowedForNextNode=this.checkComments(r)),this.obfuscationAllowedForCurrentNode}},{key:"checkComments",value:function(e){for(var t=e.length,r=this.obfuscationAllowedForCurrentNode,n=0;n<t;n++){var o=e[n];i.obfuscationEnableCommentRegExp.test(o.value)?r=!0:i.obfuscationDisableCommentRegExp.test(o.value)&&(r=!1)}return r}}]),e}();u.obfuscationEnableCommentRegExp=new RegExp("javascript-obfuscator *: *enable"),u.obfuscationDisableCommentRegExp=new RegExp("javascript-obfuscator *: *disable"),u=i=s.__decorate([c.injectable()],u),t.ConditionalCommentObfuscatingGuard=u},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3)),i=n(r(8)),s=n(r(7)),c=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var d,u=r(4),l=r(2),f=r(5),p=r(13),m=r(14),g=r(9),N=d=function(e){function t(e,r){return(0,o.default)(this,t),(0,i.default)(this,(0,s.default)(t).call(this,e,r))}return(0,c.default)(t,e),(0,a.default)(t,[{key:"getVisitor",value:function(e){var t=this;switch(e){case p.TransformationStage.Preparing:return{leave:function(e,r){if(r&&g.NodeGuards.isNodeWithComments(e))return t.transformNode(e,r)}};default:return null}}},{key:"transformNode",value:function(e,t){return e.leadingComments&&(e.leadingComments=this.transformComments(e.leadingComments)),e.trailingComments&&(e.trailingComments=this.transformComments(e.trailingComments)),e}},{key:"transformComments",value:function(e){return e.filter(function(e){return d.preservedWords.some(function(t){return e.value.includes(t)})})}}]),t}(m.AbstractNodeTransformer);N.preservedWords=["@license","@preserve"],N=d=u.__decorate([l.injectable(),u.__param(0,l.inject(f.ServiceIdentifiers.IRandomGenerator)),u.__param(1,l.inject(f.ServiceIdentifiers.IOptions)),u.__metadata("design:paramtypes",[Object,Object])],N),t.CommentsTransformer=N},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3));Object.defineProperty(t,"__esModule",{value:!0});var i,s=r(4),c=r(2),d=r(9),u=i=function(){function e(){(0,o.default)(this,e),this.blackListGuardsLength=i.blackListGuards.length}return(0,a.default)(e,[{key:"check",value:function(e){for(var t=0;t<this.blackListGuardsLength;t++)if(i.blackListGuards[t](e))return!1;return!0}}]),e}();u.blackListGuards=[d.NodeGuards.isUseStrictOperator],u=i=s.__decorate([c.injectable(),s.__metadata("design:paramtypes",[])],u),t.BlackListObfuscatingGuard=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(24),o=r(2),a=r(5),i=r(34),s=r(55),c=r(101),d=r(100),u=r(99),l=r(98),f=r(97),p=r(95),m=r(94),g=r(93);t.preparingTransformersModule=new o.ContainerModule(function(e){e(a.ServiceIdentifiers.INodeTransformer).to(d.CommentsTransformer).whenTargetNamed(i.NodeTransformer.CommentsTransformer),e(a.ServiceIdentifiers.INodeTransformer).to(l.CustomNodesTransformer).whenTargetNamed(i.NodeTransformer.CustomNodesTransformer),e(a.ServiceIdentifiers.INodeTransformer).to(f.EvalCallExpressionTransformer).whenTargetNamed(i.NodeTransformer.EvalCallExpressionTransformer),e(a.ServiceIdentifiers.INodeTransformer).to(p.MetadataTransformer).whenTargetNamed(i.NodeTransformer.MetadataTransformer),e(a.ServiceIdentifiers.INodeTransformer).to(m.ObfuscatingGuardsTransformer).whenTargetNamed(i.NodeTransformer.ObfuscatingGuardsTransformer),e(a.ServiceIdentifiers.INodeTransformer).to(g.ParentificationTransformer).whenTargetNamed(i.NodeTransformer.ParentificationTransformer),e(a.ServiceIdentifiers.INodeGuard).to(c.BlackListObfuscatingGuard).inSingletonScope().whenTargetNamed(s.ObfuscatingGuard.BlackListNodeGuard),e(a.ServiceIdentifiers.INodeGuard).to(u.ConditionalCommentObfuscatingGuard).inSingletonScope().whenTargetNamed(s.ObfuscatingGuard.ConditionalCommentNodeGuard),e(a.ServiceIdentifiers.Factory__INodeGuard).toFactory(n.InversifyContainerFacade.getCacheFactory(a.ServiceIdentifiers.INodeGuard))})},function(e,t,r){"use strict";var n=r(0)(r(12));Object.defineProperty(t,"__esModule",{value:!0}),t.StringArrayThresholdRule=function(e){return 0===e.stringArrayThreshold&&(e=(0,n.default)({},e,{rotateStringArray:!1,stringArray:!1,stringArrayEncoding:!1,stringArrayThreshold:0})),e}},function(e,t,r){"use strict";var n=r(0)(r(12));Object.defineProperty(t,"__esModule",{value:!0});var o=r(39);t.StringArrayEncodingRule=function(e){return!0===e.stringArrayEncoding&&(e=(0,n.default)({},e,{stringArrayEncoding:o.StringArrayEncoding.Base64})),e}},function(e,t,r){"use strict";var n=r(0)(r(12));Object.defineProperty(t,"__esModule",{value:!0}),t.StringArrayRule=function(e){return e.stringArray||(e=(0,n.default)({},e,{rotateStringArray:!1,stringArray:!1,stringArrayEncoding:!1,stringArrayThreshold:0})),e}},function(e,t,r){"use strict";var n=r(0)(r(12));Object.defineProperty(t,"__esModule",{value:!0}),t.SourceMapFileNameRule=function(e){var t=e.sourceMapFileName;return t&&(t=t.replace(/^\/+/,"").split(".")[0],e=(0,n.default)({},e,{sourceMapFileName:"".concat(t,".js.map")})),e}},function(e,t,r){"use strict";var n=r(0)(r(12));Object.defineProperty(t,"__esModule",{value:!0}),t.SourceMapBaseUrlRule=function(e){var t=e.sourceMapBaseUrl;return e.sourceMapFileName?(t&&!t.endsWith("/")&&(e=(0,n.default)({},e,{sourceMapBaseUrl:"".concat(t,"/")})),e):e=(0,n.default)({},e,{sourceMapBaseUrl:""})}},function(e,t,r){"use strict";var n=r(0)(r(12));Object.defineProperty(t,"__esModule",{value:!0}),t.SelfDefendingRule=function(e){return e.selfDefending&&(e=(0,n.default)({},e,{compact:!0,selfDefending:!0})),e}},function(e,t,r){"use strict";var n=r(0)(r(12));Object.defineProperty(t,"__esModule",{value:!0}),t.InputFileNameRule=function(e){var t=e.inputFileName;return t&&(t=t.replace(/^\/+/,"").split(".").slice(0,-1).join(".")||t,e=(0,n.default)({},e,{inputFileName:"".concat(t,".js")})),e}},function(e,t,r){"use strict";var n=r(0),o=n(r(46)),a=n(r(12));Object.defineProperty(t,"__esModule",{value:!0});var i=r(35);t.DomainLockRule=function(e){if(e.domainLock.length){var t=[],r=!0,n=!1,s=void 0;try{for(var c,d=(0,o.default)(e.domainLock);!(r=(c=d.next()).done);r=!0){var u=c.value;t.push(i.Utils.extractDomainFrom(u))}}catch(e){n=!0,s=e}finally{try{r||null==d.return||d.return()}finally{if(n)throw s}}e=(0,a.default)({},e,{domainLock:t})}return e}},function(e,t,r){"use strict";var n=r(0)(r(12));Object.defineProperty(t,"__esModule",{value:!0}),t.DeadCodeInjectionThresholdRule=function(e){return 0===e.deadCodeInjectionThreshold&&(e=(0,n.default)({},e,{deadCodeInjection:!1,deadCodeInjectionThreshold:0})),e}},function(e,t,r){"use strict";var n=r(0)(r(12));Object.defineProperty(t,"__esModule",{value:!0});var o=r(51);t.DeadCodeInjectionRule=function(e){return e.deadCodeInjection&&((e=(0,n.default)({},e,{deadCodeInjection:!0,stringArray:!0})).stringArrayThreshold||(e=(0,n.default)({},e,{stringArray:!0,stringArrayThreshold:o.DEFAULT_PRESET.stringArrayThreshold}))),e}},function(e,t,r){"use strict";var n=r(0)(r(12));Object.defineProperty(t,"__esModule",{value:!0}),t.ControlFlowFlatteningThresholdRule=function(e){return 0===e.controlFlowFlatteningThreshold&&(e=(0,n.default)({},e,{controlFlowFlattening:!1,controlFlowFlatteningThreshold:0})),e}},function(e,t,r){"use strict";var n=r(0),o=n(r(46)),a=n(r(12)),i=n(r(1)),s=n(r(3));Object.defineProperty(t,"__esModule",{value:!0});var c,d=r(4),u=r(2),l=r(113),f=r(112),p=r(111),m=r(110),g=r(109),N=r(108),v=r(107),y=r(106),h=r(105),_=r(104),b=r(103),S=c=function(){function e(){(0,i.default)(this,e)}return(0,s.default)(e,[{key:"normalize",value:function(e){var t=(0,a.default)({},e),r=!0,n=!1,i=void 0;try{for(var s,d=(0,o.default)(c.normalizerRules);!(r=(s=d.next()).done);r=!0){t=(0,s.value)(t)}}catch(e){n=!0,i=e}finally{try{r||null==d.return||d.return()}finally{if(n)throw i}}return t}}]),e}();S.normalizerRules=[l.ControlFlowFlatteningThresholdRule,f.DeadCodeInjectionRule,p.DeadCodeInjectionThresholdRule,m.DomainLockRule,g.InputFileNameRule,N.SelfDefendingRule,v.SourceMapBaseUrlRule,y.SourceMapFileNameRule,h.StringArrayRule,_.StringArrayEncodingRule,b.StringArrayThresholdRule],S=c=d.__decorate([u.injectable()],S),t.OptionsNormalizer=S},function(e,t,r){"use strict";var n=r(0),o=n(r(37)),a=n(r(30)),i=n(r(1)),s=n(r(3));Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(){(0,i.default)(this,e)}return(0,s.default)(e,null,[{key:"format",value:function(t){return t.reduce(function(t,r){return(0,a.default)(t).concat([e.formatWithNestedConstraints(r)])},[]).join("\n")}},{key:"formatWithNestedConstraints",value:function(e){var t=e.constraints,r="`".concat(e.property,"` errors:\n"),n=(0,o.default)(t).map(function(e){return"    - ".concat(t[e],"\n")}).join();return"".concat(r).concat(n)}}]),e}();t.ValidationErrorsFormatter=c},function(e,t){e.exports=require("class-validator")},function(e,t,r){"use strict";var n=r(0),o=n(r(12)),a=n(r(1));Object.defineProperty(t,"__esModule",{value:!0});var i,s=r(4),c=r(2),d=r(5),u=r(116),l=r(41),f=r(25),p=r(40),m=r(39),g=r(51),N=r(115),v=i=function e(t,r){(0,a.default)(this,e),(0,o.default)(this,g.DEFAULT_PRESET,t);var n=u.validateSync(this,i.validatorOptions);if(n.length)throw new ReferenceError("Validation failed. errors:\n".concat(N.ValidationErrorsFormatter.format(n)));(0,o.default)(this,r.normalize(this))};v.validatorOptions={validationError:{target:!1}},s.__decorate([u.IsBoolean(),s.__metadata("design:type",Boolean)],v.prototype,"compact",void 0),s.__decorate([u.IsBoolean(),s.__metadata("design:type",Boolean)],v.prototype,"controlFlowFlattening",void 0),s.__decorate([u.IsNumber(),u.Min(0),u.Max(1),s.__metadata("design:type",Number)],v.prototype,"controlFlowFlatteningThreshold",void 0),s.__decorate([u.IsBoolean(),s.__metadata("design:type",Boolean)],v.prototype,"deadCodeInjection",void 0),s.__decorate([u.IsNumber(),s.__metadata("design:type",Number)],v.prototype,"deadCodeInjectionThreshold",void 0),s.__decorate([u.IsBoolean(),s.__metadata("design:type",Boolean)],v.prototype,"debugProtection",void 0),s.__decorate([u.IsBoolean(),s.__metadata("design:type",Boolean)],v.prototype,"debugProtectionInterval",void 0),s.__decorate([u.IsBoolean(),s.__metadata("design:type",Boolean)],v.prototype,"disableConsoleOutput",void 0),s.__decorate([u.IsArray(),u.ArrayUnique(),u.IsString({each:!0}),s.__metadata("design:type",Array)],v.prototype,"domainLock",void 0),s.__decorate([u.IsIn([l.IdentifierNamesGenerator.HexadecimalIdentifierNamesGenerator,l.IdentifierNamesGenerator.MangledIdentifierNamesGenerator]),s.__metadata("design:type",String)],v.prototype,"identifierNamesGenerator",void 0),s.__decorate([u.IsString(),s.__metadata("design:type",String)],v.prototype,"identifiersPrefix",void 0),s.__decorate([u.IsString(),s.__metadata("design:type",String)],v.prototype,"inputFileName",void 0),s.__decorate([u.IsBoolean(),s.__metadata("design:type",Boolean)],v.prototype,"log",void 0),s.__decorate([u.IsBoolean(),s.__metadata("design:type",Boolean)],v.prototype,"renameGlobals",void 0),s.__decorate([u.IsArray(),u.ArrayUnique(),u.IsString({each:!0}),s.__metadata("design:type",Array)],v.prototype,"reservedNames",void 0),s.__decorate([u.IsBoolean(),s.__metadata("design:type",Boolean)],v.prototype,"rotateStringArray",void 0),s.__decorate([u.IsNumber(),s.__metadata("design:type",Number)],v.prototype,"seed",void 0),s.__decorate([u.IsBoolean(),s.__metadata("design:type",Boolean)],v.prototype,"selfDefending",void 0),s.__decorate([u.IsBoolean(),s.__metadata("design:type",Boolean)],v.prototype,"sourceMap",void 0),s.__decorate([u.IsString(),u.ValidateIf(function(e){return Boolean(e.sourceMapBaseUrl)}),u.IsUrl({require_protocol:!0,require_tld:!1,require_valid_protocol:!0}),s.__metadata("design:type",String)],v.prototype,"sourceMapBaseUrl",void 0),s.__decorate([u.IsString(),s.__metadata("design:type",String)],v.prototype,"sourceMapFileName",void 0),s.__decorate([u.IsIn([p.SourceMapMode.Inline,p.SourceMapMode.Separate]),s.__metadata("design:type",String)],v.prototype,"sourceMapMode",void 0),s.__decorate([u.IsBoolean(),s.__metadata("design:type",Boolean)],v.prototype,"stringArray",void 0),s.__decorate([u.IsIn([!0,!1,m.StringArrayEncoding.Base64,m.StringArrayEncoding.Rc4]),s.__metadata("design:type",Object)],v.prototype,"stringArrayEncoding",void 0),s.__decorate([u.IsNumber(),u.Min(0),u.Max(1),s.__metadata("design:type",Number)],v.prototype,"stringArrayThreshold",void 0),s.__decorate([u.IsIn([f.ObfuscationTarget.Browser,f.ObfuscationTarget.BrowserNoEval,f.ObfuscationTarget.Node]),s.__metadata("design:type",String)],v.prototype,"target",void 0),s.__decorate([u.IsBoolean(),s.__metadata("design:type",Boolean)],v.prototype,"transformObjectKeys",void 0),s.__decorate([u.IsBoolean(),s.__metadata("design:type",Boolean)],v.prototype,"unicodeEscapeSequence",void 0),v=i=s.__decorate([c.injectable(),s.__param(0,c.inject(d.ServiceIdentifiers.TInputOptions)),s.__param(1,c.inject(d.ServiceIdentifiers.IOptionsNormalizer)),s.__metadata("design:paramtypes",[Object,Object])],v),t.Options=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=r(5),a=r(117),i=r(114);t.optionsModule=new n.ContainerModule(function(e){e(o.ServiceIdentifiers.IOptions).to(a.Options).inSingletonScope(),e(o.ServiceIdentifiers.IOptionsNormalizer).to(i.OptionsNormalizer).inSingletonScope()})},function(e,t,r){"use strict";var n=r(0),o=n(r(17)),a=n(r(1)),i=n(r(3)),s=n(r(8)),c=n(r(7)),d=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var u=r(4),l=r(2),f=r(5),p=u.__importStar(r(18)),m=r(21),g=r(23),N=r(13),v=r(14),y=r(9),h=r(26),_=r(19),b=function(e){function t(e,r,n){var i;return(0,a.default)(this,t),(i=(0,s.default)(this,(0,c.default)(t).call(this,r,n))).replaceableIdentifiers=new o.default,i.identifierObfuscatingReplacer=e(m.IdentifierObfuscatingReplacer.BaseIdentifierObfuscatingReplacer),i}return(0,d.default)(t,e),(0,i.default)(t,[{key:"getVisitor",value:function(e){var t=this;switch(e){case N.TransformationStage.Obfuscating:return{enter:function(e,r){if(r&&y.NodeGuards.isVariableDeclarationNode(e)&&!y.NodeGuards.isExportNamedDeclarationNode(r))return t.transformNode(e,r)}};default:return null}}},{key:"transformNode",value:function(e,t){var r=h.NodeLexicalScopeUtils.getLexicalScope(e);if(!r)return e;var n=r.type===g.NodeType.Program;if(!this.options.renameGlobals&&n)return e;var o="var"===e.kind?r:t;return this.storeVariableNames(e,r,n),this.replaceableIdentifiers.has(o)?this.replaceScopeCachedIdentifiers(e,r,o):this.replaceScopeIdentifiers(o,r),e}},{key:"storeVariableNames",value:function(e,t,r){var n=this;this.traverseDeclarationIdentifiers(e,function(e){r?n.identifierObfuscatingReplacer.storeGlobalName(e.name,t):n.identifierObfuscatingReplacer.storeLocalName(e.name,t)})}},{key:"replaceScopeCachedIdentifiers",value:function(e,t,r){var n=this,o=this.replaceableIdentifiers.get(r),a=[];this.traverseDeclarationIdentifiers(e,function(e){a.push(e.name)}),a.forEach(function(e){var r=o.get(e);if(r)for(var a=r.length,i=0;i<a;i++){var s=r[i];if(e===s.name){var c=n.identifierObfuscatingReplacer.replace(s.name,t);s.name=c.name,_.NodeMetadata.set(s,{renamedIdentifier:!0})}}})}},{key:"replaceScopeIdentifiers",value:function(e,t){var r=this,n=new o.default;p.replace(e,{enter:function(e,o){if(o&&y.NodeGuards.isReplaceableIdentifierNode(e,o)&&!_.NodeMetadata.isRenamedIdentifier(e)){var a=r.identifierObfuscatingReplacer.replace(e.name,t).name;if(e.name!==a)e.name=a,_.NodeMetadata.set(e,{renamedIdentifier:!0});else{var i=n.get(e.name)||[];i.push(e),n.set(e.name,i)}}}}),this.replaceableIdentifiers.set(e,n)}},{key:"traverseDeclarationIdentifiers",value:function(e,t){e.declarations.forEach(function(e){p.traverse(e.id,{enter:function(e){if(y.NodeGuards.isPropertyNode(e))return p.VisitorOption.Skip;y.NodeGuards.isIdentifierNode(e)&&t(e)}})})}}]),t}(v.AbstractNodeTransformer);b=u.__decorate([l.injectable(),u.__param(0,l.inject(f.ServiceIdentifiers.Factory__IIdentifierObfuscatingReplacer)),u.__param(1,l.inject(f.ServiceIdentifiers.IRandomGenerator)),u.__param(2,l.inject(f.ServiceIdentifiers.IOptions)),u.__metadata("design:paramtypes",[Function,Object,Object])],b),t.VariableDeclarationTransformer=b},function(e,t,r){"use strict";var n=r(0),o=n(r(17)),a=n(r(1)),i=n(r(3)),s=n(r(8)),c=n(r(7)),d=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var u,l=r(4),f=r(2),p=r(5),m=r(39),g=r(42),N=r(19),v=r(15),y=r(43),h=r(35),_=u=function(e){function t(e,r,n,i,d){var l;return(0,a.default)(this,t),(l=(0,s.default)(this,(0,c.default)(t).call(this,d))).nodesCache=new o.default,l.stringLiteralHexadecimalIndexCache=new o.default,l.stringArrayStorage=e,l.escapeSequenceEncoder=r,l.randomGenerator=n,l.cryptUtils=i,l.rc4Keys=l.randomGenerator.getRandomGenerator().n(function(){return l.randomGenerator.getRandomGenerator().string({length:u.rc4KeyLength})},u.rc4KeysCount),l}return(0,d.default)(t,e),(0,i.default)(t,[{key:"replace",value:function(e){var t=this.canUseStringArray(e),r="".concat(e,"-").concat(String(t));if(this.nodesCache.has(r)&&this.options.stringArrayEncoding!==m.StringArrayEncoding.Rc4)return this.nodesCache.get(r);var n=t?this.replaceWithStringArrayCallNode(e):this.replaceWithLiteralNode(e);return this.nodesCache.set(r,n),n}},{key:"canUseStringArray",value:function(e){return this.options.stringArray&&e.length>=u.minimumLengthForStringArray&&this.randomGenerator.getMathRandom()<=this.options.stringArrayThreshold}},{key:"getStringArrayHexadecimalIndex",value:function(e,t){if(this.stringLiteralHexadecimalIndexCache.has(e))return{fromCache:!0,index:this.stringLiteralHexadecimalIndexCache.get(e)};var r=y.NumberUtils.toHex(t),n="".concat(h.Utils.hexadecimalPrefix).concat(r);return this.stringLiteralHexadecimalIndexCache.set(e,n),{fromCache:!1,index:n}}},{key:"getEncodedValue",value:function(e){var t,r=null;switch(this.options.stringArrayEncoding){case m.StringArrayEncoding.Rc4:r=this.randomGenerator.getRandomGenerator().pickone(this.rc4Keys),t=this.cryptUtils.btoa(this.cryptUtils.rc4(e,r));break;case m.StringArrayEncoding.Base64:t=this.cryptUtils.btoa(e);break;default:t=e}return{encodedValue:t,key:r}}},{key:"replaceWithLiteralNode",value:function(e){return v.NodeFactory.literalNode(this.escapeSequenceEncoder.encode(e,this.options.unicodeEscapeSequence))}},{key:"replaceWithStringArrayCallNode",value:function(e){var t=this.getEncodedValue(e),r=t.encodedValue,n=t.key,o=this.escapeSequenceEncoder.encode(r,this.options.unicodeEscapeSequence),a=this.stringArrayStorage.getLength(),i=this.stringArrayStorage.getStorageId().split("|")[1],s=this.getStringArrayHexadecimalIndex(o,a),c=s.fromCache,d=s.index;c||this.stringArrayStorage.set(a,o);var l=[u.getHexadecimalLiteralNode(d)];n&&l.push(u.getRc4KeyLiteralNode(this.escapeSequenceEncoder.encode(n,this.options.unicodeEscapeSequence)));var f=v.NodeFactory.identifierNode(i);return N.NodeMetadata.set(f,{renamedIdentifier:!0}),v.NodeFactory.callExpressionNode(f,l)}}],[{key:"getHexadecimalLiteralNode",value:function(e){var t=v.NodeFactory.literalNode(e);return N.NodeMetadata.set(t,{replacedLiteral:!0}),t}},{key:"getRc4KeyLiteralNode",value:function(e){var t=v.NodeFactory.literalNode(e);return N.NodeMetadata.set(t,{replacedLiteral:!0}),t}}]),t}(g.AbstractObfuscatingReplacer);_.minimumLengthForStringArray=3,_.rc4KeyLength=4,_.rc4KeysCount=50,_=u=l.__decorate([f.injectable(),l.__param(0,f.inject(p.ServiceIdentifiers.TStringArrayStorage)),l.__param(1,f.inject(p.ServiceIdentifiers.IEscapeSequenceEncoder)),l.__param(2,f.inject(p.ServiceIdentifiers.IRandomGenerator)),l.__param(3,f.inject(p.ServiceIdentifiers.ICryptUtils)),l.__param(4,f.inject(p.ServiceIdentifiers.IOptions)),l.__metadata("design:paramtypes",[Object,Object,Object,Object,Object])],_),t.StringLiteralObfuscatingReplacer=_},function(e,t,r){"use strict";var n=r(0),o=n(r(17)),a=n(r(1)),i=n(r(3)),s=n(r(8)),c=n(r(7)),d=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var u=r(4),l=r(2),f=r(5),p=r(42),m=r(15),g=r(43),N=r(35),v=function(e){function t(e){var r;return(0,a.default)(this,t),(r=(0,s.default)(this,(0,c.default)(t).call(this,e))).numberLiteralCache=new o.default,r}return(0,d.default)(t,e),(0,i.default)(t,[{key:"replace",value:function(e){var t;return this.numberLiteralCache.has(e)?t=this.numberLiteralCache.get(e):(t=g.NumberUtils.isCeil(e)?"".concat(N.Utils.hexadecimalPrefix).concat(g.NumberUtils.toHex(e)):String(e),this.numberLiteralCache.set(e,t)),m.NodeFactory.literalNode(e,t)}}]),t}(p.AbstractObfuscatingReplacer);v=u.__decorate([l.injectable(),u.__param(0,l.inject(f.ServiceIdentifiers.IOptions)),u.__metadata("design:paramtypes",[Object])],v),t.NumberLiteralObfuscatingReplacer=v},function(e,t,r){"use strict";var n=r(0),o=n(r(64)),a=n(r(1)),i=n(r(3)),s=n(r(8)),c=n(r(7)),d=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var u=r(4),l=r(2),f=r(5),p=r(56),m=r(13),g=r(14),N=r(9),v=r(19),y=function(e){function t(e,r,n){var o;return(0,a.default)(this,t),(o=(0,s.default)(this,(0,c.default)(t).call(this,r,n))).literalObfuscatingReplacerFactory=e,o}return(0,d.default)(t,e),(0,i.default)(t,[{key:"getVisitor",value:function(e){var t=this;switch(e){case m.TransformationStage.Obfuscating:return{enter:function(e,r){if(r&&N.NodeGuards.isLiteralNode(e)&&!v.NodeMetadata.isReplacedLiteral(e))return t.transformNode(e,r)}};default:return null}}},{key:"transformNode",value:function(e,t){if(this.isProhibitedNode(e,t))return e;switch((0,o.default)(e.value)){case"boolean":return this.literalObfuscatingReplacerFactory(p.LiteralObfuscatingReplacer.BooleanLiteralObfuscatingReplacer).replace(e.value);case"number":return this.literalObfuscatingReplacerFactory(p.LiteralObfuscatingReplacer.NumberLiteralObfuscatingReplacer).replace(e.value);case"string":return this.literalObfuscatingReplacerFactory(p.LiteralObfuscatingReplacer.StringLiteralObfuscatingReplacer).replace(e.value);default:return e}}},{key:"isProhibitedNode",value:function(e,t){return!(!N.NodeGuards.isPropertyNode(t)||t.key!==e)||!!N.NodeGuards.isImportDeclarationNode(t)}}]),t}(g.AbstractNodeTransformer);y=u.__decorate([l.injectable(),u.__param(0,l.inject(f.ServiceIdentifiers.Factory__IObfuscatingReplacer)),u.__param(1,l.inject(f.ServiceIdentifiers.IRandomGenerator)),u.__param(2,l.inject(f.ServiceIdentifiers.IOptions)),u.__metadata("design:paramtypes",[Function,Object,Object])],y),t.LiteralTransformer=y},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3)),i=n(r(8)),s=n(r(7)),c=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var d=r(4),u=r(2),l=r(5),f=d.__importStar(r(18)),p=r(21),m=r(13),g=r(14),N=r(9),v=r(26),y=function(e){function t(e,r,n){var a;return(0,o.default)(this,t),(a=(0,i.default)(this,(0,s.default)(t).call(this,r,n))).identifierObfuscatingReplacer=e(p.IdentifierObfuscatingReplacer.BaseIdentifierObfuscatingReplacer),a}return(0,c.default)(t,e),(0,a.default)(t,[{key:"getVisitor",value:function(e){var t=this;switch(e){case m.TransformationStage.Obfuscating:return{enter:function(e,r){if(r&&N.NodeGuards.isLabeledStatementNode(e))return t.transformNode(e,r)}};default:return null}}},{key:"transformNode",value:function(e,t){var r=v.NodeLexicalScopeUtils.getLexicalScope(e);return r?(this.storeLabeledStatementName(e,r),this.replaceLabeledStatementName(e,r),e):e}},{key:"storeLabeledStatementName",value:function(e,t){this.identifierObfuscatingReplacer.storeLocalName(e.label.name,t)}},{key:"replaceLabeledStatementName",value:function(e,t){var r=this;f.replace(e,{enter:function(e,n){if(n&&N.NodeGuards.isLabelIdentifierNode(e,n)){var o=r.identifierObfuscatingReplacer.replace(e.name,t);e.name=o.name}}})}}]),t}(g.AbstractNodeTransformer);y=d.__decorate([u.injectable(),d.__param(0,u.inject(l.ServiceIdentifiers.Factory__IIdentifierObfuscatingReplacer)),d.__param(1,u.inject(l.ServiceIdentifiers.IRandomGenerator)),d.__param(2,u.inject(l.ServiceIdentifiers.IOptions)),d.__metadata("design:paramtypes",[Function,Object,Object])],y),t.LabeledStatementTransformer=y},function(e,t,r){"use strict";var n=r(0),o=n(r(17)),a=n(r(1)),i=n(r(3)),s=n(r(8)),c=n(r(7)),d=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var u,l=r(4),f=r(2),p=r(5),m=l.__importStar(r(18)),g=r(21),N=r(13),v=r(14),y=r(9),h=r(26),_=r(19),b=u=function(e){function t(e,r,n){var i;return(0,a.default)(this,t),(i=(0,s.default)(this,(0,c.default)(t).call(this,r,n))).replaceableIdentifiers=new o.default,i.identifierObfuscatingReplacer=e(g.IdentifierObfuscatingReplacer.BaseIdentifierObfuscatingReplacer),i}return(0,d.default)(t,e),(0,i.default)(t,[{key:"getVisitor",value:function(e){var t=this;switch(e){case N.TransformationStage.Obfuscating:return{enter:function(e,r){if(r&&y.NodeGuards.isImportDeclarationNode(e))return t.transformNode(e,r)}};default:return null}}},{key:"transformNode",value:function(e,t){var r=h.NodeLexicalScopeUtils.getLexicalScope(e);return r?(this.storeImportSpecifierNames(e,r),this.replaceableIdentifiers.has(r)?this.replaceScopeCachedIdentifiers(r):this.replaceScopeIdentifiers(r),e):e}},{key:"storeImportSpecifierNames",value:function(e,t){var r=this;e.specifiers.forEach(function(e){u.isProhibitedImportSpecifierNode(e)||r.identifierObfuscatingReplacer.storeGlobalName(e.local.name,t)})}},{key:"replaceScopeCachedIdentifiers",value:function(e){var t=this;this.replaceableIdentifiers.get(e).forEach(function(r){var n=t.identifierObfuscatingReplacer.replace(r.name,e);r.name=n.name,_.NodeMetadata.set(r,{renamedIdentifier:!0})})}},{key:"replaceScopeIdentifiers",value:function(e){var t=this,r=[];m.replace(e,{enter:function(n,o){if(o&&y.NodeGuards.isReplaceableIdentifierNode(n,o)&&!_.NodeMetadata.isRenamedIdentifier(n)){var a=t.identifierObfuscatingReplacer.replace(n.name,e).name;n.name!==a?(n.name=a,_.NodeMetadata.set(n,{renamedIdentifier:!0})):r.push(n)}}}),this.replaceableIdentifiers.set(e,r)}}],[{key:"isProhibitedImportSpecifierNode",value:function(e){return y.NodeGuards.isImportSpecifierNode(e)&&e.imported.name===e.local.name}}]),t}(v.AbstractNodeTransformer);b=u=l.__decorate([f.injectable(),l.__param(0,f.inject(p.ServiceIdentifiers.Factory__IIdentifierObfuscatingReplacer)),l.__param(1,f.inject(p.ServiceIdentifiers.IRandomGenerator)),l.__param(2,f.inject(p.ServiceIdentifiers.IOptions)),l.__metadata("design:paramtypes",[Function,Object,Object])],b),t.ImportDeclarationTransformer=b},function(e,t,r){"use strict";var n=r(0),o=n(r(33)),a=n(r(1)),i=n(r(3)),s=n(r(8)),c=n(r(7)),d=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var u,l=r(4),f=r(2),p=r(5),m=l.__importStar(r(18)),g=r(21),N=r(13),v=r(14),y=r(9),h=r(26),_=r(19),b=u=function(e){function t(e,r,n){var o;return(0,a.default)(this,t),(o=(0,s.default)(this,(0,c.default)(t).call(this,r,n))).identifierObfuscatingReplacer=e(g.IdentifierObfuscatingReplacer.BaseIdentifierObfuscatingReplacer),o}return(0,d.default)(t,e),(0,i.default)(t,[{key:"getVisitor",value:function(e){var t=this;switch(e){case N.TransformationStage.Obfuscating:return{enter:function(e,r){if(r&&y.NodeGuards.isFunctionNode(e))return t.transformNode(e,r)}};default:return null}}},{key:"transformNode",value:function(e,t){var r=h.NodeLexicalScopeUtils.getLexicalScope(e);return r?(this.storeFunctionParams(e,r),this.replaceFunctionParams(e,r),e):e}},{key:"storeFunctionParams",value:function(e,t){var r=this;e.params.forEach(function(e){m.traverse(e,{enter:function(e){return u.isProhibitedPropertyNode(e)?m.VisitorOption.Skip:y.NodeGuards.isAssignmentPatternNode(e)&&y.NodeGuards.isIdentifierNode(e.left)?(r.identifierObfuscatingReplacer.storeLocalName(e.left.name,t),m.VisitorOption.Skip):void(y.NodeGuards.isIdentifierNode(e)&&r.identifierObfuscatingReplacer.storeLocalName(e.name,t))}})})}},{key:"replaceFunctionParams",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new o.default,a={enter:function(e,a){if(y.NodeGuards.isFunctionNode(e))return r.replaceFunctionParams(e,t,new o.default(n)),m.VisitorOption.Skip;if(u.isProhibitedPropertyNode(e)&&n.add(e.key.name),a&&y.NodeGuards.isReplaceableIdentifierNode(e,a)&&!n.has(e.name)){var i=r.identifierObfuscatingReplacer.replace(e.name,t).name;e.name!==i&&(e.name=i,_.NodeMetadata.set(e,{renamedIdentifier:!0}))}}};e.params.forEach(function(e){return m.replace(e,a)}),m.replace(e.body,a)}}],[{key:"isProhibitedPropertyNode",value:function(e){return y.NodeGuards.isPropertyNode(e)&&e.shorthand&&y.NodeGuards.isIdentifierNode(e.key)}}]),t}(v.AbstractNodeTransformer);b=u=l.__decorate([f.injectable(),l.__param(0,f.inject(p.ServiceIdentifiers.Factory__IIdentifierObfuscatingReplacer)),l.__param(1,f.inject(p.ServiceIdentifiers.IRandomGenerator)),l.__param(2,f.inject(p.ServiceIdentifiers.IOptions)),l.__metadata("design:paramtypes",[Function,Object,Object])],b),t.FunctionTransformer=b},function(e,t,r){"use strict";var n=r(0),o=n(r(17)),a=n(r(1)),i=n(r(3)),s=n(r(8)),c=n(r(7)),d=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var u=r(4),l=r(2),f=r(5),p=u.__importStar(r(18)),m=r(21),g=r(23),N=r(13),v=r(14),y=r(9),h=r(26),_=r(19),b=function(e){function t(e,r,n){var i;return(0,a.default)(this,t),(i=(0,s.default)(this,(0,c.default)(t).call(this,r,n))).replaceableIdentifiers=new o.default,i.identifierObfuscatingReplacer=e(m.IdentifierObfuscatingReplacer.BaseIdentifierObfuscatingReplacer),i}return(0,d.default)(t,e),(0,i.default)(t,[{key:"getVisitor",value:function(e){var t=this;switch(e){case N.TransformationStage.Obfuscating:return{enter:function(e,r){if(r&&y.NodeGuards.isFunctionDeclarationNode(e)&&!y.NodeGuards.isExportNamedDeclarationNode(r))return t.transformNode(e,r)}};default:return null}}},{key:"transformNode",value:function(e,t){var r=h.NodeLexicalScopeUtils.getLexicalScope(t);if(!r)return e;var n=r.type===g.NodeType.Program;return!this.options.renameGlobals&&n?e:(this.storeFunctionName(e,r,n),this.replaceableIdentifiers.has(r)?this.replaceScopeCachedIdentifiers(e,r):this.replaceScopeIdentifiers(r),e)}},{key:"storeFunctionName",value:function(e,t,r){r?this.identifierObfuscatingReplacer.storeGlobalName(e.id.name,t):this.identifierObfuscatingReplacer.storeLocalName(e.id.name,t)}},{key:"replaceScopeCachedIdentifiers",value:function(e,t){var r=this.replaceableIdentifiers.get(t).get(e.id.name);if(r)for(var n=r.length,o=0;o<n;o++){var a=r[o],i=this.identifierObfuscatingReplacer.replace(a.name,t);a.name=i.name,_.NodeMetadata.set(a,{renamedIdentifier:!0})}}},{key:"replaceScopeIdentifiers",value:function(e){var t=this,r=new o.default;p.replace(e,{enter:function(n,o){if(o&&y.NodeGuards.isReplaceableIdentifierNode(n,o)&&!_.NodeMetadata.isRenamedIdentifier(n)){var a=t.identifierObfuscatingReplacer.replace(n.name,e).name;if(n.name!==a)n.name=a,_.NodeMetadata.set(n,{renamedIdentifier:!0});else{var i=r.get(n.name)||[];i.push(n),r.set(n.name,i)}}}}),this.replaceableIdentifiers.set(e,r)}}]),t}(v.AbstractNodeTransformer);b=u.__decorate([l.injectable(),u.__param(0,l.inject(f.ServiceIdentifiers.Factory__IIdentifierObfuscatingReplacer)),u.__param(1,l.inject(f.ServiceIdentifiers.IRandomGenerator)),u.__param(2,l.inject(f.ServiceIdentifiers.IOptions)),u.__metadata("design:paramtypes",[Function,Object,Object])],b),t.FunctionDeclarationTransformer=b},function(e,t,r){"use strict";var n=r(0),o=n(r(17)),a=n(r(1)),i=n(r(3)),s=n(r(8)),c=n(r(7)),d=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var u=r(4),l=r(2),f=r(5),p=u.__importStar(r(18)),m=r(21),g=r(23),N=r(13),v=r(14),y=r(9),h=r(26),_=r(19),b=function(e){function t(e,r,n){var i;return(0,a.default)(this,t),(i=(0,s.default)(this,(0,c.default)(t).call(this,r,n))).replaceableIdentifiers=new o.default,i.identifierObfuscatingReplacer=e(m.IdentifierObfuscatingReplacer.BaseIdentifierObfuscatingReplacer),i}return(0,d.default)(t,e),(0,i.default)(t,[{key:"getVisitor",value:function(e){var t=this;switch(e){case N.TransformationStage.Obfuscating:return{enter:function(e,r){if(r&&y.NodeGuards.isClassDeclarationNode(e)&&!y.NodeGuards.isExportNamedDeclarationNode(r))return t.transformNode(e,r)}};default:return null}}},{key:"transformNode",value:function(e,t){var r=h.NodeLexicalScopeUtils.getLexicalScope(e);if(!r)return e;var n=r.type===g.NodeType.Program;return!this.options.renameGlobals&&n?e:(this.storeClassName(e,r,n),this.replaceableIdentifiers.has(r)?this.replaceScopeCachedIdentifiers(e,r):this.replaceScopeIdentifiers(r),e)}},{key:"storeClassName",value:function(e,t,r){r?this.identifierObfuscatingReplacer.storeGlobalName(e.id.name,t):this.identifierObfuscatingReplacer.storeLocalName(e.id.name,t)}},{key:"replaceScopeCachedIdentifiers",value:function(e,t){var r=this.replaceableIdentifiers.get(t).get(e.id.name);if(r)for(var n=r.length,o=0;o<n;o++){var a=r[o],i=this.identifierObfuscatingReplacer.replace(a.name,t);a.name=i.name,_.NodeMetadata.set(a,{renamedIdentifier:!0})}}},{key:"replaceScopeIdentifiers",value:function(e){var t=this,r=new o.default;p.replace(e,{enter:function(n,o){if(o&&y.NodeGuards.isReplaceableIdentifierNode(n,o)&&!_.NodeMetadata.isRenamedIdentifier(n)){var a=t.identifierObfuscatingReplacer.replace(n.name,e).name;if(n.name!==a)n.name=a,_.NodeMetadata.set(n,{renamedIdentifier:!0});else{var i=r.get(n.name)||[];i.push(n),r.set(n.name,i)}}}}),this.replaceableIdentifiers.set(e,r)}}]),t}(v.AbstractNodeTransformer);b=u.__decorate([l.injectable(),u.__param(0,l.inject(f.ServiceIdentifiers.Factory__IIdentifierObfuscatingReplacer)),u.__param(1,l.inject(f.ServiceIdentifiers.IRandomGenerator)),u.__param(2,l.inject(f.ServiceIdentifiers.IOptions)),u.__metadata("design:paramtypes",[Function,Object,Object])],b),t.ClassDeclarationTransformer=b},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3)),i=n(r(8)),s=n(r(7)),c=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var d=r(4),u=r(2),l=r(5),f=d.__importStar(r(18)),p=r(21),m=r(13),g=r(14),N=r(9),v=r(26),y=r(19),h=function(e){function t(e,r,n){var a;return(0,o.default)(this,t),(a=(0,i.default)(this,(0,s.default)(t).call(this,r,n))).identifierObfuscatingReplacer=e(p.IdentifierObfuscatingReplacer.BaseIdentifierObfuscatingReplacer),a}return(0,c.default)(t,e),(0,a.default)(t,[{key:"getVisitor",value:function(e){var t=this;switch(e){case m.TransformationStage.Obfuscating:return{enter:function(e,r){if(r&&N.NodeGuards.isCatchClauseNode(e))return t.transformNode(e,r)}};default:return null}}},{key:"transformNode",value:function(e,t){var r=v.NodeLexicalScopeUtils.getLexicalScope(e);return r?(this.storeCatchClauseParam(e,r),this.replaceCatchClauseParam(e,r),e):e}},{key:"storeCatchClauseParam",value:function(e,t){N.NodeGuards.isIdentifierNode(e.param)&&this.identifierObfuscatingReplacer.storeLocalName(e.param.name,t)}},{key:"replaceCatchClauseParam",value:function(e,t){var r=this;f.replace(e,{enter:function(e,n){if(n&&N.NodeGuards.isReplaceableIdentifierNode(e,n)){var o=r.identifierObfuscatingReplacer.replace(e.name,t).name;e.name!==o&&(e.name=o,y.NodeMetadata.set(e,{renamedIdentifier:!0}))}}})}}]),t}(g.AbstractNodeTransformer);h=d.__decorate([u.injectable(),d.__param(0,u.inject(l.ServiceIdentifiers.Factory__IIdentifierObfuscatingReplacer)),d.__param(1,u.inject(l.ServiceIdentifiers.IRandomGenerator)),d.__param(2,u.inject(l.ServiceIdentifiers.IOptions)),d.__metadata("design:paramtypes",[Function,Object,Object])],h),t.CatchClauseTransformer=h},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3)),i=n(r(8)),s=n(r(7)),c=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var d,u=r(4),l=r(2),f=r(5),p=r(42),m=r(15),g=d=function(e){function t(e){return(0,o.default)(this,t),(0,i.default)(this,(0,s.default)(t).call(this,e))}return(0,c.default)(t,e),(0,a.default)(t,[{key:"replace",value:function(e){return e?d.getTrueUnaryExpressionNode():d.getFalseUnaryExpressionNode()}}],[{key:"getTrueUnaryExpressionNode",value:function(){return m.NodeFactory.unaryExpressionNode("!",d.getFalseUnaryExpressionNode())}},{key:"getFalseUnaryExpressionNode",value:function(){return m.NodeFactory.unaryExpressionNode("!",m.NodeFactory.arrayExpressionNode())}}]),t}(p.AbstractObfuscatingReplacer);g=d=u.__decorate([l.injectable(),u.__param(0,l.inject(f.ServiceIdentifiers.IOptions)),u.__metadata("design:paramtypes",[Object])],g),t.BooleanLiteralObfuscatingReplacer=g},function(e,t,r){"use strict";var n=r(0),o=n(r(17)),a=n(r(1)),i=n(r(3)),s=n(r(8)),c=n(r(7)),d=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var u=r(4),l=r(2),f=r(5),p=r(42),m=r(15),g=function(e){function t(e,r){var n;return(0,a.default)(this,t),(n=(0,s.default)(this,(0,c.default)(t).call(this,r))).blockScopesMap=new o.default,n.identifierNamesGenerator=e(r),n}return(0,d.default)(t,e),(0,i.default)(t,[{key:"replace",value:function(e,t){if(this.blockScopesMap.has(t)){var r=this.blockScopesMap.get(t);r.has(e)&&(e=r.get(e))}return m.NodeFactory.identifierNode(e)}},{key:"storeGlobalName",value:function(e,t){if(!this.isReservedName(e)){var r=this.identifierNamesGenerator.generateWithPrefix();this.blockScopesMap.has(t)||this.blockScopesMap.set(t,new o.default),this.blockScopesMap.get(t).set(e,r)}}},{key:"storeLocalName",value:function(e,t){if(!this.isReservedName(e)){var r=this.identifierNamesGenerator.generate();this.blockScopesMap.has(t)||this.blockScopesMap.set(t,new o.default),this.blockScopesMap.get(t).set(e,r)}}},{key:"isReservedName",value:function(e){return this.options.reservedNames.some(function(t){return null!==new RegExp(t,"g").exec(e)})}}]),t}(p.AbstractObfuscatingReplacer);g=u.__decorate([l.injectable(),u.__param(0,l.inject(f.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),u.__param(1,l.inject(f.ServiceIdentifiers.IOptions)),u.__metadata("design:paramtypes",[Function,Object])],g),t.BaseIdentifierObfuscatingReplacer=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(24),o=r(2),a=r(5),i=r(21),s=r(56),c=r(34),d=r(130),u=r(129),l=r(128),f=r(127),p=r(126),m=r(125),g=r(124),N=r(123),v=r(122),y=r(121),h=r(120),_=r(119);t.obfuscatingTransformersModule=new o.ContainerModule(function(e){e(a.ServiceIdentifiers.INodeTransformer).to(l.CatchClauseTransformer).whenTargetNamed(c.NodeTransformer.CatchClauseTransformer),e(a.ServiceIdentifiers.INodeTransformer).to(f.ClassDeclarationTransformer).whenTargetNamed(c.NodeTransformer.ClassDeclarationTransformer),e(a.ServiceIdentifiers.INodeTransformer).to(p.FunctionDeclarationTransformer).whenTargetNamed(c.NodeTransformer.FunctionDeclarationTransformer),e(a.ServiceIdentifiers.INodeTransformer).to(m.FunctionTransformer).whenTargetNamed(c.NodeTransformer.FunctionTransformer),e(a.ServiceIdentifiers.INodeTransformer).to(g.ImportDeclarationTransformer).whenTargetNamed(c.NodeTransformer.ImportDeclarationTransformer),e(a.ServiceIdentifiers.INodeTransformer).to(N.LabeledStatementTransformer).whenTargetNamed(c.NodeTransformer.LabeledStatementTransformer),e(a.ServiceIdentifiers.INodeTransformer).to(v.LiteralTransformer).whenTargetNamed(c.NodeTransformer.LiteralTransformer),e(a.ServiceIdentifiers.INodeTransformer).to(_.VariableDeclarationTransformer).whenTargetNamed(c.NodeTransformer.VariableDeclarationTransformer),e(a.ServiceIdentifiers.IObfuscatingReplacer).to(u.BooleanLiteralObfuscatingReplacer).whenTargetNamed(s.LiteralObfuscatingReplacer.BooleanLiteralObfuscatingReplacer),e(a.ServiceIdentifiers.IObfuscatingReplacer).to(y.NumberLiteralObfuscatingReplacer).whenTargetNamed(s.LiteralObfuscatingReplacer.NumberLiteralObfuscatingReplacer),e(a.ServiceIdentifiers.IObfuscatingReplacer).to(h.StringLiteralObfuscatingReplacer).whenTargetNamed(s.LiteralObfuscatingReplacer.StringLiteralObfuscatingReplacer),e(a.ServiceIdentifiers.IIdentifierObfuscatingReplacer).to(d.BaseIdentifierObfuscatingReplacer).whenTargetNamed(i.IdentifierObfuscatingReplacer.BaseIdentifierObfuscatingReplacer),e(a.ServiceIdentifiers.Factory__IObfuscatingReplacer).toFactory(n.InversifyContainerFacade.getCacheFactory(a.ServiceIdentifiers.IObfuscatingReplacer)),e(a.ServiceIdentifiers.Factory__IIdentifierObfuscatingReplacer).toFactory(n.InversifyContainerFacade.getCacheFactory(a.ServiceIdentifiers.IIdentifierObfuscatingReplacer))})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(24),o=r(2),a=r(5);t.nodeTransformersModule=new o.ContainerModule(function(e){e(a.ServiceIdentifiers.Factory__INodeTransformer).toFactory(n.InversifyContainerFacade.getCacheFactory(a.ServiceIdentifiers.INodeTransformer))})},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3)),i=n(r(8)),s=n(r(7)),c=n(r(44)),d=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var u,l=r(4),f=r(2),p=r(5),m=r(57),g=u=function(e){function t(e,r){var n;return(0,o.default)(this,t),(n=(0,i.default)(this,(0,s.default)(t).call(this,e,r))).previousMangledName=u.initMangledNameCharacter,n}return(0,d.default)(t,e),(0,a.default)(t,[{key:"generate",value:function(){var e=this.generateNewMangledName(this.previousMangledName);return this.previousMangledName=e,e}},{key:"generateWithPrefix",value:function(){var e=this.options.identifiersPrefix?"".concat(this.options.identifiersPrefix,"_"):"",t=this.generate();return"".concat(e).concat(t)}},{key:"isValidIdentifierName",value:function(e){return(0,c.default)((0,s.default)(t.prototype),"isValidIdentifierName",this).call(this,e)&&!u.reservedNames.includes(e)}},{key:"generateNewMangledName",value:function(e){var t=function(e){var t=u.nameSequence,r=e.length,n=function(e){return"0".repeat(e)},o=r-1;do{var a=e.charAt(o),i=t.indexOf(a);if(i!==t.length-1)return e.substring(0,o)+t[i+1]+n(r-(o+1));--o}while(o>=0);return"a".concat(n(r))},r=t(e);return this.isValidIdentifierName(r)||(r=this.generateNewMangledName(r)),r}}]),t}(m.AbstractIdentifierNamesGenerator);g.initMangledNameCharacter="9",g.nameSequence="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),g.reservedNames=["byte","case","char","do","else","enum","eval","for","goto","if","in","int","let","long","new","null","this","true","try","var","void","with"],g=u=l.__decorate([f.injectable(),l.__param(0,f.inject(p.ServiceIdentifiers.IRandomGenerator)),l.__param(1,f.inject(p.ServiceIdentifiers.IOptions)),l.__metadata("design:paramtypes",[Object,Object])],g),t.MangledIdentifierNamesGenerator=g},function(e,t,r){"use strict";var n=r(0),o=n(r(33)),a=n(r(1)),i=n(r(3)),s=n(r(8)),c=n(r(7)),d=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var u,l=r(4),f=r(2),p=r(5),m=r(57),g=r(43),N=r(35),v=u=function(e){function t(e,r){var n;return(0,a.default)(this,t),(n=(0,s.default)(this,(0,c.default)(t).call(this,e,r))).randomVariableNameSet=new o.default,n}return(0,d.default)(t,e),(0,i.default)(t,[{key:"generate",value:function(){var e=this.randomGenerator.getRandomInteger(1e4,99999999),t=g.NumberUtils.toHex(e).substr(0,u.baseIdentifierNameLength),r="_".concat(N.Utils.hexadecimalPrefix).concat(t);return this.randomVariableNameSet.has(r)?this.generate():(this.randomVariableNameSet.add(r),r)}},{key:"generateWithPrefix",value:function(){var e=this.generate();return"".concat(this.options.identifiersPrefix).concat(e).replace("__","_")}}]),t}(m.AbstractIdentifierNamesGenerator);v.baseIdentifierNameLength=6,v=u=l.__decorate([f.injectable(),l.__param(0,f.inject(p.ServiceIdentifiers.IRandomGenerator)),l.__param(1,f.inject(p.ServiceIdentifiers.IOptions)),l.__metadata("design:paramtypes",[Object,Object])],v),t.HexadecimalIdentifierNamesGenerator=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=r(5),a=r(41),i=r(134),s=r(133);t.generatorsModule=new n.ContainerModule(function(e){e(o.ServiceIdentifiers.IIdentifierNamesGenerator).to(i.HexadecimalIdentifierNamesGenerator).inSingletonScope().whenTargetNamed(a.IdentifierNamesGenerator.HexadecimalIdentifierNamesGenerator),e(o.ServiceIdentifiers.IIdentifierNamesGenerator).to(s.MangledIdentifierNamesGenerator).inSingletonScope().whenTargetNamed(a.IdentifierNamesGenerator.MangledIdentifierNamesGenerator),e(o.ServiceIdentifiers.Factory__IIdentifierNamesGenerator).toFactory(function(e){var t=null;return function(r){if(t)return t;var n;switch(r.identifierNamesGenerator){case a.IdentifierNamesGenerator.MangledIdentifierNamesGenerator:n=e.container.getNamed(o.ServiceIdentifiers.IIdentifierNamesGenerator,a.IdentifierNamesGenerator.MangledIdentifierNamesGenerator);break;case a.IdentifierNamesGenerator.HexadecimalIdentifierNamesGenerator:default:n=e.container.getNamed(o.ServiceIdentifiers.IIdentifierNamesGenerator,a.IdentifierNamesGenerator.HexadecimalIdentifierNamesGenerator)}return t=n,n}})})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2);t.finalizingTransformersModule=new n.ContainerModule(function(e){})},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3)),i=n(r(8)),s=n(r(7)),c=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var d=r(4),u=r(2),l=r(5),f=r(10),p=r(16),m=r(15),g=function(e){function t(e,r,n){return(0,o.default)(this,t),(0,i.default)(this,(0,s.default)(t).call(this,e,r,n))}return(0,c.default)(t,e),(0,a.default)(t,[{key:"initialize",value:function(e){this.literalValue=e}},{key:"getNodeStructure",value:function(){return[m.NodeFactory.expressionStatementNode(m.NodeFactory.literalNode(this.literalValue))]}}]),t}(p.AbstractCustomNode);d.__decorate([f.initializable(),d.__metadata("design:type",String)],g.prototype,"literalValue",void 0),g=d.__decorate([u.injectable(),d.__param(0,u.inject(l.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),d.__param(1,u.inject(l.ServiceIdentifiers.IRandomGenerator)),d.__param(2,u.inject(l.ServiceIdentifiers.IOptions)),d.__metadata("design:paramtypes",[Function,Object,Object])],g),t.StringLiteralNode=g},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3)),i=n(r(8)),s=n(r(7)),c=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var d=r(4),u=r(2),l=r(5),f=r(10),p=r(16),m=r(15),g=r(11),N=function(e){function t(e,r,n){return(0,o.default)(this,t),(0,i.default)(this,(0,s.default)(t).call(this,e,r,n))}return(0,c.default)(t,e),(0,a.default)(t,[{key:"initialize",value:function(e,t){this.controlFlowStorageName=e,this.controlFlowStorageKey=t}},{key:"getNodeStructure",value:function(){var e=m.NodeFactory.expressionStatementNode(m.NodeFactory.memberExpressionNode(m.NodeFactory.identifierNode(this.controlFlowStorageName),m.NodeFactory.identifierNode(this.controlFlowStorageKey)));return g.NodeUtils.parentizeAst(e),[e]}}]),t}(p.AbstractCustomNode);d.__decorate([f.initializable(),d.__metadata("design:type",String)],N.prototype,"controlFlowStorageKey",void 0),d.__decorate([f.initializable(),d.__metadata("design:type",String)],N.prototype,"controlFlowStorageName",void 0),N=d.__decorate([u.injectable(),d.__param(0,u.inject(l.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),d.__param(1,u.inject(l.ServiceIdentifiers.IRandomGenerator)),d.__param(2,u.inject(l.ServiceIdentifiers.IOptions)),d.__metadata("design:paramtypes",[Function,Object,Object])],N),t.StringLiteralControlFlowStorageCallNode=N},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StringArrayRotateFunctionTemplate=function(){return"\n        (function (array, {timesName}) {\n            var {whileFunctionName} = function (times) {\n                while (--times) {\n                    array['push'](array['shift']());\n                }\n            };\n            \n            {code}\n        })({stringArrayName}, 0x{stringArrayRotateValue});\n    "}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelfDefendingTemplate=function(e){return"\n        var selfDefendingFunc = function () {\n            var object = {\n                data: {\n                    key: 'cookie',\n                    value: 'timeout'\n                },\n                setCookie: function (options, name, value, document) {\n                    document = document || {};\n                    \n                    var updatedCookie = name + \"=\" + value;\n\n                    var i = 0;\n                                                            \n                    for (var i = 0, len = options.length; i < len; i++) {\n                        var propName = options[i];\n                                     \n                        updatedCookie += \"; \" + propName;\n                        \n                        var propValue = options[propName];\n                        \n                        options.push(propValue);\n                        len = options.length;\n                                                                        \n                        if (propValue !== true) {\n                            updatedCookie += \"=\" + propValue;\n                        }\n                    }\n\n                    document['cookie'] = updatedCookie;\n                },\n                removeCookie: function(){return 'dev';},\n                getCookie: function (document, name) {\n                    document = document || function (value) { return value };\n                    var matches = document(new RegExp(\n                        \"(?:^|; )\" + name.replace(/([.$?*|{}()[]\\/+^])/g, '\\$1') + \"=([^;]*)\"\n                    ));\n                    \n                    var func = function (param1, param2) {\n                        param1(++param2);\n                    };\n                    \n                    func({whileFunctionName}, {timesName});\n                                        \n                    return matches ? decodeURIComponent(matches[1]) : undefined;\n                }\n            };\n            \n            var test1 = function () {\n                var regExp = new RegExp('".concat(e.encode("\\w+ *\\(\\) *{\\w+ *['|\"].+['|\"];? *}",!0),"');\n                \n                return regExp.test(object.removeCookie.toString());\n            };\n            \n            object['updateCookie'] = test1;\n            \n            var cookie = '';\n            var result = object['updateCookie']();\n                                    \n            if (!result) {\n                object['setCookie'](['*'], 'counter', 1);\n            } else if (result) {\n                cookie = object['getCookie'](null, 'counter');\n            } else {\n                object['removeCookie']();\n            }\n        };\n        \n        selfDefendingFunc();\n    ")}},function(e,t,r){"use strict";var n=r(0),o=n(r(12)),a=n(r(1)),i=n(r(3)),s=n(r(8)),c=n(r(7)),d=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var u=r(4),l=r(2),f=r(5),p=u.__importDefault(r(20)),m=r(10),g=r(45),N=r(140),v=r(139),y=r(16),h=r(38),_=r(11),b=r(43),S=function(e){function t(e,r,n,o){var i;return(0,a.default)(this,t),(i=(0,s.default)(this,(0,c.default)(t).call(this,e,r,o))).escapeSequenceEncoder=n,i}return(0,d.default)(t,e),(0,i.default)(t,[{key:"initialize",value:function(e,t){this.stringArrayName=e,this.stringArrayRotateValue=t}},{key:"getNodeStructure",value:function(){return _.NodeUtils.convertCodeToStructure(this.getTemplate())}},{key:"getTemplate",value:function(){var e=this.identifierNamesGenerator.generate(),t=this.identifierNamesGenerator.generate(),r="";return r=this.options.selfDefending?p.default(N.SelfDefendingTemplate(this.escapeSequenceEncoder),{timesName:e,whileFunctionName:t}):"".concat(t,"(++").concat(e,")"),h.JavaScriptObfuscator.obfuscate(p.default(v.StringArrayRotateFunctionTemplate(),{code:r,timesName:e,stringArrayName:this.stringArrayName,stringArrayRotateValue:b.NumberUtils.toHex(this.stringArrayRotateValue),whileFunctionName:t}),(0,o.default)({},g.NO_ADDITIONAL_NODES_PRESET,{identifierNamesGenerator:this.options.identifierNamesGenerator,seed:this.options.seed})).getObfuscatedCode()}}]),t}(y.AbstractCustomNode);u.__decorate([m.initializable(),u.__metadata("design:type",String)],S.prototype,"stringArrayName",void 0),u.__decorate([m.initializable(),u.__metadata("design:type",Number)],S.prototype,"stringArrayRotateValue",void 0),S=u.__decorate([l.injectable(),u.__param(0,l.inject(f.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),u.__param(1,l.inject(f.ServiceIdentifiers.IRandomGenerator)),u.__param(2,l.inject(f.ServiceIdentifiers.IEscapeSequenceEncoder)),u.__param(3,l.inject(f.ServiceIdentifiers.IOptions)),u.__metadata("design:paramtypes",[Function,Object,Object,Object])],S),t.StringArrayRotateFunctionNode=S},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StringArrayTemplate=function(){return"\n        var {stringArrayName} = [{stringArray}];\n    "}},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3)),i=n(r(8)),s=n(r(7)),c=n(r(44)),d=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var u=r(4),l=r(2),f=r(5),p=u.__importDefault(r(20)),m=r(10),g=r(142),N=r(16),v=r(11),y=function(e){function t(e,r,n){return(0,o.default)(this,t),(0,i.default)(this,(0,s.default)(t).call(this,e,r,n))}return(0,d.default)(t,e),(0,a.default)(t,[{key:"initialize",value:function(e,t,r){this.stringArrayStorage=e,this.stringArrayName=t,this.stringArrayRotateValue=r}},{key:"getNode",value:function(){return this.stringArrayStorage.rotateArray(this.stringArrayRotateValue),(0,c.default)((0,s.default)(t.prototype),"getNode",this).call(this)}},{key:"getNodeStructure",value:function(){return v.NodeUtils.convertCodeToStructure(this.getTemplate())}},{key:"getTemplate",value:function(){return p.default(g.StringArrayTemplate(),{stringArrayName:this.stringArrayName,stringArray:this.stringArrayStorage.toString()})}}]),t}(N.AbstractCustomNode);u.__decorate([m.initializable(),u.__metadata("design:type",Object)],y.prototype,"stringArrayStorage",void 0),u.__decorate([m.initializable(),u.__metadata("design:type",String)],y.prototype,"stringArrayName",void 0),u.__decorate([m.initializable(),u.__metadata("design:type",Number)],y.prototype,"stringArrayRotateValue",void 0),y=u.__decorate([l.injectable(),u.__param(0,l.inject(f.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),u.__param(1,l.inject(f.ServiceIdentifiers.IRandomGenerator)),u.__param(2,l.inject(f.ServiceIdentifiers.IOptions)),u.__metadata("design:paramtypes",[Function,Object,Object])],y),t.StringArrayNode=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StringArrayRc4DecodeNodeTemplate=function(e){var t=e.getRandomString(6),r=e.getRandomString(6),n=e.getRandomString(6),o=e.getRandomString(6);return"\n        if ({stringArrayCallsWrapperName}.".concat(t," === undefined) {\n            {atobPolyfill}\n            \n            {rc4Polyfill}\n            {stringArrayCallsWrapperName}.").concat(r," = rc4;\n            \n            {stringArrayCallsWrapperName}.").concat(n," = {};\n            \n            {stringArrayCallsWrapperName}.").concat(t," = true;\n        }\n  \n        var cachedValue = {stringArrayCallsWrapperName}.").concat(n,"[index];\n\n        if (cachedValue === undefined) {\n            if ({stringArrayCallsWrapperName}.").concat(o," === undefined) {\n                {selfDefendingCode}\n                \n                {stringArrayCallsWrapperName}.").concat(o," = true;\n            }\n            \n            value = {stringArrayCallsWrapperName}.").concat(r,"(value, key);\n            {stringArrayCallsWrapperName}.").concat(n,"[index] = value;\n        } else {\n            value = cachedValue;\n        }\n    ")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StringArrayCallsWrapperTemplate=function(){return"\n        var {stringArrayCallsWrapperName} = function (index, key) {\n            index = index - 0;\n            \n            var value = {stringArrayName}[index];\n            \n            {decodeNodeTemplate}\n        \n            return value;\n        };\n    "}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StringArrayBase64DecodeNodeTemplate=function(e){var t=e.getRandomString(6),r=e.getRandomString(6),n=e.getRandomString(6);return"\n        if ({stringArrayCallsWrapperName}.".concat(t," === undefined) {\n            {atobPolyfill}\n            \n            {stringArrayCallsWrapperName}.").concat(r," = function (str) {\n                var string = atob(str);\n                var newStringChars = [];\n                \n                for (var i = 0, length = string.length; i < length; i++) {\n                    newStringChars += '%' + ('00' + string.charCodeAt(i).toString(16)).slice(-2);\n                }\n                \n                return decodeURIComponent(newStringChars);\n            };\n            \n            {stringArrayCallsWrapperName}.").concat(n," = {};\n            \n            {stringArrayCallsWrapperName}.").concat(t," = true;\n        }\n                  \n        var cachedValue = {stringArrayCallsWrapperName}.").concat(n,"[index];\n                        \n        if (cachedValue === undefined) {\n            {selfDefendingCode}\n            \n            value = {stringArrayCallsWrapperName}.").concat(r,"(value);\n            {stringArrayCallsWrapperName}.").concat(n,"[index] = value;\n        } else {\n            value = cachedValue;\n        }\n    ")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelfDefendingTemplate=function(e,t){var r=e.getRandomString(6),n=e.getRandomString(6),o=e.getRandomString(6),a=e.getRandomString(6),i=e.getRandomString(6),s=e.getRandomString(6),c=e.getRandomString(6),d=e.getRandomString(6),u=e.getRandomString(6);return"\n        var StatesClass = function (".concat(r,") {\n            this.").concat(r," = ").concat(r,";\n            this.").concat(n," = [1, 0, 0];\n            this.").concat(o," = function(){return 'newState';};\n            this.").concat(a," = '").concat(t.encode("\\w+ *\\(\\) *{\\w+ *",!0),"';\n            this.").concat(i," = '").concat(t.encode("['|\"].+['|\"];? *}",!0),"';\n        };\n        \n        StatesClass.prototype.").concat(s," = function () {\n            var regExp = new RegExp(this.").concat(a," + this.").concat(i,");\n            var expression = regExp.test(this.").concat(o,".toString())\n                ? --this.").concat(n,"[1]\n                : --this.").concat(n,"[0];\n            \n            return this.").concat(c,"(expression);\n        };\n        \n        StatesClass.prototype.").concat(c," = function (").concat(u,") {\n            if (!Boolean(~").concat(u,")) {\n                return ").concat(u,";\n            }\n            \n            return this.").concat(d,"(this.").concat(r,");\n        };\n\n        StatesClass.prototype.").concat(d," = function (").concat(r,") {\n            for (var i = 0, len = this.").concat(n,".length; i < len; i++) {\n                this.").concat(n,".push(Math.round(Math.random()));\n                len = this.").concat(n,".length;\n            }\n            \n            return ").concat(r,"(this.").concat(n,"[0]);\n        };\n\n        new StatesClass({stringArrayCallsWrapperName}).").concat(s,"();\n    ")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Rc4Template=function(){return"\n        var rc4 = function (str, key) {\n            var s = [], j = 0, x, res = '', newStr = '';\n           \n            str = atob(str);\n                \n            for (var k = 0, length = str.length; k < length; k++) {\n                newStr += '%' + ('00' + str.charCodeAt(k).toString(16)).slice(-2);\n            }\n        \n            str = decodeURIComponent(newStr);\n                    \t        \n\t        for (var i = 0; i < 256; i++) {\n                s[i] = i;\n            }\n \n            for (i = 0; i < 256; i++) {\n                j = (j + s[i] + key.charCodeAt(i % key.length)) % 256;\n                x = s[i];\n                s[i] = s[j];\n                s[j] = x;\n            }\n            \n            i = 0;\n            j = 0;\n            \n            for (var y = 0; y < str.length; y++) {\n                i = (i + 1) % 256;\n                j = (j + s[i]) % 256;\n                x = s[i];\n                s[i] = s[j];\n                s[j] = x;\n                res += String.fromCharCode(str.charCodeAt(y) ^ s[(s[i] + s[j]) % 256]);\n            }\n                      \n            return res;\n        }\n    "}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AtobTemplate=function(){return"\n        (function () {\n            {globalVariableTemplate}\n            \n            var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\n            that.atob || (\n                that.atob = function(input) {\n                    var str = String(input).replace(/=+$/, '');\n                    for (\n                        var bc = 0, bs, buffer, idx = 0, output = '';\n                        buffer = str.charAt(idx++);\n                        ~buffer && (bs = bc % 4 ? bs * 64 + buffer : buffer,\n                            bc++ % 4) ? output += String.fromCharCode(255 & bs >> (-2 * bc & 6)) : 0\n                    ) {\n                        buffer = chars.indexOf(buffer);\n                    }\n                return output;\n            });\n        })();\n    "}},function(e,t,r){"use strict";var n=r(0),o=n(r(12)),a=n(r(1)),i=n(r(3)),s=n(r(8)),c=n(r(7)),d=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var u=r(4),l=r(2),f=r(5),p=u.__importDefault(r(20)),m=r(25),g=r(39),N=r(10),v=r(45),y=r(149),h=r(47),_=r(148),b=r(147),S=r(146),I=r(145),C=r(144),F=r(16),j=r(38),O=r(11),T=function(e){function t(e,r,n,o){var i;return(0,a.default)(this,t),(i=(0,s.default)(this,(0,c.default)(t).call(this,e,r,o))).escapeSequenceEncoder=n,i}return(0,d.default)(t,e),(0,i.default)(t,[{key:"initialize",value:function(e,t){this.stringArrayName=e,this.stringArrayCallsWrapperName=t}},{key:"getNodeStructure",value:function(){return O.NodeUtils.convertCodeToStructure(this.getTemplate())}},{key:"getTemplate",value:function(){var e=this.getDecodeStringArrayTemplate();return j.JavaScriptObfuscator.obfuscate(p.default(I.StringArrayCallsWrapperTemplate(),{decodeNodeTemplate:e,stringArrayCallsWrapperName:this.stringArrayCallsWrapperName,stringArrayName:this.stringArrayName}),(0,o.default)({},v.NO_ADDITIONAL_NODES_PRESET,{identifierNamesGenerator:this.options.identifierNamesGenerator,seed:this.options.seed})).getObfuscatedCode()}},{key:"getDecodeStringArrayTemplate",value:function(){var e=this.options.target!==m.ObfuscationTarget.BrowserNoEval?this.getGlobalVariableTemplate():h.GlobalVariableNoEvalTemplate(),t=p.default(y.AtobTemplate(),{globalVariableTemplate:e}),r="",n="";switch(this.options.selfDefending&&(n=p.default(b.SelfDefendingTemplate(this.randomGenerator,this.escapeSequenceEncoder),{stringArrayCallsWrapperName:this.stringArrayCallsWrapperName,stringArrayName:this.stringArrayName})),this.options.stringArrayEncoding){case g.StringArrayEncoding.Rc4:r=p.default(C.StringArrayRc4DecodeNodeTemplate(this.randomGenerator),{atobPolyfill:t,rc4Polyfill:_.Rc4Template(),selfDefendingCode:n,stringArrayCallsWrapperName:this.stringArrayCallsWrapperName});break;case g.StringArrayEncoding.Base64:r=p.default(S.StringArrayBase64DecodeNodeTemplate(this.randomGenerator),{atobPolyfill:t,selfDefendingCode:n,stringArrayCallsWrapperName:this.stringArrayCallsWrapperName})}return r}}]),t}(F.AbstractCustomNode);u.__decorate([N.initializable(),u.__metadata("design:type",String)],T.prototype,"stringArrayName",void 0),u.__decorate([N.initializable(),u.__metadata("design:type",String)],T.prototype,"stringArrayCallsWrapperName",void 0),T=u.__decorate([l.injectable(),u.__param(0,l.inject(f.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),u.__param(1,l.inject(f.ServiceIdentifiers.IRandomGenerator)),u.__param(2,l.inject(f.ServiceIdentifiers.IEscapeSequenceEncoder)),u.__param(3,l.inject(f.ServiceIdentifiers.IOptions)),u.__metadata("design:paramtypes",[Function,Object,Object,Object])],T),t.StringArrayCallsWrapper=T},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelfDefendingTemplate=function(e){return"\n        var {selfDefendingFunctionName} = {singleNodeCallControllerFunctionName}(this, function () {\n            var func1 = function(){return 'dev';},\n                func2 = function () {\n                    return 'window';\n                };\n                \n            var test1 = function () {\n                var regExp = new RegExp('".concat(e.encode("\\w+ *\\(\\) *{\\w+ *['|\"].+['|\"];? *}",!0),"');\n                \n                return !regExp.test(func1.toString());\n            };\n            \n            var test2 = function () {\n                var regExp = new RegExp('").concat(e.encode("(\\\\[x|u](\\w){2,4})+",!0),"');\n                \n                return regExp.test(func2.toString());\n            };\n            \n            var recursiveFunc1 = function (string) {\n                var i = ~-1 >> 1 + 255 % 0;\n                                \n                if (string.indexOf('i' === i)) {\n                    recursiveFunc2(string)\n                }\n            };\n            \n            var recursiveFunc2 = function (string) {\n                var i = ~-4 >> 1 + 255 % 0;\n                \n                if (string.indexOf((true+\"\")[3]) !== i) {\n                    recursiveFunc1(string)\n                }\n            };\n            \n            if (!test1()) {\n                if (!test2()) {\n                    recursiveFunc1('indеxOf');\n                } else {\n                    recursiveFunc1('indexOf');\n                }\n            } else {\n                recursiveFunc1('indеxOf');\n            }\n        })\n        \n        {selfDefendingFunctionName}();\n    ")}},function(e,t,r){"use strict";var n=r(0),o=n(r(12)),a=n(r(1)),i=n(r(3)),s=n(r(8)),c=n(r(7)),d=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var u=r(4),l=r(2),f=r(5),p=u.__importDefault(r(20)),m=r(10),g=r(45),N=r(151),v=r(16),y=r(38),h=r(11),_=function(e){function t(e,r,n,o){var i;return(0,a.default)(this,t),(i=(0,s.default)(this,(0,c.default)(t).call(this,e,r,o))).escapeSequenceEncoder=n,i}return(0,d.default)(t,e),(0,i.default)(t,[{key:"initialize",value:function(e){this.callsControllerFunctionName=e}},{key:"getNodeStructure",value:function(){return h.NodeUtils.convertCodeToStructure(this.getTemplate())}},{key:"getTemplate",value:function(){return y.JavaScriptObfuscator.obfuscate(p.default(N.SelfDefendingTemplate(this.escapeSequenceEncoder),{selfDefendingFunctionName:this.identifierNamesGenerator.generate(),singleNodeCallControllerFunctionName:this.callsControllerFunctionName}),(0,o.default)({},g.NO_ADDITIONAL_NODES_PRESET,{identifierNamesGenerator:this.options.identifierNamesGenerator,seed:this.options.seed,unicodeEscapeSequence:!0})).getObfuscatedCode()}}]),t}(v.AbstractCustomNode);u.__decorate([m.initializable(),u.__metadata("design:type",String)],_.prototype,"callsControllerFunctionName",void 0),_=u.__decorate([l.injectable(),u.__param(0,l.inject(f.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),u.__param(1,l.inject(f.ServiceIdentifiers.IRandomGenerator)),u.__param(2,l.inject(f.ServiceIdentifiers.IEscapeSequenceEncoder)),u.__param(3,l.inject(f.ServiceIdentifiers.IOptions)),u.__metadata("design:paramtypes",[Function,Object,Object,Object])],_),t.SelfDefendingUnicodeNode=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SingleNodeCallControllerTemplate=function(){return"\n        var {singleNodeCallControllerFunctionName} = (function(){\n            var firstCall = true;\n            \n            return function (context, fn){\n                var rfn = firstCall ? function(){\n                    if(fn){\n                        var res = fn.apply(context, arguments);\n                        fn = null;\n                        return res;\n                    }\n                } : function(){}\n                \n                firstCall = false;\n                \n                return rfn;\n            }\n        })();\n    "}},function(e,t,r){"use strict";var n=r(0),o=n(r(12)),a=n(r(1)),i=n(r(3)),s=n(r(8)),c=n(r(7)),d=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var u=r(4),l=r(2),f=r(5),p=u.__importDefault(r(20)),m=r(27),g=r(10),N=r(153),v=r(45),y=r(16),h=r(38),_=r(11),b=function(e){function t(e,r,n){return(0,a.default)(this,t),(0,s.default)(this,(0,c.default)(t).call(this,e,r,n))}return(0,d.default)(t,e),(0,i.default)(t,[{key:"initialize",value:function(e,t){this.appendEvent=e,this.callsControllerFunctionName=t}},{key:"getNodeStructure",value:function(){return _.NodeUtils.convertCodeToStructure(this.getTemplate())}},{key:"getTemplate",value:function(){return this.appendEvent===m.ObfuscationEvent.AfterObfuscation?h.JavaScriptObfuscator.obfuscate(p.default(N.SingleNodeCallControllerTemplate(),{singleNodeCallControllerFunctionName:this.callsControllerFunctionName}),(0,o.default)({},v.NO_ADDITIONAL_NODES_PRESET,{identifierNamesGenerator:this.options.identifierNamesGenerator,seed:this.options.seed})).getObfuscatedCode():p.default(N.SingleNodeCallControllerTemplate(),{singleNodeCallControllerFunctionName:this.callsControllerFunctionName})}}]),t}(y.AbstractCustomNode);u.__decorate([g.initializable(),u.__metadata("design:type",String)],b.prototype,"callsControllerFunctionName",void 0),u.__decorate([g.initializable(),u.__metadata("design:type",String)],b.prototype,"appendEvent",void 0),b=u.__decorate([l.injectable(),u.__param(0,l.inject(f.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),u.__param(1,l.inject(f.ServiceIdentifiers.IRandomGenerator)),u.__param(2,l.inject(f.ServiceIdentifiers.IOptions)),u.__metadata("design:paramtypes",[Function,Object,Object])],b),t.NodeCallsControllerFunctionNode=b},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3)),i=n(r(8)),s=n(r(7)),c=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var d=r(4),u=r(2),l=r(5),f=r(10),p=r(16),m=r(15),g=r(11),N=function(e){function t(e,r,n){return(0,o.default)(this,t),(0,i.default)(this,(0,s.default)(t).call(this,e,r,n))}return(0,c.default)(t,e),(0,a.default)(t,[{key:"initialize",value:function(e){this.operator=e}},{key:"getNodeStructure",value:function(){var e=m.NodeFactory.expressionStatementNode(m.NodeFactory.functionExpressionNode([m.NodeFactory.identifierNode("x"),m.NodeFactory.identifierNode("y")],m.NodeFactory.blockStatementNode([m.NodeFactory.returnStatementNode(m.NodeFactory.logicalExpressionNode(this.operator,m.NodeFactory.identifierNode("x"),m.NodeFactory.identifierNode("y")))])));return g.NodeUtils.parentizeAst(e),[e]}}]),t}(p.AbstractCustomNode);d.__decorate([f.initializable(),d.__metadata("design:type",String)],N.prototype,"operator",void 0),N=d.__decorate([u.injectable(),d.__param(0,u.inject(l.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),d.__param(1,u.inject(l.ServiceIdentifiers.IRandomGenerator)),d.__param(2,u.inject(l.ServiceIdentifiers.IOptions)),d.__metadata("design:paramtypes",[Function,Object,Object])],N),t.LogicalExpressionFunctionNode=N},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3)),i=n(r(8)),s=n(r(7)),c=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var d=r(4),u=r(2),l=r(5),f=r(10),p=r(16),m=r(15),g=r(11),N=function(e){function t(e,r,n){return(0,o.default)(this,t),(0,i.default)(this,(0,s.default)(t).call(this,e,r,n))}return(0,c.default)(t,e),(0,a.default)(t,[{key:"initialize",value:function(e,t,r,n){this.controlFlowStorageName=e,this.controlFlowStorageKey=t,this.leftValue=r,this.rightValue=n}},{key:"getNodeStructure",value:function(){var e=m.NodeFactory.expressionStatementNode(m.NodeFactory.callExpressionNode(m.NodeFactory.memberExpressionNode(m.NodeFactory.identifierNode(this.controlFlowStorageName),m.NodeFactory.identifierNode(this.controlFlowStorageKey)),[this.leftValue,this.rightValue]));return g.NodeUtils.parentizeAst(e),[e]}}]),t}(p.AbstractCustomNode);d.__decorate([f.initializable(),d.__metadata("design:type",String)],N.prototype,"controlFlowStorageKey",void 0),d.__decorate([f.initializable(),d.__metadata("design:type",String)],N.prototype,"controlFlowStorageName",void 0),d.__decorate([f.initializable(),d.__metadata("design:type",Object)],N.prototype,"leftValue",void 0),d.__decorate([f.initializable(),d.__metadata("design:type",Object)],N.prototype,"rightValue",void 0),N=d.__decorate([u.injectable(),d.__param(0,u.inject(l.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),d.__param(1,u.inject(l.ServiceIdentifiers.IRandomGenerator)),d.__param(2,u.inject(l.ServiceIdentifiers.IOptions)),d.__metadata("design:paramtypes",[Function,Object,Object])],N),t.ExpressionWithOperatorControlFlowStorageCallNode=N},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DomainLockNodeTemplate=function(){return'\n        var {domainLockFunctionName} = {singleNodeCallControllerFunctionName}(this, function () {\n            \n            {globalVariableTemplate}\n            \n            var func = function () {\n                return {\n                    key: \'item\',\n                    value: \'attribute\',\n                    getAttribute: function () {\n                        for (var i = 0; i < 1000; i--) {\n                            var isPositive = i > 0;\n                            \n                            switch (isPositive) {\n                                case true:\n                                    return this.item + \'_\' + this.value + \'_\' + i;\n                                default:\n                                    this.item + \'_\' + this.value;\n                            }\n                        }\n                    }()\n                };\n            };\n                        \n            var regExp = new RegExp("[{diff}]", "g");\n            var domains = "{domains}".replace(regExp, "").split(";");\n            var document;\n            var domain;\n            var location;\n            var hostname;\n\n            for (var d in that) {\n                if (d.length == 8 && d.charCodeAt(7) == 116 && d.charCodeAt(5) == 101 && d.charCodeAt(3) == 117 && d.charCodeAt(0) == 100) {\n                    document = d;\n                \n                    break;\n                }\n            }\n\n            for (var d1 in that[document]) {\n                if (d1.length == 6 && d1.charCodeAt(5) == 110 && d1.charCodeAt(0) == 100) {\n                    domain = d1;\n                    \n                    break;\n                }\n            }\n\n            if (!("~" > domain)) {\n                for (var d2 in that[document]) {\n                    if (d2.length == 8 && d2.charCodeAt(7) == 110 && d2.charCodeAt(0) == 108) {\n                        location = d2;\n                        \n                        break;\n                    }\n                }\n\n                for (var d3 in that[document][location]) {\n                    if (d3.length == 8 && d3.charCodeAt(7) == 101 && d3.charCodeAt(0) == 104) {\n                        hostname = d3;\n                        \n                        break;\n                    }\n                }\n            }\n            \n            if (!document || !that[document]) {\n                return;\n            }\n            \n            var documentDomain = that[document][domain];\n            var documentLocationHostName = !!that[document][location] && that[document][location][hostname];\n            var currentDomain = documentDomain || documentLocationHostName;\n          \n            if (!currentDomain) {\n                return;\n            }\n          \n            var ok = false;\n                        \n            for (var i = 0; i < domains.length; i++) {\n                var domain = domains[i];\n                var position = currentDomain.length - domain.length;\n                var lastIndex = currentDomain.indexOf(domain, position);\n                var endsWith = lastIndex !== -1 && lastIndex === position;\n                \n                if (endsWith) {\n                    if (currentDomain.length == domain.length || domain.indexOf(".") === 0) {\n                        ok = true;\n                    }\n                }\n            }\n               \n            if (!ok) {\n                data;\n            } else {\n                return;\n            }\n            \n            func();\n        });\n\n        {domainLockFunctionName}();\n    '}},function(e,t,r){"use strict";var n=r(0),o=n(r(32)),a=n(r(1)),i=n(r(3)),s=n(r(8)),c=n(r(7)),d=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var u=r(4),l=r(2),f=r(5),p=u.__importDefault(r(20)),m=r(25),g=r(10),N=r(157),v=r(47),y=r(16),h=r(11),_=function(e){function t(e,r,n,o){var i;return(0,a.default)(this,t),(i=(0,s.default)(this,(0,c.default)(t).call(this,e,r,o))).cryptUtils=n,i}return(0,d.default)(t,e),(0,i.default)(t,[{key:"initialize",value:function(e){this.callsControllerFunctionName=e}},{key:"getNodeStructure",value:function(){return h.NodeUtils.convertCodeToStructure(this.getTemplate())}},{key:"getTemplate",value:function(){var e=this.options.domainLock.join(";"),t=this.cryptUtils.hideString(e,3*e.length),r=(0,o.default)(t,2),n=r[0],a=r[1],i=this.options.target!==m.ObfuscationTarget.BrowserNoEval?this.getGlobalVariableTemplate():v.GlobalVariableNoEvalTemplate();return p.default(N.DomainLockNodeTemplate(),{domainLockFunctionName:this.identifierNamesGenerator.generate(),diff:a,domains:n,globalVariableTemplate:i,singleNodeCallControllerFunctionName:this.callsControllerFunctionName})}}]),t}(y.AbstractCustomNode);u.__decorate([g.initializable(),u.__metadata("design:type",String)],_.prototype,"callsControllerFunctionName",void 0),_=u.__decorate([l.injectable(),u.__param(0,l.inject(f.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),u.__param(1,l.inject(f.ServiceIdentifiers.IRandomGenerator)),u.__param(2,l.inject(f.ServiceIdentifiers.ICryptUtils)),u.__param(3,l.inject(f.ServiceIdentifiers.IOptions)),u.__metadata("design:paramtypes",[Function,Object,Object,Object])],_),t.DomainLockNode=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugProtectionFunctionTemplate=function(){return"\n        function {debugProtectionFunctionName} (ret) {\n            function debuggerProtection (counter) {\n            \n                {debuggerTemplate}\n                \n                debuggerProtection(++counter);\n            }\n            \n            try {\n                if (ret) {\n                    return debuggerProtection;\n                } else {\n                    debuggerProtection(0);\n                }\n            } catch (y) {}\n        }\n    "}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebuggerTemplateNoEval=function(){return"\n        if (typeof counter === 'string') {\n            var func = function () {\n                while (true) {}\n            };\n            \n            return func();\n        } else {\n            if (('' + counter / counter)['length'] !== 1 || counter % 20 === 0) {\n                debugger;\n            } else {\n                debugger;\n            }\n            \n        }\n    "}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebuggerTemplate=function(){return"\n        if (typeof counter === 'string') {\n            return (function (arg) {}.constructor('while (true) {}').apply('counter'));\n        } else {\n            if (('' + counter / counter)['length'] !== 1 || counter % 20 === 0) {\n                (function () {return true;}.constructor('debu' + 'gger').call('action'));\n            } else {\n                (function () {return false;}.constructor('debu' + 'gger').apply('stateObject'));\n            }\n            \n        }\n    "}},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3)),i=n(r(8)),s=n(r(7)),c=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var d=r(4),u=r(2),l=r(5),f=d.__importDefault(r(20)),p=r(25),m=r(10),g=r(161),N=r(160),v=r(159),y=r(16),h=r(11),_=function(e){function t(e,r,n){return(0,o.default)(this,t),(0,i.default)(this,(0,s.default)(t).call(this,e,r,n))}return(0,c.default)(t,e),(0,a.default)(t,[{key:"initialize",value:function(e){this.debugProtectionFunctionName=e}},{key:"getNodeStructure",value:function(){return h.NodeUtils.convertCodeToStructure(this.getTemplate())}},{key:"getTemplate",value:function(){var e=this.options.target!==p.ObfuscationTarget.BrowserNoEval?g.DebuggerTemplate():N.DebuggerTemplateNoEval();return f.default(v.DebugProtectionFunctionTemplate(),{debuggerTemplate:e,debugProtectionFunctionName:this.debugProtectionFunctionName})}}]),t}(y.AbstractCustomNode);d.__decorate([m.initializable(),d.__metadata("design:type",String)],_.prototype,"debugProtectionFunctionName",void 0),_=d.__decorate([u.injectable(),d.__param(0,u.inject(l.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),d.__param(1,u.inject(l.ServiceIdentifiers.IRandomGenerator)),d.__param(2,u.inject(l.ServiceIdentifiers.IOptions)),d.__metadata("design:paramtypes",[Function,Object,Object])],_),t.DebugProtectionFunctionNode=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugProtectionFunctionIntervalTemplate=function(){return"\n        setInterval(function () {\n            {debugProtectionFunctionName}();\n        }, 4000);\n    "}},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3)),i=n(r(8)),s=n(r(7)),c=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var d=r(4),u=r(2),l=r(5),f=d.__importDefault(r(20)),p=r(10),m=r(163),g=r(16),N=r(11),v=function(e){function t(e,r,n){return(0,o.default)(this,t),(0,i.default)(this,(0,s.default)(t).call(this,e,r,n))}return(0,c.default)(t,e),(0,a.default)(t,[{key:"initialize",value:function(e){this.debugProtectionFunctionName=e}},{key:"getNodeStructure",value:function(){return N.NodeUtils.convertCodeToStructure(this.getTemplate())}},{key:"getTemplate",value:function(){return f.default(m.DebugProtectionFunctionIntervalTemplate(),{debugProtectionFunctionName:this.debugProtectionFunctionName})}}]),t}(g.AbstractCustomNode);d.__decorate([p.initializable(),d.__metadata("design:type",String)],v.prototype,"debugProtectionFunctionName",void 0),v=d.__decorate([u.injectable(),d.__param(0,u.inject(l.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),d.__param(1,u.inject(l.ServiceIdentifiers.IRandomGenerator)),d.__param(2,u.inject(l.ServiceIdentifiers.IOptions)),d.__metadata("design:paramtypes",[Function,Object,Object])],v),t.DebugProtectionFunctionIntervalNode=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugProtectionFunctionCallTemplate=function(){return"\n        (function () {\n            {singleNodeCallControllerFunctionName}(this, function () {\n                var regExp1 = new RegExp('function *\\\\( *\\\\)');\n                var regExp2 = new RegExp('\\\\+\\\\+ *\\(?:_0x(?:[a-f0-9]){4,6}|(?:\\\\b|\\\\d)[a-z0-9]{1,4}(?:\\\\b|\\\\d)\\)', 'i');\n       \n                var result = {debugProtectionFunctionName}('init');\n                \n                if (!regExp1.test(result + 'chain') || !regExp2.test(result + 'input')) {\n                    result('0');\n                } else {\n                    {debugProtectionFunctionName}();\n                }\n            })();\n        })();\n    "}},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3)),i=n(r(8)),s=n(r(7)),c=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var d=r(4),u=r(2),l=r(5),f=d.__importDefault(r(20)),p=r(10),m=r(165),g=r(16),N=r(11),v=function(e){function t(e,r,n){return(0,o.default)(this,t),(0,i.default)(this,(0,s.default)(t).call(this,e,r,n))}return(0,c.default)(t,e),(0,a.default)(t,[{key:"initialize",value:function(e,t){this.debugProtectionFunctionName=e,this.callsControllerFunctionName=t}},{key:"getNodeStructure",value:function(){return N.NodeUtils.convertCodeToStructure(this.getTemplate())}},{key:"getTemplate",value:function(){return f.default(m.DebugProtectionFunctionCallTemplate(),{debugProtectionFunctionName:this.debugProtectionFunctionName,singleNodeCallControllerFunctionName:this.callsControllerFunctionName})}}]),t}(g.AbstractCustomNode);d.__decorate([p.initializable(),d.__metadata("design:type",String)],v.prototype,"callsControllerFunctionName",void 0),d.__decorate([p.initializable(),d.__metadata("design:type",String)],v.prototype,"debugProtectionFunctionName",void 0),v=d.__decorate([u.injectable(),d.__param(0,u.inject(l.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),d.__param(1,u.inject(l.ServiceIdentifiers.IRandomGenerator)),d.__param(2,u.inject(l.ServiceIdentifiers.IOptions)),d.__metadata("design:paramtypes",[Function,Object,Object])],v),t.DebugProtectionFunctionCallNode=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConsoleOutputDisableExpressionTemplate=function(){return"\n        var {consoleLogDisableFunctionName} = {singleNodeCallControllerFunctionName}(this, function () {\n            var func = function () {};\n            \n            {globalVariableTemplate}\n                        \n            if (!that.console) {\n                that.console = (function (func){\n                    var c = {};\n                    \n                    c.log = func;\n                    c.warn = func;\n                    c.debug = func;\n                    c.info = func;\n                    c.error = func;\n                    c.exception = func;\n                    c.trace = func;\n                    \n                    return c;\n                })(func);\n            } else {\n                that.console.log = func;\n                that.console.warn = func;\n                that.console.debug = func;\n                that.console.info = func;\n                that.console.error = func;\n                that.console.exception = func;\n                that.console.trace = func;\n            }\n        });\n        \n        {consoleLogDisableFunctionName}();\n    "}},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3)),i=n(r(8)),s=n(r(7)),c=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var d=r(4),u=r(2),l=r(5),f=d.__importDefault(r(20)),p=r(25),m=r(167),g=r(47),N=r(10),v=r(16),y=r(11),h=function(e){function t(e,r,n){return(0,o.default)(this,t),(0,i.default)(this,(0,s.default)(t).call(this,e,r,n))}return(0,c.default)(t,e),(0,a.default)(t,[{key:"initialize",value:function(e){this.callsControllerFunctionName=e}},{key:"getNodeStructure",value:function(){return y.NodeUtils.convertCodeToStructure(this.getTemplate())}},{key:"getTemplate",value:function(){var e=this.options.target!==p.ObfuscationTarget.BrowserNoEval?this.getGlobalVariableTemplate():g.GlobalVariableNoEvalTemplate();return f.default(m.ConsoleOutputDisableExpressionTemplate(),{consoleLogDisableFunctionName:this.identifierNamesGenerator.generate(),globalVariableTemplate:e,singleNodeCallControllerFunctionName:this.callsControllerFunctionName})}}]),t}(v.AbstractCustomNode);d.__decorate([N.initializable(),d.__metadata("design:type",String)],h.prototype,"callsControllerFunctionName",void 0),h=d.__decorate([u.injectable(),d.__param(0,u.inject(l.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),d.__param(1,u.inject(l.ServiceIdentifiers.IRandomGenerator)),d.__param(2,u.inject(l.ServiceIdentifiers.IOptions)),d.__metadata("design:paramtypes",[Function,Object,Object])],h),t.ConsoleOutputDisableExpressionNode=h},function(e,t){e.exports=require("@babel/runtime/core-js/array/from")},function(e,t,r){"use strict";var n=r(0),o=n(r(32)),a=n(r(169)),i=n(r(1)),s=n(r(3)),c=n(r(8)),d=n(r(7)),u=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var l=r(4),f=r(2),p=r(5),m=r(10),g=r(16),N=r(15),v=r(9),y=r(11),h=function(e){function t(e,r,n){return(0,i.default)(this,t),(0,c.default)(this,(0,d.default)(t).call(this,e,r,n))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"initialize",value:function(e){this.controlFlowStorage=e}},{key:"getNodeStructure",value:function(){var e=(0,a.default)(this.controlFlowStorage.getStorage()).map(function(e){var t=(0,o.default)(e,2),r=t[0],n=t[1].getNode()[0];if(!v.NodeGuards.isExpressionStatementNode(n))throw new Error("Function node for control flow storage object should be passed inside the `ExpressionStatement` node!");return N.NodeFactory.propertyNode(N.NodeFactory.identifierNode(r),n.expression)}),t=N.NodeFactory.variableDeclarationNode([N.NodeFactory.variableDeclaratorNode(N.NodeFactory.identifierNode(this.controlFlowStorage.getStorageId()),N.NodeFactory.objectExpressionNode(e))]);return[t=y.NodeUtils.parentizeAst(t)]}}]),t}(g.AbstractCustomNode);l.__decorate([m.initializable(),l.__metadata("design:type",Object)],h.prototype,"controlFlowStorage",void 0),h=l.__decorate([f.injectable(),l.__param(0,f.inject(p.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),l.__param(1,f.inject(p.ServiceIdentifiers.IRandomGenerator)),l.__param(2,f.inject(p.ServiceIdentifiers.IOptions)),l.__metadata("design:paramtypes",[Function,Object,Object])],h),t.ControlFlowStorageNode=h},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3)),i=n(r(8)),s=n(r(7)),c=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var d=r(4),u=r(2),l=r(5),f=r(10),p=r(16),m=r(15),g=r(11),N=function(e){function t(e,r,n){return(0,o.default)(this,t),(0,i.default)(this,(0,s.default)(t).call(this,e,r,n))}return(0,c.default)(t,e),(0,a.default)(t,[{key:"initialize",value:function(e){this.expressionArguments=e}},{key:"getNodeStructure",value:function(){for(var e=m.NodeFactory.identifierNode("callee"),t=[],r=this.expressionArguments.length,n=0;n<r;n++)t.push(m.NodeFactory.identifierNode("param".concat(n+1)));var o=m.NodeFactory.expressionStatementNode(m.NodeFactory.functionExpressionNode([e].concat(t),m.NodeFactory.blockStatementNode([m.NodeFactory.returnStatementNode(m.NodeFactory.callExpressionNode(e,t))])));return g.NodeUtils.parentizeAst(o),[o]}}]),t}(p.AbstractCustomNode);d.__decorate([f.initializable(),d.__metadata("design:type",Array)],N.prototype,"expressionArguments",void 0),N=d.__decorate([u.injectable(),d.__param(0,u.inject(l.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),d.__param(1,u.inject(l.ServiceIdentifiers.IRandomGenerator)),d.__param(2,u.inject(l.ServiceIdentifiers.IOptions)),d.__metadata("design:paramtypes",[Function,Object,Object])],N),t.CallExpressionFunctionNode=N},function(e,t,r){"use strict";var n=r(0),o=n(r(30)),a=n(r(1)),i=n(r(3)),s=n(r(8)),c=n(r(7)),d=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var u=r(4),l=r(2),f=r(5),p=r(10),m=r(16),g=r(15),N=r(11),v=function(e){function t(e,r,n){return(0,a.default)(this,t),(0,s.default)(this,(0,c.default)(t).call(this,e,r,n))}return(0,d.default)(t,e),(0,i.default)(t,[{key:"initialize",value:function(e,t,r,n){this.controlFlowStorageName=e,this.controlFlowStorageKey=t,this.callee=r,this.expressionArguments=n}},{key:"getNodeStructure",value:function(){var e=g.NodeFactory.expressionStatementNode(g.NodeFactory.callExpressionNode(g.NodeFactory.memberExpressionNode(g.NodeFactory.identifierNode(this.controlFlowStorageName),g.NodeFactory.identifierNode(this.controlFlowStorageKey)),[this.callee].concat((0,o.default)(this.expressionArguments))));return N.NodeUtils.parentizeAst(e),[e]}}]),t}(m.AbstractCustomNode);u.__decorate([p.initializable(),u.__metadata("design:type",Object)],v.prototype,"callee",void 0),u.__decorate([p.initializable(),u.__metadata("design:type",String)],v.prototype,"controlFlowStorageKey",void 0),u.__decorate([p.initializable(),u.__metadata("design:type",String)],v.prototype,"controlFlowStorageName",void 0),u.__decorate([p.initializable(),u.__metadata("design:type",Array)],v.prototype,"expressionArguments",void 0),v=u.__decorate([l.injectable(),u.__param(0,l.inject(f.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),u.__param(1,l.inject(f.ServiceIdentifiers.IRandomGenerator)),u.__param(2,l.inject(f.ServiceIdentifiers.IOptions)),u.__metadata("design:paramtypes",[Function,Object,Object])],v),t.CallExpressionControlFlowStorageCallNode=v},function(e,t,r){"use strict";var n=r(0),o=n(r(32)),a=n(r(1)),i=n(r(3)),s=n(r(8)),c=n(r(7)),d=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var u=r(4),l=r(2),f=r(5),p=r(10),m=r(16),g=r(15),N=r(11),v=function(e){function t(e,r,n){return(0,a.default)(this,t),(0,s.default)(this,(0,c.default)(t).call(this,e,r,n))}return(0,d.default)(t,e),(0,i.default)(t,[{key:"initialize",value:function(e,t){this.blockStatementNode=e,this.deadCodeInjectionRootAstHostNode=t}},{key:"getNodeStructure",value:function(){var e=this.randomGenerator.getMathRandom()>.5,t=this.randomGenerator.getMathRandom()>.5,r=e?"===":"!==",n=this.randomGenerator.getRandomString(5),a=t?n:this.randomGenerator.getRandomString(5),i=e===t?[this.blockStatementNode,this.deadCodeInjectionRootAstHostNode]:[this.deadCodeInjectionRootAstHostNode,this.blockStatementNode],s=(0,o.default)(i,2),c=s[0],d=s[1],u=g.NodeFactory.blockStatementNode([g.NodeFactory.ifStatementNode(g.NodeFactory.binaryExpressionNode(r,g.NodeFactory.literalNode(n),g.NodeFactory.literalNode(a)),c,d)]);return N.NodeUtils.parentizeAst(u),[u]}}]),t}(m.AbstractCustomNode);u.__decorate([p.initializable(),u.__metadata("design:type",Object)],v.prototype,"blockStatementNode",void 0),u.__decorate([p.initializable(),u.__metadata("design:type",Object)],v.prototype,"deadCodeInjectionRootAstHostNode",void 0),v=u.__decorate([l.injectable(),u.__param(0,l.inject(f.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),u.__param(1,l.inject(f.ServiceIdentifiers.IRandomGenerator)),u.__param(2,l.inject(f.ServiceIdentifiers.IOptions)),u.__metadata("design:paramtypes",[Function,Object,Object])],v),t.BlockStatementDeadCodeInjectionNode=v},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3)),i=n(r(8)),s=n(r(7)),c=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var d=r(4),u=r(2),l=r(5),f=r(10),p=r(16),m=r(15),g=r(9),N=r(11),v=function(e){function t(e,r,n){return(0,o.default)(this,t),(0,i.default)(this,(0,s.default)(t).call(this,e,r,n))}return(0,c.default)(t,e),(0,a.default)(t,[{key:"initialize",value:function(e,t,r){this.blockStatementBody=e,this.shuffledKeys=t,this.originalKeysIndexesInShuffledArray=r}},{key:"getNodeStructure",value:function(){var e=this,t=this.randomGenerator.getRandomString(6),r=this.randomGenerator.getRandomString(6),n=m.NodeFactory.blockStatementNode([m.NodeFactory.variableDeclarationNode([m.NodeFactory.variableDeclaratorNode(m.NodeFactory.identifierNode(t),m.NodeFactory.callExpressionNode(m.NodeFactory.memberExpressionNode(m.NodeFactory.literalNode(this.originalKeysIndexesInShuffledArray.join("|")),m.NodeFactory.identifierNode("split")),[m.NodeFactory.literalNode("|")])),m.NodeFactory.variableDeclaratorNode(m.NodeFactory.identifierNode(r),m.NodeFactory.literalNode(0))]),m.NodeFactory.whileStatementNode(m.NodeFactory.literalNode(!0),m.NodeFactory.blockStatementNode([m.NodeFactory.switchStatementNode(m.NodeFactory.memberExpressionNode(m.NodeFactory.identifierNode(t),m.NodeFactory.updateExpressionNode("++",m.NodeFactory.identifierNode(r)),!0),this.shuffledKeys.map(function(t,r){var n=e.blockStatementBody[t],o=[n];return g.NodeGuards.isReturnStatementNode(n)||o.push(m.NodeFactory.continueStatement()),m.NodeFactory.switchCaseNode(m.NodeFactory.literalNode(String(r)),o)})),m.NodeFactory.breakStatement()]))]);return N.NodeUtils.parentizeAst(n),[n]}}]),t}(p.AbstractCustomNode);d.__decorate([f.initializable(),d.__metadata("design:type",Array)],v.prototype,"blockStatementBody",void 0),d.__decorate([f.initializable(),d.__metadata("design:type",Array)],v.prototype,"originalKeysIndexesInShuffledArray",void 0),d.__decorate([f.initializable(),d.__metadata("design:type",Array)],v.prototype,"shuffledKeys",void 0),v=d.__decorate([u.injectable(),d.__param(0,u.inject(l.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),d.__param(1,u.inject(l.ServiceIdentifiers.IRandomGenerator)),d.__param(2,u.inject(l.ServiceIdentifiers.IOptions)),d.__metadata("design:paramtypes",[Function,Object,Object])],v),t.BlockStatementControlFlowFlatteningNode=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalVariableTemplate2=function(){return"\n        var getGlobal = function () {\n            var globalObject;\n        \n            try {\n                globalObject = Function('return (function() ' + '{}.constructor(\"return this\")( )' + ');')();\n            } catch (e) {\n                globalObject = window;\n            }\n            \n            return globalObject;\n        };\n        var that = getGlobal();\n    "}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalVariableTemplate1=function(){return"\n        var that;\n        \n        try {\n            var getGlobal = Function('return (function() ' + '{}.constructor(\"return this\")( )' + ');');\n            \n            that = getGlobal();\n        } catch (e) {\n            that = window;\n        }\n    "}},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3)),i=n(r(8)),s=n(r(7)),c=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var d=r(4),u=r(2),l=r(5),f=r(10),p=r(16),m=r(15),g=r(11),N=function(e){function t(e,r,n){return(0,o.default)(this,t),(0,i.default)(this,(0,s.default)(t).call(this,e,r,n))}return(0,c.default)(t,e),(0,a.default)(t,[{key:"initialize",value:function(e){this.operator=e}},{key:"getNodeStructure",value:function(){var e=m.NodeFactory.expressionStatementNode(m.NodeFactory.functionExpressionNode([m.NodeFactory.identifierNode("x"),m.NodeFactory.identifierNode("y")],m.NodeFactory.blockStatementNode([m.NodeFactory.returnStatementNode(m.NodeFactory.binaryExpressionNode(this.operator,m.NodeFactory.identifierNode("x"),m.NodeFactory.identifierNode("y")))])));return g.NodeUtils.parentizeAst(e),[e]}}]),t}(p.AbstractCustomNode);d.__decorate([f.initializable(),d.__metadata("design:type",String)],N.prototype,"operator",void 0),N=d.__decorate([u.injectable(),d.__param(0,u.inject(l.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),d.__param(1,u.inject(l.ServiceIdentifiers.IRandomGenerator)),d.__param(2,u.inject(l.ServiceIdentifiers.IOptions)),d.__metadata("design:paramtypes",[Function,Object,Object])],N),t.BinaryExpressionFunctionNode=N},function(e,t,r){"use strict";var n=r(0),o=n(r(32)),a=n(r(17)),i=n(r(1)),s=n(r(3)),c=n(r(8)),d=n(r(7)),u=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var l=r(4),f=r(2),p=r(5),m=r(10),g=r(31),N=r(27),v=r(36),y=r(28),h=function(e){function t(e,r,n,o,a){var s;return(0,i.default)(this,t),(s=(0,c.default)(this,(0,d.default)(t).call(this,n,o,a))).appendEvent=N.ObfuscationEvent.AfterObfuscation,s.customNodeFactory=e,s.stringArrayStorage=r,s}return(0,u.default)(t,e),(0,s.default)(t,[{key:"appendCustomNodes",value:function(e,t){this.stringArrayStorage.getLength()&&(this.appendCustomNodeIfExist(g.CustomNode.StringArrayNode,function(t){y.NodeAppender.prepend(e,t.getNode())}),this.appendCustomNodeIfExist(g.CustomNode.StringArrayCallsWrapper,function(t){y.NodeAppender.insertAtIndex(e,t.getNode(),1)}),this.appendCustomNodeIfExist(g.CustomNode.StringArrayRotateFunctionNode,function(t){y.NodeAppender.insertAtIndex(e,t.getNode(),1)}))}},{key:"initialize",value:function(){if(this.customNodes=new a.default,this.options.stringArray){var e,t=this.customNodeFactory(g.CustomNode.StringArrayNode),r=this.customNodeFactory(g.CustomNode.StringArrayCallsWrapper),n=this.customNodeFactory(g.CustomNode.StringArrayRotateFunctionNode),i=this.stringArrayStorage.getStorageId().split("|"),s=(0,o.default)(i,2),c=s[0],d=s[1];e=this.options.rotateStringArray?this.randomGenerator.getRandomInteger(100,500):0,t.initialize(this.stringArrayStorage,c,e),r.initialize(c,d),n.initialize(c,e),this.customNodes.set(g.CustomNode.StringArrayNode,t),this.customNodes.set(g.CustomNode.StringArrayCallsWrapper,r),this.options.rotateStringArray&&this.customNodes.set(g.CustomNode.StringArrayRotateFunctionNode,n)}}}]),t}(v.AbstractCustomNodeGroup);l.__decorate([m.initializable(),l.__metadata("design:type",a.default)],h.prototype,"customNodes",void 0),h=l.__decorate([f.injectable(),l.__param(0,f.inject(p.ServiceIdentifiers.Factory__ICustomNode)),l.__param(1,f.inject(p.ServiceIdentifiers.TStringArrayStorage)),l.__param(2,f.inject(p.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),l.__param(3,f.inject(p.ServiceIdentifiers.IRandomGenerator)),l.__param(4,f.inject(p.ServiceIdentifiers.IOptions)),l.__metadata("design:paramtypes",[Function,Object,Function,Object,Object])],h),t.StringArrayCustomNodeGroup=h},function(e,t,r){"use strict";var n=r(0),o=n(r(17)),a=n(r(1)),i=n(r(3)),s=n(r(8)),c=n(r(7)),d=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var u=r(4),l=r(2),f=r(5),p=r(10),m=r(31),g=r(27),N=r(36),v=r(28),y=function(e){function t(e,r,n,o){var i;return(0,a.default)(this,t),(i=(0,s.default)(this,(0,c.default)(t).call(this,r,n,o))).appendEvent=g.ObfuscationEvent.AfterObfuscation,i.customNodeFactory=e,i}return(0,d.default)(t,e),(0,i.default)(t,[{key:"appendCustomNodes",value:function(e,t){var r=this.getRandomStackTraceIndex(t.length);this.appendCustomNodeIfExist(m.CustomNode.SelfDefendingUnicodeNode,function(n){v.NodeAppender.appendToOptimalBlockScope(t,e,n.getNode(),r)}),this.appendCustomNodeIfExist(m.CustomNode.NodeCallsControllerFunctionNode,function(n){var o=t.length?v.NodeAppender.getOptimalBlockScope(t,r,1):e;v.NodeAppender.prepend(o,n.getNode())})}},{key:"initialize",value:function(){if(this.customNodes=new o.default,this.options.selfDefending){var e=this.identifierNamesGenerator.generate(),t=this.customNodeFactory(m.CustomNode.SelfDefendingUnicodeNode),r=this.customNodeFactory(m.CustomNode.NodeCallsControllerFunctionNode);t.initialize(e),r.initialize(this.appendEvent,e),this.customNodes.set(m.CustomNode.SelfDefendingUnicodeNode,t),this.customNodes.set(m.CustomNode.NodeCallsControllerFunctionNode,r)}}}]),t}(N.AbstractCustomNodeGroup);u.__decorate([p.initializable(),u.__metadata("design:type",o.default)],y.prototype,"customNodes",void 0),y=u.__decorate([l.injectable(),u.__param(0,l.inject(f.ServiceIdentifiers.Factory__ICustomNode)),u.__param(1,l.inject(f.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),u.__param(2,l.inject(f.ServiceIdentifiers.IRandomGenerator)),u.__param(3,l.inject(f.ServiceIdentifiers.IOptions)),u.__metadata("design:paramtypes",[Function,Function,Object,Object])],y),t.SelfDefendingCustomNodeGroup=y},function(e,t,r){"use strict";var n=r(0),o=n(r(17)),a=n(r(1)),i=n(r(3)),s=n(r(8)),c=n(r(7)),d=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var u=r(4),l=r(2),f=r(5),p=r(10),m=r(31),g=r(27),N=r(36),v=r(28),y=function(e){function t(e,r,n,o){var i;return(0,a.default)(this,t),(i=(0,s.default)(this,(0,c.default)(t).call(this,r,n,o))).appendEvent=g.ObfuscationEvent.BeforeObfuscation,i.customNodeFactory=e,i}return(0,d.default)(t,e),(0,i.default)(t,[{key:"appendCustomNodes",value:function(e,t){var r=this.getRandomStackTraceIndex(t.length);this.appendCustomNodeIfExist(m.CustomNode.DomainLockNode,function(n){v.NodeAppender.appendToOptimalBlockScope(t,e,n.getNode(),r)}),this.appendCustomNodeIfExist(m.CustomNode.NodeCallsControllerFunctionNode,function(n){var o=t.length?v.NodeAppender.getOptimalBlockScope(t,r,1):e;v.NodeAppender.prepend(o,n.getNode())})}},{key:"initialize",value:function(){if(this.customNodes=new o.default,this.options.domainLock.length){var e=this.identifierNamesGenerator.generate(),t=this.customNodeFactory(m.CustomNode.DomainLockNode),r=this.customNodeFactory(m.CustomNode.NodeCallsControllerFunctionNode);t.initialize(e),r.initialize(this.appendEvent,e),this.customNodes.set(m.CustomNode.DomainLockNode,t),this.customNodes.set(m.CustomNode.NodeCallsControllerFunctionNode,r)}}}]),t}(N.AbstractCustomNodeGroup);u.__decorate([p.initializable(),u.__metadata("design:type",o.default)],y.prototype,"customNodes",void 0),y=u.__decorate([l.injectable(),u.__param(0,l.inject(f.ServiceIdentifiers.Factory__ICustomNode)),u.__param(1,l.inject(f.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),u.__param(2,l.inject(f.ServiceIdentifiers.IRandomGenerator)),u.__param(3,l.inject(f.ServiceIdentifiers.IOptions)),u.__metadata("design:paramtypes",[Function,Function,Object,Object])],y),t.DomainLockCustomNodeGroup=y},function(e,t,r){"use strict";var n=r(0),o=n(r(17)),a=n(r(1)),i=n(r(3)),s=n(r(8)),c=n(r(7)),d=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var u=r(4),l=r(2),f=r(5),p=r(10),m=r(31),g=r(27),N=r(36),v=r(28),y=r(9),h=function(e){function t(e,r,n,o){var i;return(0,a.default)(this,t),(i=(0,s.default)(this,(0,c.default)(t).call(this,r,n,o))).appendEvent=g.ObfuscationEvent.BeforeObfuscation,i.customNodeFactory=e,i}return(0,d.default)(t,e),(0,i.default)(t,[{key:"appendCustomNodes",value:function(e,t){var r=this,n=this.getRandomStackTraceIndex(t.length);this.appendCustomNodeIfExist(m.CustomNode.DebugProtectionFunctionCallNode,function(r){v.NodeAppender.appendToOptimalBlockScope(t,e,r.getNode(),n)}),this.appendCustomNodeIfExist(m.CustomNode.DebugProtectionFunctionNode,function(t){v.NodeAppender.append(e,t.getNode())}),this.appendCustomNodeIfExist(m.CustomNode.DebugProtectionFunctionIntervalNode,function(t){var n=y.NodeGuards.isSwitchCaseNode(e)?e.consequent.length:e.body.length,o=r.randomGenerator.getRandomInteger(0,n);v.NodeAppender.insertAtIndex(e,t.getNode(),o)}),this.appendCustomNodeIfExist(m.CustomNode.NodeCallsControllerFunctionNode,function(r){var o=t.length?v.NodeAppender.getOptimalBlockScope(t,n,1):e;v.NodeAppender.prepend(o,r.getNode())})}},{key:"initialize",value:function(){if(this.customNodes=new o.default,this.options.debugProtection){var e=this.identifierNamesGenerator.generate(),t=this.identifierNamesGenerator.generate(),r=this.customNodeFactory(m.CustomNode.DebugProtectionFunctionNode),n=this.customNodeFactory(m.CustomNode.DebugProtectionFunctionCallNode),a=this.customNodeFactory(m.CustomNode.DebugProtectionFunctionIntervalNode),i=this.customNodeFactory(m.CustomNode.NodeCallsControllerFunctionNode);r.initialize(e),n.initialize(e,t),a.initialize(e),i.initialize(this.appendEvent,t),this.customNodes.set(m.CustomNode.DebugProtectionFunctionNode,r),this.customNodes.set(m.CustomNode.DebugProtectionFunctionCallNode,n),this.options.debugProtectionInterval&&this.customNodes.set(m.CustomNode.DebugProtectionFunctionIntervalNode,a),this.customNodes.set(m.CustomNode.NodeCallsControllerFunctionNode,i)}}}]),t}(N.AbstractCustomNodeGroup);u.__decorate([p.initializable(),u.__metadata("design:type",o.default)],h.prototype,"customNodes",void 0),h=u.__decorate([l.injectable(),u.__param(0,l.inject(f.ServiceIdentifiers.Factory__ICustomNode)),u.__param(1,l.inject(f.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),u.__param(2,l.inject(f.ServiceIdentifiers.IRandomGenerator)),u.__param(3,l.inject(f.ServiceIdentifiers.IOptions)),u.__metadata("design:paramtypes",[Function,Function,Object,Object])],h),t.DebugProtectionCustomNodeGroup=h},function(e,t){e.exports=require("@babel/runtime/core-js/reflect/has-metadata")},function(e,t){e.exports=require("@babel/runtime/core-js/reflect/define-metadata")},function(e,t){e.exports=require("@babel/runtime/core-js/object/get-own-property-names")},function(e,t){e.exports=require("@babel/runtime/core-js/reflect/get-metadata")},function(e,t){e.exports=require("@babel/runtime/core-js/object/get-own-property-descriptor")},function(e,t){e.exports=require("@babel/runtime/core-js/object/define-property")},function(e,t,r){"use strict";var n=r(0),o=n(r(17)),a=n(r(1)),i=n(r(3)),s=n(r(8)),c=n(r(7)),d=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var u=r(4),l=r(2),f=r(5),p=r(10),m=r(31),g=r(27),N=r(36),v=r(28),y=function(e){function t(e,r,n,o){var i;return(0,a.default)(this,t),(i=(0,s.default)(this,(0,c.default)(t).call(this,r,n,o))).appendEvent=g.ObfuscationEvent.BeforeObfuscation,i.customNodeFactory=e,i}return(0,d.default)(t,e),(0,i.default)(t,[{key:"appendCustomNodes",value:function(e,t){var r=this.getRandomStackTraceIndex(t.length);this.appendCustomNodeIfExist(m.CustomNode.ConsoleOutputDisableExpressionNode,function(n){v.NodeAppender.appendToOptimalBlockScope(t,e,n.getNode(),r)}),this.appendCustomNodeIfExist(m.CustomNode.NodeCallsControllerFunctionNode,function(n){var o=t.length?v.NodeAppender.getOptimalBlockScope(t,r,1):e;v.NodeAppender.prepend(o,n.getNode())})}},{key:"initialize",value:function(){if(this.customNodes=new o.default,this.options.disableConsoleOutput){var e=this.identifierNamesGenerator.generate(),t=this.customNodeFactory(m.CustomNode.ConsoleOutputDisableExpressionNode),r=this.customNodeFactory(m.CustomNode.NodeCallsControllerFunctionNode);t.initialize(e),r.initialize(this.appendEvent,e),this.customNodes.set(m.CustomNode.ConsoleOutputDisableExpressionNode,t),this.customNodes.set(m.CustomNode.NodeCallsControllerFunctionNode,r)}}}]),t}(N.AbstractCustomNodeGroup);u.__decorate([p.initializable(),u.__metadata("design:type",o.default)],y.prototype,"customNodes",void 0),y=u.__decorate([l.injectable(),u.__param(0,l.inject(f.ServiceIdentifiers.Factory__ICustomNode)),u.__param(1,l.inject(f.ServiceIdentifiers.Factory__IIdentifierNamesGenerator)),u.__param(2,l.inject(f.ServiceIdentifiers.IRandomGenerator)),u.__param(3,l.inject(f.ServiceIdentifiers.IOptions)),u.__metadata("design:paramtypes",[Function,Function,Object,Object])],y),t.ConsoleOutputCustomNodeGroup=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(24),o=r(2),a=r(5),i=r(22),s=r(31),c=r(59),d=r(62),u=r(188),l=r(181),f=r(180),p=r(179),m=r(178),g=r(177),N=r(174),v=r(173),y=r(172),h=r(171),_=r(170),b=r(168),S=r(166),I=r(164),C=r(162),F=r(158),j=r(156),O=r(155),T=r(154),k=r(152),x=r(150),E=r(143),w=r(141),G=r(138),R=r(137);t.customNodesModule=new o.ContainerModule(function(e){e(a.ServiceIdentifiers.ICustomNode).to(b.ConsoleOutputDisableExpressionNode).whenTargetNamed(s.CustomNode.ConsoleOutputDisableExpressionNode),e(a.ServiceIdentifiers.ICustomNode).to(S.DebugProtectionFunctionCallNode).whenTargetNamed(s.CustomNode.DebugProtectionFunctionCallNode),e(a.ServiceIdentifiers.ICustomNode).to(I.DebugProtectionFunctionIntervalNode).whenTargetNamed(s.CustomNode.DebugProtectionFunctionIntervalNode),e(a.ServiceIdentifiers.ICustomNode).to(C.DebugProtectionFunctionNode).whenTargetNamed(s.CustomNode.DebugProtectionFunctionNode),e(a.ServiceIdentifiers.ICustomNode).to(F.DomainLockNode).whenTargetNamed(s.CustomNode.DomainLockNode),e(a.ServiceIdentifiers.ICustomNode).to(T.NodeCallsControllerFunctionNode).whenTargetNamed(s.CustomNode.NodeCallsControllerFunctionNode),e(a.ServiceIdentifiers.ICustomNode).to(k.SelfDefendingUnicodeNode).whenTargetNamed(s.CustomNode.SelfDefendingUnicodeNode),e(a.ServiceIdentifiers.ICustomNode).to(x.StringArrayCallsWrapper).whenTargetNamed(s.CustomNode.StringArrayCallsWrapper),e(a.ServiceIdentifiers.ICustomNode).to(E.StringArrayNode).whenTargetNamed(s.CustomNode.StringArrayNode),e(a.ServiceIdentifiers.ICustomNode).to(w.StringArrayRotateFunctionNode).whenTargetNamed(s.CustomNode.StringArrayRotateFunctionNode),e(a.ServiceIdentifiers.Newable__ICustomNode).toConstructor(g.BinaryExpressionFunctionNode).whenTargetNamed(i.ControlFlowCustomNode.BinaryExpressionFunctionNode),e(a.ServiceIdentifiers.Newable__ICustomNode).toConstructor(N.BlockStatementControlFlowFlatteningNode).whenTargetNamed(i.ControlFlowCustomNode.BlockStatementControlFlowFlatteningNode),e(a.ServiceIdentifiers.Newable__ICustomNode).toConstructor(y.CallExpressionControlFlowStorageCallNode).whenTargetNamed(i.ControlFlowCustomNode.CallExpressionControlFlowStorageCallNode),e(a.ServiceIdentifiers.Newable__ICustomNode).toConstructor(h.CallExpressionFunctionNode).whenTargetNamed(i.ControlFlowCustomNode.CallExpressionFunctionNode),e(a.ServiceIdentifiers.Newable__ICustomNode).toConstructor(_.ControlFlowStorageNode).whenTargetNamed(i.ControlFlowCustomNode.ControlFlowStorageNode),e(a.ServiceIdentifiers.Newable__ICustomNode).toConstructor(j.ExpressionWithOperatorControlFlowStorageCallNode).whenTargetNamed(i.ControlFlowCustomNode.ExpressionWithOperatorControlFlowStorageCallNode),e(a.ServiceIdentifiers.Newable__ICustomNode).toConstructor(O.LogicalExpressionFunctionNode).whenTargetNamed(i.ControlFlowCustomNode.LogicalExpressionFunctionNode),e(a.ServiceIdentifiers.Newable__ICustomNode).toConstructor(R.StringLiteralNode).whenTargetNamed(i.ControlFlowCustomNode.StringLiteralNode),e(a.ServiceIdentifiers.Newable__ICustomNode).toConstructor(G.StringLiteralControlFlowStorageCallNode).whenTargetNamed(i.ControlFlowCustomNode.StringLiteralControlFlowStorageCallNode),e(a.ServiceIdentifiers.Newable__ICustomNode).toConstructor(v.BlockStatementDeadCodeInjectionNode).whenTargetNamed(d.DeadCodeInjectionCustomNode.BlockStatementDeadCodeInjectionNode),e(a.ServiceIdentifiers.ICustomNodeGroup).to(u.ConsoleOutputCustomNodeGroup).whenTargetNamed(c.CustomNodeGroup.ConsoleOutputCustomNodeGroup),e(a.ServiceIdentifiers.ICustomNodeGroup).to(l.DebugProtectionCustomNodeGroup).whenTargetNamed(c.CustomNodeGroup.DebugProtectionCustomNodeGroup),e(a.ServiceIdentifiers.ICustomNodeGroup).to(f.DomainLockCustomNodeGroup).whenTargetNamed(c.CustomNodeGroup.DomainLockCustomNodeGroup),e(a.ServiceIdentifiers.ICustomNodeGroup).to(p.SelfDefendingCustomNodeGroup).whenTargetNamed(c.CustomNodeGroup.SelfDefendingCustomNodeGroup),e(a.ServiceIdentifiers.ICustomNodeGroup).to(m.StringArrayCustomNodeGroup).whenTargetNamed(c.CustomNodeGroup.StringArrayCustomNodeGroup),e(a.ServiceIdentifiers.Factory__ICustomNode).toFactory(n.InversifyContainerFacade.getFactory(a.ServiceIdentifiers.ICustomNode)),e(a.ServiceIdentifiers.Factory__IControlFlowCustomNode).toFactory(n.InversifyContainerFacade.getConstructorFactory(a.ServiceIdentifiers.Newable__ICustomNode,a.ServiceIdentifiers.Factory__IIdentifierNamesGenerator,a.ServiceIdentifiers.IRandomGenerator,a.ServiceIdentifiers.IOptions)),e(a.ServiceIdentifiers.Factory__IDeadCodeInjectionCustomNode).toFactory(n.InversifyContainerFacade.getConstructorFactory(a.ServiceIdentifiers.Newable__ICustomNode,a.ServiceIdentifiers.Factory__IIdentifierNamesGenerator,a.ServiceIdentifiers.IRandomGenerator,a.ServiceIdentifiers.IOptions)),e(a.ServiceIdentifiers.Factory__ICustomNodeGroup).toFactory(n.InversifyContainerFacade.getFactory(a.ServiceIdentifiers.ICustomNodeGroup))})},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3)),i=n(r(8)),s=n(r(7)),c=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var d=r(4),u=r(2),l=r(5),f=d.__importStar(r(18)),p=r(60),m=r(9),g=function(e){function t(e,r){return(0,o.default)(this,t),(0,i.default)(this,(0,s.default)(t).call(this,e,r))}return(0,c.default)(t,e),(0,a.default)(t,[{key:"extract",value:function(e,t){return!m.NodeGuards.isIdentifierNode(t.id)||this.isProhibitedObjectExpressionNode(e,t.id)?e:this.transformObjectExpressionNode(e,t.id)}},{key:"getHostVariableDeclaratorNode",value:function(e){var t=e.parentNode;if(!t||!m.NodeGuards.isVariableDeclaratorNode(t))throw new Error("Cannot get `VariableDeclarator` node for `ObjectExpression` node");return t}},{key:"getHostVariableDeclarationNode",value:function(e){var t=e.parentNode;if(!t||!m.NodeGuards.isVariableDeclarationNode(t))throw new Error("Cannot get `VariableDeclaration` node for `VariableDeclarator` node");return t}},{key:"isProhibitedObjectExpressionNode",value:function(e,t){var r=this.getHostVariableDeclaratorNode(e),n=this.getHostVariableDeclarationNode(r).declarations,o=n.indexOf(r);if(o===n.length-1)return!1;var a=!1;return n.slice(o).forEach(function(e){f.traverse(e,{enter:function(e){return m.NodeGuards.isMemberExpressionNode(e)&&m.NodeGuards.isIdentifierNode(e.object)&&e.object.name===t.name?(a=!0,f.VisitorOption.Break):e}})}),a}}]),t}(p.AbstractPropertiesExtractor);g=d.__decorate([u.injectable(),d.__param(0,u.inject(l.ServiceIdentifiers.IRandomGenerator)),d.__param(1,u.inject(l.ServiceIdentifiers.IOptions)),d.__metadata("design:paramtypes",[Object,Object])],g),t.VariableDeclaratorPropertiesExtractor=g},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3)),i=n(r(8)),s=n(r(7)),c=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var d,u=r(4),l=r(2),f=r(5),p=r(13),m=r(14),g=r(15),N=r(9),v=r(11),y=d=function(e){function t(e,r){return(0,o.default)(this,t),(0,i.default)(this,(0,s.default)(t).call(this,e,r))}return(0,c.default)(t,e),(0,a.default)(t,[{key:"getVisitor",value:function(e){var t=this;switch(e){case p.TransformationStage.Converting:return{leave:function(e,r){if(r&&d.isValidTemplateLiteralNode(e,r))return t.transformNode(e,r)}};default:return null}}},{key:"transformNode",value:function(e,t){var r,n=e.expressions,o=[];if(e.quasis.forEach(function(e){o.push(g.NodeFactory.literalNode(e.value.cooked));var t=n.shift();t&&o.push(t)}),o=o.filter(function(e){return!(N.NodeGuards.isLiteralNode(e)&&""===e.value)}),d.isLiteralNodeWithStringValue(o[0])||d.isLiteralNodeWithStringValue(o[1])||o.unshift(g.NodeFactory.literalNode("")),o.length>1){var a=g.NodeFactory.binaryExpressionNode("+",o.shift(),o.shift());o.forEach(function(e){a=g.NodeFactory.binaryExpressionNode("+",a,e)}),r=a}else r=o[0];return v.NodeUtils.parentizeAst(r),r}}],[{key:"isLiteralNodeWithStringValue",value:function(e){return e&&N.NodeGuards.isLiteralNode(e)&&"string"==typeof e.value}},{key:"isValidTemplateLiteralNode",value:function(e,t){return N.NodeGuards.isTemplateLiteralNode(e)&&!N.NodeGuards.isTaggedTemplateExpressionNode(t)}}]),t}(m.AbstractNodeTransformer);y=d=u.__decorate([l.injectable(),u.__param(0,l.inject(f.ServiceIdentifiers.IRandomGenerator)),u.__param(1,l.inject(f.ServiceIdentifiers.IOptions)),u.__metadata("design:paramtypes",[Object,Object])],y),t.TemplateLiteralTransformer=y},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3)),i=n(r(8)),s=n(r(7)),c=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var d=r(4),u=r(2),l=r(5),f=r(13),p=r(14),m=r(15),g=r(9),N=function(e){function t(e,r,n){var a;return(0,o.default)(this,t),(a=(0,i.default)(this,(0,s.default)(t).call(this,r,n))).escapeSequenceEncoder=e,a}return(0,c.default)(t,e),(0,a.default)(t,[{key:"getVisitor",value:function(e){var t=this;switch(e){case f.TransformationStage.Converting:return{enter:function(e,r){if(r&&g.NodeGuards.isObjectExpressionNode(e))return t.transformNode(e,r)}};default:return null}}},{key:"transformNode",value:function(e,t){var r=this;return e.properties.forEach(function(e){e.key&&(e.computed?r.transformComputedProperty(e):r.transformBaseProperty(e))}),e}},{key:"transformComputedProperty",value:function(e){g.NodeGuards.isLiteralNode(e.key)&&"string"==typeof e.key.value&&(e.key=m.NodeFactory.literalNode(this.getPropertyKeyValue(e.key.value)))}},{key:"transformBaseProperty",value:function(e){e.shorthand&&(e.shorthand=!1),g.NodeGuards.isIdentifierNode(e.key)&&(e.key=m.NodeFactory.literalNode(this.getPropertyKeyValue(e.key.name)))}},{key:"getPropertyKeyValue",value:function(e){return this.options.unicodeEscapeSequence?this.escapeSequenceEncoder.encode(e,!0):e}}]),t}(p.AbstractNodeTransformer);N=d.__decorate([u.injectable(),d.__param(0,u.inject(l.ServiceIdentifiers.IEscapeSequenceEncoder)),d.__param(1,u.inject(l.ServiceIdentifiers.IRandomGenerator)),d.__param(2,u.inject(l.ServiceIdentifiers.IOptions)),d.__metadata("design:paramtypes",[Object,Object,Object])],N),t.ObjectExpressionTransformer=N},function(e,t,r){"use strict";var n=r(0),o=n(r(17)),a=n(r(1)),i=n(r(3)),s=n(r(8)),c=n(r(7)),d=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var u,l=r(4),f=r(2),p=r(5),m=r(23),g=r(61),N=r(13),v=r(14),y=r(9),h=u=function(e){function t(e,r,n){var o;return(0,a.default)(this,t),(o=(0,s.default)(this,(0,c.default)(t).call(this,r,n))).propertiesExtractorFactory=e,o}return(0,d.default)(t,e),(0,i.default)(t,[{key:"getVisitor",value:function(e){var t=this;return e!==N.TransformationStage.Converting?null:{enter:function(e,r){if(t.options.transformObjectKeys&&r&&y.NodeGuards.isObjectExpressionNode(e))return t.transformNode(e,r)}}}},{key:"transformNode",value:function(e,t){if(!e.properties.length)return e;var r=u.propertiesExtractorsMap.get(t.type);return r?this.propertiesExtractorFactory(r).extract(e,t):e}}]),t}(v.AbstractNodeTransformer);h.propertiesExtractorsMap=new o.default([[m.NodeType.AssignmentExpression,g.PropertiesExtractor.AssignmentExpressionPropertiesExtractor],[m.NodeType.VariableDeclarator,g.PropertiesExtractor.VariableDeclaratorPropertiesExtractor]]),h=u=l.__decorate([f.injectable(),l.__param(0,f.inject(p.ServiceIdentifiers.Factory__IPropertiesExtractor)),l.__param(1,f.inject(p.ServiceIdentifiers.IRandomGenerator)),l.__param(2,f.inject(p.ServiceIdentifiers.IOptions)),l.__metadata("design:paramtypes",[Function,Object,Object])],h),t.ObjectExpressionKeysTransformer=h},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3)),i=n(r(8)),s=n(r(7)),c=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var d,u=r(4),l=r(2),f=r(5),p=r(13),m=r(14),g=r(15),N=r(9),v=d=function(e){function t(e,r){return(0,o.default)(this,t),(0,i.default)(this,(0,s.default)(t).call(this,e,r))}return(0,c.default)(t,e),(0,a.default)(t,[{key:"getVisitor",value:function(e){var t=this;switch(e){case p.TransformationStage.Converting:return{enter:function(e,r){if(r&&N.NodeGuards.isMethodDefinitionNode(e))return t.transformNode(e,r)}};default:return null}}},{key:"transformNode",value:function(e,t){return N.NodeGuards.isIdentifierNode(e.key)&&!d.ignoredNames.includes(e.key.name)&&!1===e.computed&&(e.computed=!0,e.key=g.NodeFactory.literalNode(e.key.name)),e}}]),t}(m.AbstractNodeTransformer);v.ignoredNames=["constructor"],v=d=u.__decorate([l.injectable(),u.__param(0,l.inject(f.ServiceIdentifiers.IRandomGenerator)),u.__param(1,l.inject(f.ServiceIdentifiers.IOptions)),u.__metadata("design:paramtypes",[Object,Object])],v),t.MethodDefinitionTransformer=v},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3)),i=n(r(8)),s=n(r(7)),c=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var d=r(4),u=r(2),l=r(5),f=r(13),p=r(14),m=r(15),g=r(9),N=function(e){function t(e,r){return(0,o.default)(this,t),(0,i.default)(this,(0,s.default)(t).call(this,e,r))}return(0,c.default)(t,e),(0,a.default)(t,[{key:"getVisitor",value:function(e){var t=this;switch(e){case f.TransformationStage.Converting:return{enter:function(e,r){if(r&&g.NodeGuards.isMemberExpressionNode(e))return t.transformNode(e,r)}};default:return null}}},{key:"transformNode",value:function(e,t){if(g.NodeGuards.isIdentifierNode(e.property)){if(e.computed)return e;e.computed=!0,e.property=m.NodeFactory.literalNode(e.property.name)}return e}}]),t}(p.AbstractNodeTransformer);N=d.__decorate([u.injectable(),d.__param(0,u.inject(l.ServiceIdentifiers.IRandomGenerator)),d.__param(1,u.inject(l.ServiceIdentifiers.IOptions)),d.__metadata("design:paramtypes",[Object,Object])],N),t.MemberExpressionTransformer=N},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3)),i=n(r(8)),s=n(r(7)),c=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var d=r(4),u=r(2),l=r(5),f=r(60),p=function(e){function t(e,r){return(0,o.default)(this,t),(0,i.default)(this,(0,s.default)(t).call(this,e,r))}return(0,c.default)(t,e),(0,a.default)(t,[{key:"extract",value:function(e,t){var r=t.left;return f.AbstractPropertiesExtractor.isProhibitedPattern(r)?e:this.transformObjectExpressionNode(e,r)}}]),t}(f.AbstractPropertiesExtractor);p=d.__decorate([u.injectable(),d.__param(0,u.inject(l.ServiceIdentifiers.IRandomGenerator)),d.__param(1,u.inject(l.ServiceIdentifiers.IOptions)),d.__metadata("design:paramtypes",[Object,Object])],p),t.AssignmentExpressionPropertiesExtractor=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=r(24),a=r(5),i=r(34),s=r(61),c=r(196),d=r(195),u=r(194),l=r(193),f=r(192),p=r(191),m=r(190);t.convertingTransformersModule=new n.ContainerModule(function(e){e(a.ServiceIdentifiers.INodeTransformer).to(d.MemberExpressionTransformer).whenTargetNamed(i.NodeTransformer.MemberExpressionTransformer),e(a.ServiceIdentifiers.INodeTransformer).to(u.MethodDefinitionTransformer).whenTargetNamed(i.NodeTransformer.MethodDefinitionTransformer),e(a.ServiceIdentifiers.INodeTransformer).to(l.ObjectExpressionKeysTransformer).whenTargetNamed(i.NodeTransformer.ObjectExpressionKeysTransformer),e(a.ServiceIdentifiers.INodeTransformer).to(f.ObjectExpressionTransformer).whenTargetNamed(i.NodeTransformer.ObjectExpressionTransformer),e(a.ServiceIdentifiers.INodeTransformer).to(p.TemplateLiteralTransformer).whenTargetNamed(i.NodeTransformer.TemplateLiteralTransformer),e(a.ServiceIdentifiers.IPropertiesExtractor).to(c.AssignmentExpressionPropertiesExtractor).whenTargetNamed(s.PropertiesExtractor.AssignmentExpressionPropertiesExtractor),e(a.ServiceIdentifiers.IPropertiesExtractor).to(m.VariableDeclaratorPropertiesExtractor).whenTargetNamed(s.PropertiesExtractor.VariableDeclaratorPropertiesExtractor),e(a.ServiceIdentifiers.Factory__IPropertiesExtractor).toFactory(o.InversifyContainerFacade.getCacheFactory(a.ServiceIdentifiers.IPropertiesExtractor))})},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3)),i=n(r(8)),s=n(r(7)),c=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var d,u=r(4),l=r(2),f=r(5),p=r(22),m=r(49),g=r(9),N=d=function(e){function t(e,r,n){return(0,o.default)(this,t),(0,i.default)(this,(0,s.default)(t).call(this,e,r,n))}return(0,c.default)(t,e),(0,a.default)(t,[{key:"replace",value:function(e,t,r){if(g.NodeGuards.isPropertyNode(t)&&t.key===e)return e;if("string"!=typeof e.value||e.value.length<3)return e;var n=String(e.value),o=this.controlFlowCustomNodeFactory(p.ControlFlowCustomNode.StringLiteralNode);o.initialize(e.value);var a=this.insertCustomNodeToControlFlowStorage(o,r,n,d.usingExistingIdentifierChance);return this.getControlFlowStorageCallNode(r.getStorageId(),a)}},{key:"getControlFlowStorageCallNode",value:function(e,t){var r=this.controlFlowCustomNodeFactory(p.ControlFlowCustomNode.StringLiteralControlFlowStorageCallNode);r.initialize(e,t);var n=r.getNode()[0];if(!n||!g.NodeGuards.isExpressionStatementNode(n))throw new Error("`controlFlowStorageCallCustomNode.getNode()[0]` should returns array with `ExpressionStatement` node");return n.expression}}]),t}(m.AbstractControlFlowReplacer);N.usingExistingIdentifierChance=1,N=d=u.__decorate([l.injectable(),u.__param(0,l.inject(f.ServiceIdentifiers.Factory__IControlFlowCustomNode)),u.__param(1,l.inject(f.ServiceIdentifiers.IRandomGenerator)),u.__param(2,l.inject(f.ServiceIdentifiers.IOptions)),u.__metadata("design:paramtypes",[Function,Object,Object])],N),t.StringLiteralControlFlowReplacer=N},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3)),i=n(r(8)),s=n(r(7)),c=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var d,u=r(4),l=r(2),f=r(5),p=r(22),m=r(65),g=r(9),N=r(11),v=d=function(e){function t(e,r,n){return(0,o.default)(this,t),(0,i.default)(this,(0,s.default)(t).call(this,e,r,n))}return(0,c.default)(t,e),(0,a.default)(t,[{key:"replace",value:function(e,t,r){if(this.checkForProhibitedExpressions(e.left,e.right))return e;var n=e.operator,o=this.controlFlowCustomNodeFactory(p.ControlFlowCustomNode.LogicalExpressionFunctionNode);o.initialize(n);var a=this.insertCustomNodeToControlFlowStorage(o,r,n,d.usingExistingIdentifierChance);return this.getControlFlowStorageCallNode(r.getStorageId(),a,e.left,e.right)}},{key:"checkForProhibitedExpressions",value:function(e,t){return[e,t].some(function(e){var t;return t=g.NodeGuards.isUnaryExpressionNode(e)?N.NodeUtils.getUnaryExpressionArgumentNode(e):e,!(g.NodeGuards.isLiteralNode(t)||g.NodeGuards.isIdentifierNode(t)||g.NodeGuards.isObjectExpressionNode(t)||g.NodeGuards.isExpressionStatementNode(t))})}}]),t}(m.ExpressionWithOperatorControlFlowReplacer);v.usingExistingIdentifierChance=.5,v=d=u.__decorate([l.injectable(),u.__param(0,l.inject(f.ServiceIdentifiers.Factory__IControlFlowCustomNode)),u.__param(1,l.inject(f.ServiceIdentifiers.IRandomGenerator)),u.__param(2,l.inject(f.ServiceIdentifiers.IOptions)),u.__metadata("design:paramtypes",[Function,Object,Object])],v),t.LogicalExpressionControlFlowReplacer=v},function(e,t,r){"use strict";var n=r(0),o=n(r(12)),a=n(r(33)),i=n(r(17)),s=n(r(1)),c=n(r(3)),d=n(r(8)),u=n(r(7)),l=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var f,p=r(4),m=r(2),g=r(5),N=p.__importStar(r(18)),v=r(22),y=r(66),h=r(23),_=r(13),b=r(14),S=r(28),I=r(9),C=r(19),F=r(29),j=f=function(e){function t(e,r,n,o,c){var l;return(0,s.default)(this,t),(l=(0,d.default)(this,(0,u.default)(t).call(this,o,c))).controlFlowData=new i.default,l.visitedFunctionNodes=new a.default,l.hostNodesWithControlFlowNode=new a.default,l.controlFlowStorageFactory=e,l.controlFlowReplacerFactory=r,l.controlFlowCustomNodeFactory=n,l}return(0,l.default)(t,e),(0,c.default)(t,[{key:"getVisitor",value:function(e){var t=this;switch(e){case _.TransformationStage.ControlFlowFlattening:return{leave:function(e,r){if(r&&(I.NodeGuards.isFunctionDeclarationNode(e)||I.NodeGuards.isFunctionExpressionNode(e)||I.NodeGuards.isArrowFunctionExpressionNode(e)))return t.transformNode(e,r)}};default:return null}}},{key:"transformNode",value:function(e,t){if(this.visitedFunctionNodes.add(e),!I.NodeGuards.isBlockStatementNode(e.body))return e;var r=this.getHostNode(e.body),n=this.getControlFlowStorage(r);if(this.controlFlowData.set(r,n),this.transformFunctionBody(e.body,n),!n.getLength())return e;var o=this.controlFlowCustomNodeFactory(v.ControlFlowCustomNode.ControlFlowStorageNode);return o.initialize(n),S.NodeAppender.prepend(r,o.getNode()),this.hostNodesWithControlFlowNode.add(r),e}},{key:"getControlFlowStorage",value:function(e){var t=this.controlFlowStorageFactory();if(this.controlFlowData.has(e)){this.hostNodesWithControlFlowNode.has(e)&&(I.NodeGuards.isSwitchCaseNode(e)?e.consequent.shift():e.body.shift());var r=this.controlFlowData.get(e);t.mergeWith(r,!0)}return t}},{key:"getHostNode",value:function(e){var t=F.NodeStatementUtils.getParentNodesWithStatements(e);return 1===t.length?e:(t.pop(),t.length>f.hostNodeSearchMinDepth&&t.splice(0,f.hostNodeSearchMinDepth),t.length>f.hostNodeSearchMaxDepth&&(t.length=f.hostNodeSearchMaxDepth),this.randomGenerator.getRandomGenerator().pickone(t))}},{key:"isVisitedFunctionNode",value:function(e){return(I.NodeGuards.isFunctionDeclarationNode(e)||I.NodeGuards.isFunctionExpressionNode(e)||I.NodeGuards.isArrowFunctionExpressionNode(e))&&this.visitedFunctionNodes.has(e)}},{key:"transformFunctionBody",value:function(e,t){var r=this;N.replace(e,{enter:function(e,n){if(C.NodeMetadata.isIgnoredNode(e))return N.VisitorOption.Skip;if(r.isVisitedFunctionNode(e)||!n)return N.VisitorOption.Skip;if(!f.controlFlowReplacersMap.has(e.type))return e;if(r.randomGenerator.getMathRandom()>r.options.controlFlowFlatteningThreshold)return e;var a=f.controlFlowReplacersMap.get(e.type);return void 0===a?e:(0,o.default)({},r.controlFlowReplacerFactory(a).replace(e,n,t),{parentNode:n})}})}}]),t}(b.AbstractNodeTransformer);j.controlFlowReplacersMap=new i.default([[h.NodeType.BinaryExpression,y.ControlFlowReplacer.BinaryExpressionControlFlowReplacer],[h.NodeType.CallExpression,y.ControlFlowReplacer.CallExpressionControlFlowReplacer],[h.NodeType.LogicalExpression,y.ControlFlowReplacer.LogicalExpressionControlFlowReplacer],[h.NodeType.Literal,y.ControlFlowReplacer.StringLiteralControlFlowReplacer]]),j.hostNodeSearchMinDepth=0,j.hostNodeSearchMaxDepth=2,j=f=p.__decorate([m.injectable(),p.__param(0,m.inject(g.ServiceIdentifiers.Factory__TControlFlowStorage)),p.__param(1,m.inject(g.ServiceIdentifiers.Factory__IControlFlowReplacer)),p.__param(2,m.inject(g.ServiceIdentifiers.Factory__IControlFlowCustomNode)),p.__param(3,m.inject(g.ServiceIdentifiers.IRandomGenerator)),p.__param(4,m.inject(g.ServiceIdentifiers.IOptions)),p.__metadata("design:paramtypes",[Function,Function,Function,Object,Object])],j),t.FunctionControlFlowTransformer=j},function(e,t,r){"use strict";var n=r(0),o=n(r(33)),a=n(r(1)),i=n(r(3)),s=n(r(8)),c=n(r(7)),d=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var u,l=r(4),f=r(2),p=r(5),m=l.__importStar(r(18)),g=r(62),N=r(34),v=r(23),y=r(13),h=r(14),_=r(15),b=r(9),S=r(29),I=r(11),C=u=function(e){function t(e,r,n,i){var d;return(0,a.default)(this,t),(d=(0,s.default)(this,(0,c.default)(t).call(this,n,i))).deadCodeInjectionRootAstHostNodeSet=new o.default,d.collectedBlockStatements=[],d.collectedBlockStatementsTotalLength=0,d.deadCodeInjectionCustomNodeFactory=e,d.transformersRunner=r,d}return(0,d.default)(t,e),(0,i.default)(t,[{key:"getVisitor",value:function(e){var t=this;switch(e){case y.TransformationStage.DeadCodeInjection:return{enter:function(e,r){if(r&&b.NodeGuards.isProgramNode(e))return t.analyzeNode(e,r),e},leave:function(e,r){if(r&&b.NodeGuards.isBlockStatementNode(e))return t.transformNode(e,r)}};case y.TransformationStage.Finalizing:return this.deadCodeInjectionRootAstHostNodeSet.size?{enter:function(e,r){if(r&&t.isDeadCodeInjectionRootAstHostNode(e))return t.restoreNode(e,r)}}:null;default:return null}}},{key:"analyzeNode",value:function(e,t){var r=this;m.traverse(e,{enter:function(e){if(b.NodeGuards.isBlockStatementNode(e)){var t=I.NodeUtils.clone(e);if(u.isValidCollectedBlockStatementNode(t)){var n=r.makeClonedBlockStatementNodeUnique(t);r.collectedBlockStatements.push(n)}}}}),this.collectedBlockStatementsTotalLength=this.collectedBlockStatements.length}},{key:"transformNode",value:function(e,t){if(!this.collectedBlockStatements.length||this.collectedBlockStatementsTotalLength<u.minCollectedBlockStatementsCount)return m.VisitorOption.Break;if(this.randomGenerator.getMathRandom()>this.options.deadCodeInjectionThreshold||!u.isValidWrappedBlockStatementNode(e))return e;var r=this.collectedBlockStatements.length-1,n=this.randomGenerator.getRandomInteger(0,r),o=this.collectedBlockStatements.splice(n,1)[0];return o===e?e:this.replaceBlockStatementNode(e,o,t)}},{key:"restoreNode",value:function(e,t){var r=e.body[0];if(!b.NodeGuards.isFunctionDeclarationNode(r))throw new Error("Wrong dead code injection root AST host node. Host node should contain `FunctionDeclaration` node");return r.body}},{key:"isDeadCodeInjectionRootAstHostNode",value:function(e){return b.NodeGuards.isBlockStatementNode(e)&&this.deadCodeInjectionRootAstHostNodeSet.has(e)}},{key:"makeClonedBlockStatementNodeUnique",value:function(e){var t=_.NodeFactory.functionExpressionNode([],e);return I.NodeUtils.parentizeNode(t,t),I.NodeUtils.parentizeNode(e,t),this.transformersRunner.transform(t,u.transformersToRenameBlockScopeIdentifiers,y.TransformationStage.Obfuscating).body}},{key:"replaceBlockStatementNode",value:function(e,t,r){var n=_.NodeFactory.blockStatementNode([_.NodeFactory.functionDeclarationNode(u.deadCodeInjectionRootAstHostNodeName,[],t)]);this.deadCodeInjectionRootAstHostNodeSet.add(n);var o=this.deadCodeInjectionCustomNodeFactory(g.DeadCodeInjectionCustomNode.BlockStatementDeadCodeInjectionNode);o.initialize(e,n);var a=o.getNode()[0];return I.NodeUtils.parentizeNode(a,r),a}}],[{key:"isProhibitedNodeInsideCollectedBlockStatement",value:function(e){return b.NodeGuards.isBreakStatementNode(e)||b.NodeGuards.isContinueStatementNode(e)||b.NodeGuards.isAwaitExpressionNode(e)||b.NodeGuards.isSuperNode(e)}},{key:"isScopeHoistingFunctionDeclaration",value:function(e){if(!b.NodeGuards.isFunctionDeclarationNode(e))return!1;var t=S.NodeStatementUtils.getScopeOfNode(e),r=b.NodeGuards.isSwitchCaseNode(t)?t.consequent:t.body,n=r.indexOf(e);if(0===n)return!1;var o=r.slice(0,n),a=_.NodeFactory.blockStatementNode(o),i=e.id.name,s=!1;return m.traverse(a,{enter:function(e){if(b.NodeGuards.isIdentifierNode(e)&&e.name===i)return s=!0,m.VisitorOption.Break}}),s}},{key:"isValidCollectedBlockStatementNode",value:function(e){if(!e.body.length)return!1;var t=0,r=!0;return m.traverse(e,{enter:function(e){if(b.NodeGuards.isBlockStatementNode(e)&&t++,t>u.maxNestedBlockStatementsCount||u.isProhibitedNodeInsideCollectedBlockStatement(e)||u.isScopeHoistingFunctionDeclaration(e))return r=!1,m.VisitorOption.Break}}),r}},{key:"isValidWrappedBlockStatementNode",value:function(e){if(!e.body.length)return!1;var t=!0;return m.traverse(e,{enter:function(e){if(u.isScopeHoistingFunctionDeclaration(e))return t=!1,m.VisitorOption.Break}}),!!t&&S.NodeStatementUtils.getParentNodeWithStatements(e).type!==v.NodeType.Program}}]),t}(h.AbstractNodeTransformer);C.deadCodeInjectionRootAstHostNodeName="deadCodeInjectionRootAstHostNode",C.maxNestedBlockStatementsCount=4,C.minCollectedBlockStatementsCount=5,C.transformersToRenameBlockScopeIdentifiers=[N.NodeTransformer.CatchClauseTransformer,N.NodeTransformer.ClassDeclarationTransformer,N.NodeTransformer.FunctionDeclarationTransformer,N.NodeTransformer.FunctionTransformer,N.NodeTransformer.LabeledStatementTransformer,N.NodeTransformer.VariableDeclarationTransformer],C=u=l.__decorate([f.injectable(),l.__param(0,f.inject(p.ServiceIdentifiers.Factory__IDeadCodeInjectionCustomNode)),l.__param(1,f.inject(p.ServiceIdentifiers.ITransformersRunner)),l.__param(2,f.inject(p.ServiceIdentifiers.IRandomGenerator)),l.__param(3,f.inject(p.ServiceIdentifiers.IOptions)),l.__metadata("design:paramtypes",[Function,Object,Object,Object])],C),t.DeadCodeInjectionTransformer=C},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3)),i=n(r(8)),s=n(r(7)),c=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var d,u=r(4),l=r(2),f=r(5),p=r(22),m=r(49),g=r(9),N=d=function(e){function t(e,r,n){return(0,o.default)(this,t),(0,i.default)(this,(0,s.default)(t).call(this,e,r,n))}return(0,c.default)(t,e),(0,a.default)(t,[{key:"replace",value:function(e,t,r){var n=e.callee;if(!g.NodeGuards.isIdentifierNode(n))return e;var o=String(e.arguments.length),a=this.controlFlowCustomNodeFactory(p.ControlFlowCustomNode.CallExpressionFunctionNode),i=e.arguments;a.initialize(i);var s=this.insertCustomNodeToControlFlowStorage(a,r,o,d.usingExistingIdentifierChance);return this.getControlFlowStorageCallNode(r.getStorageId(),s,n,i)}},{key:"getControlFlowStorageCallNode",value:function(e,t,r,n){var o=this.controlFlowCustomNodeFactory(p.ControlFlowCustomNode.CallExpressionControlFlowStorageCallNode);o.initialize(e,t,r,n);var a=o.getNode()[0];if(!a||!g.NodeGuards.isExpressionStatementNode(a))throw new Error("`controlFlowStorageCallCustomNode.getNode()[0]` should returns array with `ExpressionStatement` node");return a.expression}}]),t}(m.AbstractControlFlowReplacer);N.usingExistingIdentifierChance=.5,N=d=u.__decorate([l.injectable(),u.__param(0,l.inject(f.ServiceIdentifiers.Factory__IControlFlowCustomNode)),u.__param(1,l.inject(f.ServiceIdentifiers.IRandomGenerator)),u.__param(2,l.inject(f.ServiceIdentifiers.IOptions)),u.__metadata("design:paramtypes",[Function,Object,Object])],N),t.CallExpressionControlFlowReplacer=N},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3)),i=n(r(8)),s=n(r(7)),c=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var d,u=r(4),l=r(2),f=r(5),p=u.__importStar(r(18)),m=r(22),g=r(13),N=r(14),v=r(9),y=r(11),h=d=function(e){function t(e,r,n,a){var c;return(0,o.default)(this,t),(c=(0,i.default)(this,(0,s.default)(t).call(this,n,a))).controlFlowCustomNodeFactory=e,c.arrayUtils=r,c}return(0,c.default)(t,e),(0,a.default)(t,[{key:"getVisitor",value:function(e){var t=this;switch(e){case g.TransformationStage.ControlFlowFlattening:return{leave:function(e,r){if(r&&v.NodeGuards.isBlockStatementNode(e))return t.transformNode(e,r)}};default:return null}}},{key:"transformNode",value:function(e,t){if(this.randomGenerator.getMathRandom()>this.options.controlFlowFlatteningThreshold||!d.canTransformBlockStatementNode(e))return e;var r=e.body,n=this.arrayUtils.createWithRange(r.length),o=this.arrayUtils.shuffle(n),a=n.map(function(e){return o.indexOf(e)}),i=this.controlFlowCustomNodeFactory(m.ControlFlowCustomNode.BlockStatementControlFlowFlatteningNode);i.initialize(r,o,a);var s=i.getNode()[0];return y.NodeUtils.parentizeNode(s,t),s}}],[{key:"isProhibitedStatementNode",value:function(e){var t=v.NodeGuards.isBreakStatementNode(e)||v.NodeGuards.isContinueStatementNode(e),r=v.NodeGuards.isVariableDeclarationNode(e)&&("const"===e.kind||"let"===e.kind),n=v.NodeGuards.isClassDeclarationNode(e);return v.NodeGuards.isFunctionDeclarationNode(e)||t||r||n}},{key:"canTransformBlockStatementNode",value:function(e){var t=!0;return p.traverse(e,{enter:function(e){if(v.NodeGuards.isWhileStatementNode(e))return p.VisitorOption.Skip;d.isProhibitedStatementNode(e)&&(t=!1)}}),e.body.length<=4&&(t=!1),t}}]),t}(N.AbstractNodeTransformer);h=d=u.__decorate([l.injectable(),u.__param(0,l.inject(f.ServiceIdentifiers.Factory__IControlFlowCustomNode)),u.__param(1,l.inject(f.ServiceIdentifiers.IArrayUtils)),u.__param(2,l.inject(f.ServiceIdentifiers.IRandomGenerator)),u.__param(3,l.inject(f.ServiceIdentifiers.IOptions)),u.__metadata("design:paramtypes",[Function,Object,Object,Object])],h),t.BlockStatementControlFlowTransformer=h},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3)),i=n(r(8)),s=n(r(7)),c=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var d,u=r(4),l=r(2),f=r(5),p=r(22),m=r(65),g=d=function(e){function t(e,r,n){return(0,o.default)(this,t),(0,i.default)(this,(0,s.default)(t).call(this,e,r,n))}return(0,c.default)(t,e),(0,a.default)(t,[{key:"replace",value:function(e,t,r){var n=e.operator,o=this.controlFlowCustomNodeFactory(p.ControlFlowCustomNode.BinaryExpressionFunctionNode);o.initialize(n);var a=this.insertCustomNodeToControlFlowStorage(o,r,n,d.usingExistingIdentifierChance);return this.getControlFlowStorageCallNode(r.getStorageId(),a,e.left,e.right)}}]),t}(m.ExpressionWithOperatorControlFlowReplacer);g.usingExistingIdentifierChance=.5,g=d=u.__decorate([l.injectable(),u.__param(0,l.inject(f.ServiceIdentifiers.Factory__IControlFlowCustomNode)),u.__param(1,l.inject(f.ServiceIdentifiers.IRandomGenerator)),u.__param(2,l.inject(f.ServiceIdentifiers.IOptions)),u.__metadata("design:paramtypes",[Function,Object,Object])],g),t.BinaryExpressionControlFlowReplacer=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(24),o=r(2),a=r(5),i=r(66),s=r(34),c=r(204),d=r(203),u=r(202),l=r(201),f=r(200),p=r(199),m=r(198);t.controlFlowTransformersModule=new o.ContainerModule(function(e){e(a.ServiceIdentifiers.INodeTransformer).to(d.BlockStatementControlFlowTransformer).whenTargetNamed(s.NodeTransformer.BlockStatementControlFlowTransformer),e(a.ServiceIdentifiers.INodeTransformer).to(l.DeadCodeInjectionTransformer).whenTargetNamed(s.NodeTransformer.DeadCodeInjectionTransformer),e(a.ServiceIdentifiers.INodeTransformer).to(f.FunctionControlFlowTransformer).whenTargetNamed(s.NodeTransformer.FunctionControlFlowTransformer),e(a.ServiceIdentifiers.IControlFlowReplacer).to(c.BinaryExpressionControlFlowReplacer).whenTargetNamed(i.ControlFlowReplacer.BinaryExpressionControlFlowReplacer),e(a.ServiceIdentifiers.IControlFlowReplacer).to(u.CallExpressionControlFlowReplacer).whenTargetNamed(i.ControlFlowReplacer.CallExpressionControlFlowReplacer),e(a.ServiceIdentifiers.IControlFlowReplacer).to(p.LogicalExpressionControlFlowReplacer).whenTargetNamed(i.ControlFlowReplacer.LogicalExpressionControlFlowReplacer),e(a.ServiceIdentifiers.IControlFlowReplacer).to(m.StringLiteralControlFlowReplacer).whenTargetNamed(i.ControlFlowReplacer.StringLiteralControlFlowReplacer),e(a.ServiceIdentifiers.Factory__IControlFlowReplacer).toFactory(n.InversifyContainerFacade.getCacheFactory(a.ServiceIdentifiers.IControlFlowReplacer))})},function(e,t,r){"use strict";var n=r(0),o=n(r(12)),a=n(r(1)),i=n(r(3));Object.defineProperty(t,"__esModule",{value:!0});var s,c=r(4),d=r(2),u=r(5),l=c.__importStar(r(18)),f=r(67),p=r(9),m=r(29),g=s=function(){function e(t){(0,a.default)(this,e),this.calleeDataExtractorFactory=t}return(0,i.default)(e,[{key:"analyze",value:function(e){return this.analyzeRecursive(e.body)}},{key:"analyzeRecursive",value:function(e){for(var t=this,r=s.getLimitIndex(e.length),n=[],o=e.length,a=function(o){if(o>r)return"break";var a=e[o];l.traverse(a,{enter:function(r){if(p.NodeGuards.isCallExpressionNode(r))return a.parentNode!==m.NodeStatementUtils.getParentNodeWithStatements(r)?l.VisitorOption.Skip:void t.analyzeCallExpressionNode(n,e,r)}})},i=0;i<o;i++){if("break"===a(i))break}return n}},{key:"analyzeCallExpressionNode",value:function(e,t,r){var n=this;s.calleeDataExtractorsList.forEach(function(a){var i=n.calleeDataExtractorFactory(a).extract(t,r.callee);i&&e.push((0,o.default)({},i,{stackTrace:n.analyzeRecursive(i.callee.body)}))})}}],[{key:"getLimitIndex",value:function(e){var t=e-1,r=s.limitThresholdActivationLength-1,n=t;return t>r&&(n=Math.round(r+t*s.limitThreshold))>t&&(n=t),n}}]),e}();g.calleeDataExtractorsList=[f.CalleeDataExtractor.FunctionDeclarationCalleeDataExtractor,f.CalleeDataExtractor.FunctionExpressionCalleeDataExtractor,f.CalleeDataExtractor.ObjectExpressionCalleeDataExtractor],g.limitThresholdActivationLength=25,g.limitThreshold=.002,g=s=c.__decorate([d.injectable(),c.__param(0,d.inject(u.ServiceIdentifiers.Factory__ICalleeDataExtractor)),c.__metadata("design:paramtypes",[Function])],g),t.StackTraceAnalyzer=g},function(e,t,r){"use strict";var n=r(0),o=n(r(46)),a=n(r(1)),i=n(r(3)),s=n(r(8)),c=n(r(7)),d=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var u,l=r(4),f=r(2),p=l.__importStar(r(18)),m=r(50),g=r(9),N=r(29),v=u=function(e){function t(){return(0,a.default)(this,t),(0,s.default)(this,(0,c.default)(t).apply(this,arguments))}return(0,d.default)(t,e),(0,i.default)(t,[{key:"extract",value:function(e,t){if(!g.NodeGuards.isMemberExpressionNode(t))return null;var r=this.createObjectMembersCallsChain([],t);if(!r.length)return null;var n=r[r.length-1],o=this.getCalleeBlockStatement(N.NodeStatementUtils.getParentNodeWithStatements(e[0]),r);return o?{callee:o,name:n}:null}},{key:"createObjectMembersCallsChain",value:function(e,t){if(g.NodeGuards.isIdentifierNode(t.property)&&!1===t.computed)e.unshift(t.property.name);else{if(!g.NodeGuards.isLiteralNode(t.property)||"string"!=typeof t.property.value&&"number"!=typeof t.property.value)return e;e.unshift(t.property.value)}return g.NodeGuards.isMemberExpressionNode(t.object)?this.createObjectMembersCallsChain(e,t.object):(g.NodeGuards.isIdentifierNode(t.object)&&e.unshift(t.object.name),e)}},{key:"getCalleeBlockStatement",value:function(e,t){var r=this,n=t.shift();if(!n)return null;var o=null;return p.traverse(e,{enter:function(e){if(g.NodeGuards.isVariableDeclaratorNode(e)&&g.NodeGuards.isIdentifierNode(e.id)&&e.init&&g.NodeGuards.isObjectExpressionNode(e.init)&&e.id.name===n)return o=r.findCalleeBlockStatement(e.init.properties,t),p.VisitorOption.Break}}),o}},{key:"findCalleeBlockStatement",value:function(e,t){var r=t.shift();if(!r)return null;var n=!0,a=!1,i=void 0;try{for(var s,c=(0,o.default)(e);!(n=(s=c.next()).done);n=!0){var d=s.value;if(u.isValidTargetPropertyNode(d,r)){if(g.NodeGuards.isObjectExpressionNode(d.value))return this.findCalleeBlockStatement(d.value.properties,t);if(g.NodeGuards.isFunctionExpressionNode(d.value))return d.value.body}}}catch(e){a=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw i}}return null}}],[{key:"isValidTargetPropertyNode",value:function(e,t){if(!e.key)return!1;var r=g.NodeGuards.isIdentifierNode(e.key)&&e.key.name===t,n=g.NodeGuards.isLiteralNode(e.key)&&Boolean(e.key.value)&&e.key.value===t;return r||n}}]),t}(m.AbstractCalleeDataExtractor);v=u=l.__decorate([f.injectable()],v),t.ObjectExpressionCalleeDataExtractor=v},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3)),i=n(r(8)),s=n(r(7)),c=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var d=r(4),u=r(2),l=d.__importStar(r(18)),f=r(50),p=r(9),m=r(29),g=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,a.default)(t,[{key:"extract",value:function(e,t){var r=null;return p.NodeGuards.isIdentifierNode(t)&&(r=this.getCalleeBlockStatement(m.NodeStatementUtils.getParentNodeWithStatements(e[0]),t.name)),p.NodeGuards.isFunctionExpressionNode(t)&&(r=t.body),r?{callee:r,name:t.name||null}:null}},{key:"getCalleeBlockStatement",value:function(e,t){var r=null;return l.traverse(e,{enter:function(e,n){if(p.NodeGuards.isFunctionExpressionNode(e)&&n&&p.NodeGuards.isVariableDeclaratorNode(n)&&p.NodeGuards.isIdentifierNode(n.id)&&n.id.name===t)return r=e.body,l.VisitorOption.Break}}),r}}]),t}(f.AbstractCalleeDataExtractor);g=d.__decorate([u.injectable()],g),t.FunctionExpressionCalleeDataExtractor=g},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3)),i=n(r(8)),s=n(r(7)),c=n(r(6));Object.defineProperty(t,"__esModule",{value:!0});var d=r(4),u=r(2),l=d.__importStar(r(18)),f=r(50),p=r(9),m=r(29),g=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,a.default)(t,[{key:"extract",value:function(e,t){if(!p.NodeGuards.isIdentifierNode(t))return null;var r=this.getCalleeBlockStatement(m.NodeStatementUtils.getParentNodeWithStatements(e[0]),t.name);return r?{callee:r,name:t.name}:null}},{key:"getCalleeBlockStatement",value:function(e,t){var r=null;return l.traverse(e,{enter:function(e){if(p.NodeGuards.isFunctionDeclarationNode(e)&&e.id.name===t)return r=e.body,l.VisitorOption.Break}}),r}}]),t}(f.AbstractCalleeDataExtractor);g=d.__decorate([u.injectable()],g),t.FunctionDeclarationCalleeDataExtractor=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(24),o=r(2),a=r(5),i=r(67),s=r(209),c=r(208),d=r(207),u=r(206);t.analyzersModule=new o.ContainerModule(function(e){e(a.ServiceIdentifiers.IStackTraceAnalyzer).to(u.StackTraceAnalyzer).inSingletonScope(),e(a.ServiceIdentifiers.ICalleeDataExtractor).to(s.FunctionDeclarationCalleeDataExtractor).whenTargetNamed(i.CalleeDataExtractor.FunctionDeclarationCalleeDataExtractor),e(a.ServiceIdentifiers.ICalleeDataExtractor).to(c.FunctionExpressionCalleeDataExtractor).whenTargetNamed(i.CalleeDataExtractor.FunctionExpressionCalleeDataExtractor),e(a.ServiceIdentifiers.ICalleeDataExtractor).to(d.ObjectExpressionCalleeDataExtractor).whenTargetNamed(i.CalleeDataExtractor.ObjectExpressionCalleeDataExtractor),e(a.ServiceIdentifiers.Factory__ICalleeDataExtractor).toFactory(n.InversifyContainerFacade.getCacheFactory(a.ServiceIdentifiers.ICalleeDataExtractor))})},function(e,t){e.exports=require("@babel/runtime/helpers/construct")},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("multimatch")},function(e,t,r){"use strict";var n=r(0),o=n(r(30)),a=n(r(1)),i=n(r(3));Object.defineProperty(t,"__esModule",{value:!0});var s=r(4),c=s.__importStar(r(212)),d=s.__importStar(r(71)),u=s.__importDefault(r(213)),l=r(68),f=r(72),p=r(69),m=function(){function e(t){(0,a.default)(this,e),this.options=t}return(0,i.default)(e,[{key:"readSourceCode",value:function(t){if(e.isFilePath(t)&&this.isValidFile(t))return this.readFile(t);if(e.isDirectoryPath(t)&&this.isValidDirectory(t))return this.readDirectoryRecursive(t);var r=e.availableInputExtensions.map(function(e){return"`".concat(e,"`")}).join(", ");throw new ReferenceError("Given input path must be a valid ".concat(r," file or directory path"))}},{key:"readDirectoryRecursive",value:function(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return c.readdirSync(t,f.JavaScriptObfuscatorCLI.encoding).forEach(function(a){var i="".concat(t,"/").concat(a);if(e.isDirectoryPath(i)&&r.isValidDirectory(i))n.push.apply(n,(0,o.default)(r.readDirectoryRecursive(i)));else if(e.isFilePath(i)&&r.isValidFile(i)){var s=r.readFile(i);n.push({filePath:i,content:s})}}),n}},{key:"readFile",value:function(t){return e.logFilePath(t),c.readFileSync(t,f.JavaScriptObfuscatorCLI.encoding)}},{key:"isValidDirectory",value:function(t){return!e.isExcludedPath(t,this.options.exclude)}},{key:"isValidFile",value:function(t){return e.availableInputExtensions.includes(d.extname(t))&&!t.includes(f.JavaScriptObfuscatorCLI.obfuscatedFilePrefix)&&!e.isExcludedPath(t,this.options.exclude)}}],[{key:"isExcludedPath",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!t.length)return!1;var r=d.basename(e),n=!!u.default([e],t).length;return t.some(function(t){return e.includes(t)||r.includes(t)})||n}},{key:"isDirectoryPath",value:function(e){try{return c.statSync(e).isDirectory()}catch(e){return!1}}},{key:"isFilePath",value:function(e){try{return c.statSync(e).isFile()}catch(e){return!1}}},{key:"logFilePath",value:function(e){var t=d.normalize(e);p.Logger.log(p.Logger.colorInfo,l.LoggingPrefix.CLI,"Obfuscating file: ".concat(t,"..."))}}]),e}();m.availableInputExtensions=[".js"],t.SourceCodeReader=m},function(e,t){function r(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id=215},function(e,t){e.exports=require("mkdirp")},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3));Object.defineProperty(t,"__esModule",{value:!0});var i=r(4),s=i.__importStar(r(212)),c=i.__importStar(r(216)),d=i.__importStar(r(71)),u=r(72),l=function(){function e(){(0,o.default)(this,e)}return(0,a.default)(e,null,[{key:"getOutputCodePath",value:function(e){return d.normalize(e).split(".").map(function(e,t){return 0===t?"".concat(e).concat(u.JavaScriptObfuscatorCLI.obfuscatedFilePrefix):e}).join(".")}},{key:"getOutputSourceMapPath",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t&&(e="".concat(e.substring(0,e.lastIndexOf("/")),"/").concat(t)),/\.js\.map$/.test(e)?/\.js$/.test(e)&&(e+=".map"):e="".concat(e.split(".")[0],".js.map"),e}},{key:"getUserConfig",value:function(e){var t;try{t=r(215)(e)}catch(r){try{t=require(e)}catch(e){throw new ReferenceError("Given config path must be a valid `.js` or `.json` file path")}}return t}},{key:"writeFile",value:function(e,t){c.sync(d.dirname(e)),s.writeFileSync(e,t,{encoding:u.JavaScriptObfuscatorCLI.encoding})}}]),e}();t.CLIUtils=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(39);t.StringArrayEncodingSanitizer=function(e){switch(e){case"true":case"1":case n.StringArrayEncoding.Base64:return!0;case n.StringArrayEncoding.Rc4:return n.StringArrayEncoding.Rc4;default:return!1}}},function(e,t,r){"use strict";var n=r(0)(r(37));Object.defineProperty(t,"__esModule",{value:!0});var o=r(40);t.SourceMapModeSanitizer=function(e){if(!(0,n.default)(o.SourceMapMode).some(function(t){return o.SourceMapMode[t]===e}))throw new ReferenceError("Invalid value of `--source-map-mode` option");return e}},function(e,t,r){"use strict";var n=r(0)(r(37));Object.defineProperty(t,"__esModule",{value:!0});var o=r(25);t.ObfuscationTargetSanitizer=function(e){if(!(0,n.default)(o.ObfuscationTarget).some(function(t){return o.ObfuscationTarget[t]===e}))throw new ReferenceError("Invalid value of `--target` option");return e}},function(e,t,r){"use strict";var n=r(0)(r(37));Object.defineProperty(t,"__esModule",{value:!0});var o=r(41);t.IdentifierNamesGeneratorSanitizer=function(e){if(!(0,n.default)(o.IdentifierNamesGenerator).some(function(t){return o.IdentifierNamesGenerator[t]===e}))throw new ReferenceError("Invalid value of `--identifier-names-generator` option");return e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BooleanSanitizer=function(e){return"true"===e||"1"===e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArraySanitizer=function(e){if(/,$/.test(e))throw new SyntaxError("Multiple <list> values should be wrapped inside quotes: --option-name 'value1, value2'");return e.split(",").map(function(e){return e.trim()})}},function(e,t){e.exports=require("commander")},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(3));Object.defineProperty(t,"__esModule",{value:!0}),r(70);var i=r(72),s=function(){function e(){(0,o.default)(this,e)}return(0,a.default)(e,null,[{key:"obfuscate",value:function(e){var t=new i.JavaScriptObfuscatorCLI(e);t.initialize(),t.run()}}]),e}();t.JavaScriptObfuscatorCLI=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(225);e.exports=n.JavaScriptObfuscatorCLI}]);
//# sourceMappingURL=index.cli.js.map